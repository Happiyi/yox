!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,r=void 0,i="true",o="slot",a="name",c="filter",s="partial",u="component",f="directive",p="transition",h="length",l="function",v="template",d="*",m="..",y="this",g=-1,x="undefined"!=typeof window?window:r,k="undefined"!=typeof document?document:r,b=function(){},$=Object.freeze({}),w=Object.freeze([]),C="";function S(t){return t!==r}function T(t){return typeof t===l}function E(t){return Array.isArray(t)}function A(t){return t!==n&&"object"==typeof t}function O(t){return"string"==typeof t}function P(t){return"number"==typeof t}function L(t){return"boolean"==typeof t}function N(t){return P(t)||O(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var j=Object.freeze({func:T,array:E,object:A,string:O,number:P,boolean:L,numeric:N});function z(t,e,n){if(T(t))return E(n)?t.apply(e,n):S(e)?t.call(e,n):S(n)?t(n):t()}var R=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=g,e}();function D(t,n,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&n(t[o],o,i)!==e;o--);else for(o=0;o<i&&n(t[o],o,i)!==e;o++);}function I(t,e){t[t.length]=e}function U(t,e){t.unshift(e)}function q(t,e,n){E(e)?D(e,function(e){n(t,e)}):n(t,e)}function M(t,e){q(t,e,I)}function W(t,e){q(t,e,U)}function _(t,n,r){var i=g;return D(t,function(t,o){if(r===e?t==n:t===n)return i=o,e}),i}function H(t){var e=t.length;if(e>0)return t[e-1]}function B(t){if(t.length>0)return t.pop()}function F(n,r,i){var o=0;return D(n,function(t,a){(i===e?t==r:t===r)&&(n.splice(a,1),o++)},t),o}function Y(t,e,n){return _(t,e,n)>=0}function K(t){return E(t)?t:z(w.slice,t)}function G(t,e){return t.join(e)}function V(t){return!E(t)||!t.length}var Z=Object.freeze({each:D,push:M,unshift:W,indexOf:_,last:H,pop:B,remove:F,has:Y,toArray:K,toObject:function(t,e,n){var r={};return D(t,function(t){r[e?t[e]:t]=n||t}),r},join:G,falsy:V}),J=/-([a-z])/gi,X=/\B([A-Z])/g,Q=/^[a-z]/,tt={},et={},nt={};function rt(t){return tt[t]||(tt[t]=t.replace(J,function(t,e){return pt(e)})),tt[t]}function it(t){return vt(t)?C:t.trim()}function ot(t,e,n){return P(n)?e===n?C:t.slice(e,n):t.slice(e)}function at(t,e,n){return t.indexOf(e,S(n)?n:0)}function ct(t,e,n){return t.lastIndexOf(e,S(n)?n:t.length)}function st(t,e){return 0===at(t,e)}function ut(t,e){return t.charAt(e||0)}function ft(t,e){return t.charCodeAt(e||0)}function pt(t){return t.toUpperCase()}function ht(t){return t.toLowerCase()}function lt(t,e){return at(t,e)>=0}function vt(t){return!O(t)||!t.length}var dt=Object.freeze({camelize:rt,hyphenate:function(t){return et[t]||(et[t]=t.replace(X,function(t,e){return"-"+ht(e)})),et[t]},capitalize:function(t){return nt[t]||(nt[t]=t.replace(Q,pt)),nt[t]},trim:it,slice:ot,indexOf:at,lastIndexOf:ct,startsWith:st,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&ct(t,e)===n},charAt:ut,codeAt:ft,upper:pt,lower:ht,has:lt,falsy:vt}),mt=".",yt=/\./g,gt=/\*/g,xt=/\*\*/g,kt={},bt={};function $t(t,e){return t===e?e.length:st(t,e+=mt)?e.length:g}function wt(t,n){for(var r=S(kt[t])?kt[t]:kt[t]=t.split(mt),i=0,o=r.length-1;i<=o&&n(r[i],i===o)!==e;i++);}function Ct(t,e){return t&&e?t+mt+e:t||e}function St(t){return lt(t,d)}function Tt(t,e){var n=bt[e];if(!n){var r=e.replace(yt,"\\.").replace(gt,"(\\w+)").replace(xt,"([.\\w]+?)");n=bt[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}function Et(t){return Object.keys(t)}function At(t,e){return t.length-e.length}function Ot(t,e){return e.length-t.length}function Pt(t,e){return Et(t).sort(e?Ot:At)}function Lt(t,n){for(var r in t)if(n(t[r],r)===e)break}function Nt(t){Lt(t,function(e,n){delete t[n]})}function jt(t,e){return Lt(e,function(e,n){t[n]=e}),t}function zt(t,e){return t&&e?jt(jt({},t),e):t||e}function Rt(t,e){var n=t;return E(t)?e?(n=[],D(t,function(t,r){n[r]=Rt(t,e)})):n=t.slice():A(t)&&(n={},Lt(t,function(t,r){n[r]=e?Rt(t,e):t})),n}var Dt={value:r};function It(t,i){return wt(i,function(i,o){if(t==n)return t=r,e;var a=t[i],c=S(a);a&&T(a.get)&&(a=a.get()),o?c?(Dt.value=a,t=Dt):t=r:t=a}),t}function Ut(t,n,r,i){wt(n,function(n,o){if(o)t[n]=r;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function qt(t,e){return S(t[e])}function Mt(t){return!A(t)||E(t)||!Et(t).length}var Wt=Object.freeze({keys:Et,sort:Pt,each:Lt,clear:Nt,extend:jt,merge:zt,copy:Rt,get:It,set:Ut,has:qt,falsy:Mt});function _t(t,e){return t!=n&&t.toString?t.toString():S(e)?e:C}var Ht=1,Bt=2,Ft=3,Yt=4,Kt=5,Gt="undefined"!=typeof console?console:n,Vt=/yox/.test(_t(b))?Ht:Ft,Zt="%c";function Jt(){if(x){var t=x.YOX_LOG_LEVEL;if(t>=Ht&&t<=Kt)return t}return Vt}function Xt(t){return"background-color:"+t+";border-radius:20px;color:#fff;font-size:10px;padding:3px 6px;"}var Qt=Object.freeze({DEBUG:Ht,INFO:Bt,WARN:Ft,ERROR:Yt,FATAL:Kt,debug:function(t,e){Gt&&Jt()<=Ht&&Gt.log(Zt+(e||"Yox debug"),Xt("#888"),t)},info:function(t,e){Gt&&Jt()<=Bt&&Gt.log(Zt+(e||"Yox info"),Xt("#2db7f5"),t)},warn:function(t,e){Gt&&Jt()<=Ft&&Gt.warn(Zt+(e||"Yox warn"),Xt("#f90"),t)},error:function(t,e){Gt&&Jt()<=Yt&&Gt.error(Zt+(e||"Yox error"),Xt("#ed4014"),t)},fatal:function(t,e){if(Jt()<=Kt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),te=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,i,o){var a=this,c=ee(a.ns,n),s=c.name,u=c.ns,f=a.listeners[s],p=t;if(f){f=Rt(f);var h=i&&i[0]instanceof R?i[0]:r;D(f,function(t,c){if(ie(u,t)&&Y(f,t)&&(!o||o(n,i,t))){h&&(h.listener=t.fn);var s=z(t.fn,t.ctx,i);return h&&(h.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&a.off(n,t.fn),h&&(s===e?h.prevent().stop():h.isStoped&&(s=e)),s===e?p=e:void 0}})}return p},n.prototype.on=function(t,e){var n=this.listeners,r=T(e)?{fn:e}:e;if(A(r)&&T(r.fn)){var i=ee(this.ns,t),o=i.name,a=i.ns;r.ns=a,M(n[o]||(n[o]=[]),r)}},n.prototype.off=function(e,n){var r=this.listeners;if(e){var i=ee(this.ns,e),o=i.name,a=i.ns,c=re(n),s=function(e,n){D(e,function(t,n){c(t)&&ie(a,t)&&e.splice(n,1)},t),e.length||delete r[n]};o?r[o]&&s(r[o],o):a&&Lt(r,s)}else this.listeners={}},n.prototype.has=function(n,r){var i=this.listeners,o=ee(this.ns,n),a=o.name,c=o.ns,s=t,u=re(r),f=function(t){return D(t,function(t){if(u(t)&&ie(c,t))return s=e}),s};return a?i[a]&&f(i[a]):c&&Lt(i,f),!s},n}();function ee(t,e){var n={name:e,ns:C};if(t){var r=at(e,".");r>=0&&(n.name=ot(e,0,r),n.ns=ot(e,r+1))}return n}function ne(e){return t}function re(t){return T(t)?function(e){return t===e.fn}:ne}function ie(e,n){var r=n.ns;return r&&e?r===e:t}function oe(t){return T(t)&&/native code/.test(_t(t))}typeof setImmediate===l&&oe(setImmediate)&&setImmediate;var ae,ce=typeof MessageChannel===l&&oe(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,se=function(){function t(){this.tasks=[]}return t.shared=function(){return ae||(ae=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;M(r,{fn:t,ctx:e}),1===r.length&&ce(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;W(r,{fn:t,ctx:e}),1===r.length&&ce(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],D(t,function(t){z(t.fn,t.ctx)}))},t}(),ue="#if",fe="else",pe="else if",he="#each",le="#partial",ve=">",de="...",me=/^!\s/,ye="$slot_",ge="children",xe=1,ke=2,be=3,$e="on",we="lazy",Ce="model",Se="event",Te="binding",Ee="o",Ae="beforeCreate",Oe="afterCreate",Pe=0;var Le="$id",Ne="$vnode",je="$loading",ze="$component",Re="$leaving";function De(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||$,c=o||$;Lt(a,function(e,n){c[n]&&e.value===c[n].value||t.attr(r,n,e.value)}),Lt(c,function(e,n){a[n]||t.removeAttr(r,n)})}}function Ie(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||$,c=o||$;Lt(a,function(e,n){c[n]&&e.value===c[n].value||t.prop(r,n,e.value)}),Lt(c,function(e,n){a[n]||t.removeProp(r,n,e.hint)})}}function Ue(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[ze]||t.node,a=e&&t.keypath!==e.keypath,c=r||$,s=i||$;Lt(c,function(n,r){var i=n.hooks,c=i.once,u=i.bind,f=i.unbind;s[r]?(c||n.value!==s[r].value||a)&&(f&&f(o,s[r],e),u(o,n,t)):u(o,n,t)}),Lt(s,function(t,n){if(!c[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function qe(t){var e=t.directives;if(e){var n=t.data[ze]||t.node;Lt(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Me(t,e){var n,i=t.data,o=t.ref,a=t.props,c=t.slots,s=t.model,u=t.context;if(t.isComponent){if(n=i[ze],e){S(s)&&(a||(a={}),a[n.$model]=s);var f=zt(a?n.checkPropTypes(a):r,c);f&&n.forceUpdate(f)}}else n=t.node;if(o){var p=u.$refs;p&&(p[o]=n)}}function We(t,e){return t.tag===e.tag&&t.key===e.key}function _e(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||$}function He(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Be(t,n){var r=(t.parent||t.context).createComponent(n,t);return t.data[ze]=r,t.data[je]=e,Me(t),Ue(t),r}function Fe(){var t={};return t[Le]=++Pe,t}function Ye(e,n){var i=n.tag,o=n.node,a=n.data,c=n.isComponent,s=n.isComment,f=n.isText,p=n.isStyle,h=n.children,l=n.text,v=n.html,d=n.context;if(!o||!a)if(a=Fe(),n.data=a,f)n.node=e.createText(l);else if(s)n.node=e.createComment(l);else if(c){var m=r;i&&d.loadComponent(i,function(t){qt(a,je)?a[je]&&(a[Ne]&&(n=a[Ne],delete a[Ne]),Xe(n,Be(n,t))):m=t}),n.node=e.createComment(u),m?Be(n,m):a[je]=t}else o=n.node=e.createElement(n.tag,n.isSvg),h?Ke(e,o,h):l?e.text(o,l,p):v&&e.html(o,v,p),De(e,n),Ie(e,n),Me(n),Ue(n)}function Ke(t,e,n,r,i,o){for(var a,c=r||0,s=S(i)?i:n.length-1;c<=s;)Ye(t,a=n[c]),Ge(t,e,a,o),c++}function Ge(t,e,n,i){var o=n.node,a=n.data,c=n.context,s=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!s){var u=r;if(n.isComponent){var f=a[ze];f&&(u=function(){Xe(n,f)})}else n.isStatic||n.isText||n.isComment||(u=function(){Xe(n)});u&&c.$observer.nextTask.prepend(u)}}function Ve(t,e,n,r,i){for(var o,a=r||0,c=S(i)?i:n.length-1;a<=c;)(o=n[a])&&Ze(t,e,o),a++}function Ze(t,e,n){var i=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{var o,a=function(){Je(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[ze]))return void a();!function(t,e,n){var i=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var a=o.leave;if(a)return void a(t.node,i[Re]=function(){i[Re]&&(n(),i[Re]=r)})}n()}(n,o,a)}}function Je(t,n){var r=n.data,i=n.children,o=n.parent,a=n.slot;if(a&&o&&o.$vnode){var c=o.get(a);if(c&&Y(c,n))return}if(n.isComponent){var s=r[ze];s?(qe(n),s.destroy()):r[je]=e}else qe(n),i&&D(i,function(e){Je(t,e)})}function Xe(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),z(n[Re]),r){var i=r.enter;if(i)return void i(t.node)}}function Qe(t,e,n){if(e!==n){var i=n.node,o=n.data;if(!We(e,n)){var a=t.parent(i);return Ye(t,e),void(a&&(Ge(t,a,e,n),Ze(t,a,n)))}if(e.node=i,e.data=o,n.isComponent&&o[je])o[Ne]=e;else if(!e.isStatic||!n.isStatic){De(t,e,n),Ie(t,e,n),Me(e,n),Ue(e,n);var c=e.text,s=e.html,u=e.children,f=e.isStyle,p=n.text,h=n.html,l=n.children;O(c)?c!==p&&t.text(i,c,f):O(s)?s!==h&&t.html(i,s,f):u&&l?u!==l&&function(t,e,n,i){for(var o,a,c=0,s=n.length-1,u=n[c],f=n[s],p=0,h=i.length-1,l=i[p],v=i[h];p<=h&&c<=s;)u?f?l?v?We(u,l)?(Qe(t,u,l),u=n[++c],l=i[++p]):We(f,v)?(Qe(t,f,v),f=n[--s],v=i[--h]):We(f,l)?(Qe(t,f,l),He(t,e,l.node,t.next(v.node)),f=n[--s],l=i[++p]):We(u,v)?(Qe(t,u,v),He(t,e,v.node,l.node),u=n[++c],v=i[--h]):(o||(o=_e(i,p,h)),S(a=u.key?o[u.key]:r)?(Qe(t,u,i[a]),i[a]=r):Ye(t,u),Ge(t,e,u,l),u=n[++c]):v=i[--h]:l=i[++p]:f=n[--s]:u=n[++c];p>h?Ke(t,e,n,c,s,n[s+1]):c>s&&Ve(t,e,i,p,h)}(t,i,u,l):u?((O(p)||O(h))&&t.text(i,C,f),Ke(t,i,u)):l?Ve(t,i,l):(O(p)||O(h))&&t.text(i,C,f)}}}function tn(t,e){return N(t)?+t:S(e)?e:0}var en=1,nn=2,rn=3,on=4,an=5,cn=6,sn=7,un=8,fn=9;function pn(t,e,n,r){return{type:an,raw:r,a:t,op:e,b:n}}function hn(t,n,i,o,a){return{type:nn,raw:t,name:n,lookup:i===e?i:r,offset:o>0?o:r,sk:S(a)?a:n}}function ln(t,n,r){var i,o;return n!==y&&n!==m||(i=e,n===m&&(o=1),n=C),r?vn(n,t):hn(t,n,i,o)}function vn(t,e){return{type:en,raw:e,value:t}}function dn(t,e){if(t[e]&&t[e].type===en)return t[e]}function mn(t,n){var i,o,a,c,s=n.length,u=0,f=C,p=[];if(s>1){if(n[0].type===nn){f=(c=n[0]).name,i=c.lookup,o=c.sk,c.offset>0&&(u+=c.offset),f&&M(p,c);for(var h=1;h<s;h++){if(a=dn(n,h)){if(a.raw===m){u+=1;continue}S(o)&&a.raw!==y&&(o=Ct(o,_t(a.value)))}else o=r;M(p,n[h])}p.length<s&&(a=dn(n=p,0))&&(f=a.value,n[0]=hn(a.raw,f,i,u))}return n.length<2?hn(t,f,i,u,o):function(t,n,i,o,a){return{type:rn,raw:t,props:n,lookup:i===e?i:r,offset:o>0?o:r,sk:a}}(t,n,i,u,o)}return n[0]}var yn={"+":{exec:function(t){return+t}},"-":{exec:function(t){return-t}},"~":{exec:function(t){return~t}},"!":{exec:function(t){return!t}},"!!":{exec:function(t){return!!t}}},gn={"*":{prec:14,exec:function(t,e){return t*e}},"/":{prec:14,exec:function(t,e){return t/e}},"%":{prec:14,exec:function(t,e){return t%e}},"+":{prec:13,exec:function(t,e){return t+e}},"-":{prec:13,exec:function(t,e){return t-e}},"<<":{prec:12,exec:function(t,e){return t<<e}},">>":{prec:12,exec:function(t,e){return t>>e}},">>>":{prec:12,exec:function(t,e){return t>>>e}},"<":{prec:11,exec:function(t,e){return t<e}},"<=":{prec:11,exec:function(t,e){return t<=e}},">":{prec:11,exec:function(t,e){return t>e}},">=":{prec:11,exec:function(t,e){return t>=e}},"==":{prec:10,exec:function(t,e){return t==e}},"!=":{prec:10,exec:function(t,e){return t!=e}},"===":{prec:10,exec:function(t,e){return t===e}},"!==":{prec:10,exec:function(t,e){return t!==e}},"&":{prec:9,exec:function(t,e){return t&e}},"^":{prec:8,exec:function(t,e){return t^e}},"|":{prec:7,exec:function(t,e){return t|e}},"&&":{prec:6,exec:function(t,e){return t&&e}},"||":{prec:5,exec:function(t,e){return t||e}},"->":{prec:0,exec:function(t,e){return t>e?function(n){for(var r=t,i=0;r>e;r--)n(r,i++)}:function(n){for(var r=t,i=0;r<e;r++)n(r,i++)}}},"=>":{prec:0,exec:function(t,e){return t>e?function(n){for(var r=t,i=0;r>=e;r--)n(r,i++)}:function(n){for(var r=t,i=0;r<=e;r++)n(r,i++)}}}};function xn(t){if(!bn[t]){var e=new kn(t);bn[t]=e.scanTernary($n)}return bn[t]}var kn=function(){function n(t){var e=t.length;this.index=g,this.end=e,this.code=$n,this.content=t,this.go()}return n.prototype.go=function(t){var e=this.index,n=this.end;(e+=t||1)>=0&&e<n?(this.code=ft(this.content,e),this.index=e):(this.code=$n,this.index=e<0?g:n)},n.prototype.skip=function(e){var n=e&&e<0;if(this.code===$n){var r=this.index;if(this.go(e),!Jn(this.code))return void this.go(r-this.index)}else if(!Jn(this.code))return;for(;t;){if(!Jn(this.code)){n&&this.go();break}this.go(e)}},n.prototype.is=function(t){return this.code===t},n.prototype.pick=function(t,e){return ot(this.content,t,S(e)?e:this.index)},n.prototype.scanToken=function(){var t,e,n=this.code,r=this.index;if(Qn(n))return this.scanTail(r,[this.scanIdentifier(r)]);if(Xn(n))return this.scanNumber(r);switch(n){case $n:return;case En:case An:return this.scanTail(r,[this.scanString(r,n)]);case wn:return this.go(),Xn(this.code)?this.scanNumber(r):this.scanPath(r);case On:return this.go(),this.scanTernary(Pn);case Ln:return this.scanTail(r,[(t=this.scanTuple(r,Nn),e=this.pick(r),{type:sn,raw:e,nodes:t})]);case jn:return this.scanObject(r)}var i=this.scanOperator(r);if(i&&yn[i]){var o=this.scanTernary();if(o){if(o.type===en){var a=o.value;if(P(a))return this.skip(g),vn(-a,this.pick(r))}return this.skip(g),function(t,e,n){return{type:on,raw:n,op:t,a:e}}(i,o,this.pick(r))}}},n.prototype.scanNumber=function(t){for(var e;Xn(e=this.code)||e===wn;)this.go();var n=this.pick(t);if(N(n))return vn(+n,n)},n.prototype.scanString=function(e,n){t:for(;t;)switch(this.go(),this.code){case Tn:this.go();break;case n:this.go();break t;case $n:break t}var r=this.pick(e);return vn(new Function("return "+r)(),r)},n.prototype.scanObject=function(n){var r,i=[],o=[],a=t;this.go();t:for(;t;)switch(this.code){case zn:this.go();break t;case $n:break t;case Dn:this.go(),a=e;break;case Cn:this.go(),a=t;break;default:if(r=this.scanTernary(),a){if(r)if(this.skip(),r.type===nn)M(i,r.name);else{if(r.type!==en)break t;M(i,r.value)}}else{if(!r)break t;this.skip(),M(o,r)}}return function(t,e,n){return{type:un,raw:n,keys:t,values:e}}(i,o,this.pick(n))},n.prototype.scanTuple=function(e,n){var r,i=[];this.go();t:for(;t;)switch(this.code){case n:this.go();break t;case $n:break t;case Cn:this.go();break;default:(r=this.scanTernary())&&(this.skip(),M(i,r))}return i},n.prototype.scanPath=function(e){for(var n,r=[];t&&(n=y,this.is(wn)&&(this.go(),n=m),M(r,ln(n,n,r.length>0)),this.is(Sn));){if(this.go(),tr(this.code))return M(r,this.scanIdentifier(this.index,t)),this.scanTail(e,r);if(!this.is(wn))break;this.go()}},n.prototype.scanTail=function(e,n){var r,i,o,a;t:for(;t;)switch(this.code){case On:n=[(i=mn(this.pick(e),n),o=this.scanTuple(this.index,Pn),a=this.pick(e),{type:fn,raw:a,name:i,args:o})];break;case wn:if(this.go(),tr(this.code)){M(n,this.scanIdentifier(this.index,t));break}break t;case Ln:if(this.go(),r=this.scanTernary(Nn)){M(n,r);break}break t;default:break t}return mn(this.pick(e),n)},n.prototype.scanIdentifier=function(t,e){for(;tr(this.code);)this.go();var n=this.pick(t);return!e&&qt(Zn,n)?vn(Zn[n].value,n):ln(n,n,e)},n.prototype.scanOperator=function(t){switch(this.code){case Mn:case Wn:case _n:case Fn:case qn:case In:this.go();break;case Un:this.go(),this.is(Vn)&&this.go();break;case Yn:this.go(),this.is(Yn)?this.go():this.is(Gn)&&(this.go(),this.is(Gn)&&this.go());break;case Hn:this.go(),this.is(Hn)&&this.go();break;case Bn:this.go(),this.is(Bn)&&this.go();break;case Gn:this.go(),this.is(Gn)?(this.go(),this.is(Gn)&&this.go()):this.is(Vn)&&this.go();break;case Kn:this.go(),(this.is(Gn)||this.is(Kn))&&this.go();break;case Vn:this.go(),this.is(Gn)?this.go():this.is(Vn)&&(this.go(),this.is(Vn)&&this.go())}if(this.index>t)return this.pick(t)},n.prototype.scanBinary=function(e){for(var n,i,o,a,c,s,u=[];t;){if(this.skip(),M(u,this.index),n=this.scanToken()){if(M(u,n),M(u,this.index),this.skip(),(o=this.scanOperator(this.index))&&(a=gn[o])){(c=u[i=u.length-4])&&(s=gn[c])&&s.prec>=a.prec&&u.splice(i-2,5,pn(u[i-2],c,u[i+2],this.pick(u[i-3],u[i+3]))),M(u,o);continue}o=r}break}for(;t;){if(!(u.length>=7))return u[1];i=u.length-4,u.splice(i-2,5,pn(u[i-2],u[i],u[i+2],this.pick(u[i-3],u[i+3])))}},n.prototype.scanTernary=function(t){this.skip();var e,n,r=this.index,i=this.scanBinary(r);return this.is(Rn)&&(this.go(),e=this.scanBinary(r),this.is(Dn)&&(this.go(),n=this.scanBinary(r)),i&&e&&n&&(this.skip(g),i=function(t,e,n,r){return{type:cn,raw:r,test:t,yes:e,no:n}}(i,e,n,this.pick(r)))),S(t)&&(this.skip(),this.is(t)&&this.go()),i},n.prototype.fatal=function(t,e){},n}(),bn={},$n=0,wn=46,Cn=44,Sn=47,Tn=92,En=39,An=34,On=40,Pn=41,Ln=91,Nn=93,jn=123,zn=125,Rn=63,Dn=58,In=43,Un=45,qn=42,Mn=47,Wn=37,_n=126,Hn=38,Bn=124,Fn=94,Yn=33,Kn=60,Gn=61,Vn=62,Zn={};function Jn(t){return t>0&&t<33||160===t}function Xn(t){return t>47&&t<58}function Qn(t){return 36===t||95===t||t>96&&t<123||t>64&&t<91}function tr(t){return Qn(t)||Xn(t)}Zn[i]={value:t},Zn.false={value:e},Zn.null={value:n},Zn[void 0]={value:r};var er=1,nr=2,rr=3,ir=4,or=5,ar=6,cr=7,sr=8,ur=9,fr=10,pr=11,hr=12,lr=13,vr={},dr={},mr={};vr[o]=vr[v]=dr.key=dr.ref=dr[o]=t,mr.if=ar,mr.each=ur,mr.partial=fr;function yr(e){return{type:nr,isStatic:t,name:e}}function gr(t,e,n,r,i){return{type:rr,ns:t,name:e,key:Ct(t,e),value:n,expr:r,children:i}}function xr(e,n,r,i,o){return{type:ir,isStatic:t,name:e,hint:n,value:r,expr:i,children:o}}function kr(e){return{type:or,text:e,isStatic:t,isLeaf:t}}var br=1,$r=2,wr=3,Cr="sk",Sr={},Tr={},Er="-",Ar=/<(\/)?([$a-z][-a-z0-9]*)/i,Or=/<!--[\s\S]*?-->/g,Pr=/^([\s\S]*?)<!--/,Lr=/-->([\s\S]*?)$/,Nr=/^\s*([-.:\w]+)(['"])?(?:=(['"]))?/,jr=/^[$A-Z]|-/,zr=/^\s*(\/)?>/,Rr="area,base,embed,track,source,param,input,col,img,br,hr".split(","),Dr="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),Ir="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),Ur="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),qr="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),Mr={};function Wr(t,e){return it(ot(t,e.length))}function _r(n){var c=Sr[n];if(c)return c;c=[];for(var s,u,f,h,l=[],v=[],d=n.length,m=0,y=0,x=0,k=0,b=br,$=[],w=[],S=function(t){var e=H(l);if(e&&e.type===er){var n=e;n.tag!==t&&Y(Rr,n.tag)&&T(n.type,n.tag)}},T=function(n,i){var o=B(l);if(o&&o.type===n){var a=o.children,c=a&&1===a.length&&a[0],u=n===er,f=n===nr,p=n===ir,h=n===rr,v=H(l);if(v&&(v.isStatic&&!o.isStatic&&(v.isStatic=e),v.isComplex||(o.isComplex||u?v.isComplex=t:s&&s!==v&&(f||p||h)&&(v.isComplex=t))),c)switch(c.type){case or:u||(f?z(o,c):p?L(o,c):h&&U(o,c));break;case hr:u?A(o,c):f?R(o,c):p&&N(o,c)}else a?h||s||(E(a),a.length||(o.children=r)):s&&(f?j(s,o):p?P(s,o):h&&I(s,o));return n===ur?q(o):n===fr?W(o):u?F(o):s&&f&&G(s,o)&&K(s,o),o}},E=function(e){var n=g,r=C,i=g,o=C;D(e,function(t,a){if(t.type===or)if(i>=0){for(r=t.text;Pr.test(r);)r=RegExp.$1,n=a;n>=0&&(r&&(e[n].text=r,n++),o&&(e[i].text=o,i--),e.splice(n,i-n+1),n=i=g)}else for(o=t.text;Lr.test(o);)o=RegExp.$1,i=a},t)},A=function(t,e){t.isComponent||t.slot||e.safe||(t.html=e.expr,t.children=r)},P=function(e,n){n.hint===be?n.value=t:Z(n)},L=function(t,e){var n=e.text;t.hint===ke?t.value=tn(n):t.hint===be?t.value=n===i||n===t.name:t.value=n,t.children=r},N=function(e,n){var i=n.expr;e.expr=i,e.children=r,i[Cr]&&(e.binding=t)},j=function(e,n){var r=n.name;G(e,n)||(e.isComponent?n.value=t:n.value=st(r,"data-")?C:r)},z=function(t,e){t.value=e.text,t.children=r},R=function(e,n){var i=n.expr;e.expr=i,e.children=r,i[Cr]&&(e.binding=t)},I=function(e,n){n.value=t},U=function(t,e){var n,i=e.text;t.ns,t.ns,t.ns,t.ns;try{n=xn(i)}catch(t){}n?(t.expr=n,t.value=n.type===en?n.value:i):t.value=i,t.children=r},q=function(t){t.children||Z(t)},W=function(t){t.children||Z(t)},F=function(t){t.isStyle&&V(t.attrs)&&(t.attrs=[xr("type",xe,"text/css")])},K=function(t,e){var n=e.name,r=e.value,i=n===a||n===o;t[n]=i?r:e,Z(e)},G=function(t,e){return dr[e.name]||t.tag===o&&e.name===a},Z=function(t,e){var n,i,o,a=H(l);(i=a?(n=s&&s===a)?a.attrs:a.children:c)&&(o=_(i,t))>=0&&(e?i[o]=e:(i.splice(o,1),a&&!i.length&&(n?delete a.attrs:a.children=r)))},J=function(n){s||S();var r=n.type,i=H(l);if(r===sr||r===cr){var o=B(v);o&&(n.prev=o,o.type!==cr&&o.type!==ar||(o.next=n,T(o.type),M(v,n)))}else M(i?s&&i.type===er?s.attrs||(s.attrs=[]):i.children||(i.children=[]):c,n),r===ar&&(s||(n.stub=t),M(v,n));n.isLeaf?i&&(i.isStatic&&!n.isStatic&&(i.isStatic=e),!i.isComplex&&n.isComplex&&(i.isComplex=t)):M(l,n)},X=function(t){(t=t.replace(/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,C))&&J(kr(t))},Q=[function(t){if(!s){var n=t.match(Ar);if(n&&0===n.index){var r=n[2];if("/"===n[1])S(r),T(er,r);else{var i=function(t,n,r){return n&&(r=e),{type:er,tag:t,isSvg:n,isStyle:"style"===t,isComponent:r,isStatic:!r&&t!==o}}(r,Y(Dr,r),jr.test(r));J(i),s=i}return n[0]}}},function(t){var e=t.match(zr);if(e)return s&&!u&&("/"===e[1]&&T(s.type,s.tag),s=r),e[0]},function(t){if(s&&!u){var e=t.match(Nr);if(e){var n=void 0,r=e[1];if(r===Ce||r===p)n=gr(rt(r),C);else if(st(r,$e+Er)){var i=Wr(r,$e+Er);n=gr(Se,rt(i))}else if(st(r,we)){var o=Wr(r,we);st(o,Er)&&(o=Wr(o,Er)),n=gr(we,o?rt(o):C)}else if(st(r,Ee+Er)){var a=Wr(r,Ee+Er);n=gr(Ee,rt(a))}else if(s.isComponent)n=yr(rt(r));else{var c=ht(r);n=vr[s.tag]||s.isSvg?yr(r):Y(Ir,c)?xr(Mr[c]||c,xe):Y(Ur,c)?xr(Mr[c]||c,ke):Y(qr,c)?xr(Mr[c]||c,be):yr(r)}return J(n),(h=e[3])?u=n:T(n.type),e[0]}}},function(t){var e,n;return u&&h?(n=t.match(Tr[h]||(Tr[h]=new RegExp(h))))?(e=ot(t,0,n.index),X(e),e+=h,u.children||J(kr(C)),T(u.type),u=r):b!==br&&X(e=t):s?e=t:(n=t.match(Ar))?(e=ot(t,0,n.index))&&X(e.replace(Or,C)):X((e=t).replace(Or,C)),e}],tt=[function(e){if(st(e,he)){var n=(e=Wr(e,he)).replace(/\s+/g,C).split(":");if(n[0]){var r=xn(it(n[0]));if(r&&!s)return function(e,n){return{type:ur,expr:e,index:n,isComplex:t}}(r,it(n[1]))}}},function(e){if(st(e,ve)&&(e=Wr(e,ve))&&!s)return{type:pr,name:e,isComplex:t,isLeaf:t}},function(e){if(st(e,le)&&(e=Wr(e,le))&&!s)return{type:fr,name:e,isComplex:t}},function(t){if(st(t,ue)){var e=xn(t=Wr(t,ue));if(e)return function(t){return{type:ar,expr:t}}(e)}},function(t){if(st(t,pe)){var e=xn(t=Wr(t,pe));if(e)return function(t){return{type:cr,expr:t}}(e)}},function(t){if(st(t,fe)&&!it(t=Wr(t,fe)))return{type:sr}},function(n){if(st(n,de)){var r=xn(n=Wr(n,de));if(r&&s&&s.isComponent)return function(e,n){return{type:lr,expr:e,binding:n,isLeaf:t}}(r,O(r[Cr])?t:e)}},function(e){if(!me.test(e)){var n=xn(e=it(e));if(n)return function(e,n){return{type:hr,expr:e,safe:n,isLeaf:t}}(n,b===$r)}}],et=function(t){for(;t;)D(Q,function(n){var r=n(t);if(r)return t=ot(t,r.length),e})},nt=function(n){if("/"===ut(n)){S();var r=ot(n,1),i=mr[r],o=e;if(i===ar){var a=B(v);a&&(i=a.type,o=t)}var c=T(i);c&&o&&function(e){for(var n,r,i,o=e;t&&(o.children&&(i||o.next&&delete o.next,r=i=t),n=o.prev);)delete o.prev,o=n;r||Z(o)}(c)}else D(tt,function(t){var r=t(n);if(r)return J(r),e})},ct=function(){return(m=k+2)<=d?(m<d&&"}"===ut(n,m)?b===wr&&(y=m+1):b===$r&&(y=m),B($),ft(k),x=at(n,"{{",y),(k=at(n,"}}",y))>=y&&(x<0||k<x)?ct():void 0):t},ft=function(t){$.length||M(w,t)};t&&(ft(y),(x=at(n,"{{",y))>=y)&&(b=$r,ft(x),!((x+=2)<d&&("{"===ut(n,x)&&(b=wr,x++),ft(x),ft(b),M($,t),x<d&&(k=at(n,"}}",x))>=x&&((y=at(n,"{{",x))<0||k<y)&&ct()))););for(var pt=0,lt=w.length;pt<lt;pt+=5)m=w[pt],(x=w[pt+1])&&et(ot(n,m,x)),x=w[pt+2],b=w[pt+3],(k=w[pt+4])?(f=it(ot(n,x,k)))&&nt(f):(b=br,et(ot(n,m)));return l.length&&S(),c.length>0&&E(c),Sr[n]=c}function Hr(t){return JSON.stringify(t)}Mr.for="htmlFor",Mr.class="className",Mr.accesskey="accessKey",Mr.style="style.cssText",Mr.novalidate="noValidate",Mr.readonly="readOnly",Mr.tabindex="tabIndex",Mr.minlength="minLength",Mr.maxlength="maxLength";var Br,Fr=[],Yr=[],Kr={},Gr="c",Vr="d",Zr="p",Jr="s",Xr=",",Qr=":",ti="+",ei="!0",ni="!1",ri=Hr(C),ii="function("+G([Gr,Vr,"e","f","g","h","i","j","k","l","m","n","o",Zr,"a","q","r","b"],Xr)+"){return ",oi="}";function ai(t){var e=[];return Lt(t,function(t,n){S(t)&&M(e,""+Hr(n)+Qr+t)}),"{"+G(e,Xr)+"}"}function ci(t,e){return t+"("+e+")"}function si(t,e){return"function("+(e||C)+"){"+(t||C)+"}"}function ui(t){return"("+t+")"}function fi(t,e,n){var r=[Hr(e)];return n&&M(r,n),ci(t,G(r,Xr))}function pi(t){return fi(Vr,t,[Jr])}function hi(t,e,n){return S(t)?Hr(t):e?fi(Gr,e):n?(Br=n.length>1,li(n)):void 0}function li(t,e){var n=t.length>1&&!e;M(Fr,n);var r=G(t.map(function(t){return Kr[t.type](t)}),n?ti:Xr);return B(Fr),r}function vi(t,e){if(t){var n=li(t,e);return t.length>1&&e?ui(n):n}}function di(n){var r=[],i=t;return D(n,function(t){S(t)?(i=e,W(r,t)):i||W(r,ni)},t),r}function mi(t,e,n,r,i){return ci(Zr,G(di([t,e,n,r,i]),Xr))}function yi(t){return t===r}Kr[er]=function(n){var i,a,c,s,u=n.tag,f=n.isComponent,p=n.isSvg,h=n.isStyle,l=n.isStatic,d=n.isComplex,m=n.name,y=n.ref,g=n.key,x=n.html,k=n.attrs,b=n.children,$={},w=[];return u===o?(s=[Hr(ye+m)],b&&M(s,si(li(b,t))),ci("a",G(s,Xr))):(M(Yr,e),k&&D(k,function(t){M(w,Kr[t.type](t))}),36===ft(u)?i=Hr(ot(u,1)):$.tag=Hr(u),p&&($.isSvg=ei),h&&($.isStyle=ei),l&&($.isStatic=ei),y&&($.ref=hi(y.value,y.expr,y.children)),g&&($.key=hi(g.value,g.expr,g.children)),x&&($.html=fi(Gr,x,[ei])),f?($.isComponent=ei,b&&(Yr[Yr.length-1]=t,c=function(e){var n={},r={},i=function(t,e){V(e)||M(r[t=ye+t]||(r[t]=[]),e)};if(D(e,function(t){if(t.type===er){var e=t;if(e.slot)return void i(e.slot,e.tag===v?e.children:[e])}i(ge,[t])}),Lt(r,function(e,r){n[r]=si(li(e,t))}),!Mt(n))return ai(n)}(b))):b&&(Br=t,Yr[Yr.length-1]=d,a=li(b,d),d?a=si(a):($.text=a,a=r)),B(Yr),mi(ai($),i,V(w)?r:si(G(w,Xr)),a,c))},Kr[nr]=function(t){var e=t.binding;return ci("g",G(di([Hr(t.name),e?ei:r,e?Hr(t.expr):r,e?r:hi(t.value,t.expr,t.children)]),Xr))},Kr[ir]=function(t){var e=t.binding;return ci("h",G(di([Hr(t.name),Hr(t.hint),e?ei:r,e?Hr(t.expr):r,e?r:hi(t.value,t.expr,t.children)]),Xr))},Kr[rr]=function(t){var e=t.ns,n=t.name,i=t.key,o=t.value,a=t.expr;if(e===we)return ci("i",G([Hr(n),Hr(o)],Xr));if(e===p)return ci("j",Hr(o));if(e===Ce)return ci("k",Hr(a));var c="n",s=[Hr(n),Hr(i),Hr(o)];return a&&(a.type===fn?(e===Se&&(c="l"),M(s,Hr(a.name.name)),V(a.args)||M(s,si("return "+("["+G(a.args.map(pi),Xr)+"]"),Jr))):e===Se?(c="m",M(s,Hr(a.raw))):e===Ee&&a.type!==en&&(M(s,r),M(s,r),M(s,si("return "+pi(a),Jr)))),ci(c,G(di(s),Xr))},Kr[lr]=function(t){return ci("o",G(di([Hr(t.expr),t.binding?ei:r]),Xr))},Kr[or]=function(t){var e=Hr(t.text);return H(Yr)&&!H(Fr)?ci("f",e):e},Kr[hr]=function(t){var e=Gr,n=[Br?ei:r];return H(Yr)&&!H(Fr)&&(e="e"),fi(e,t.expr,di(n))},Kr[ar]=function(t){return function t(e,n){var r,i,o=e.children,a=e.isComplex,c=e.next,s=fi(Gr,e.expr),u=vi(o,a);if(c?r=c.type===sr?vi(c.children,c.isComplex):t(c,n):n&&(r=mi(ai({isComment:ei,text:ri}))),S(u)||S(r)){var f=H(Fr);return f&&(S(u)||(u=ri),S(r)||(r=ri)),i=S(r)?S(u)?s+"?"+u+":"+r:"!"+s+" && "+r:s+" && "+u,f?ui(i):i}return ri}(t,t.stub)},Kr[ur]=function(t){return ci("b",G(di([si(li(t.children,t.isComplex)),Hr(t.expr),t.index?Hr(t.index):r]),Xr))},Kr[fr]=function(t){var e=Hr(t.name),n=si(li(t.children,t.isComplex));return ci("q",""+e+Xr+n)},Kr[pr]=function(t){return ci("r",""+Hr(t.name))};var gi={};function xi(t,e,n){return gi[t.type](t,e,n)}function ki(t,e,n,r){(t[e]||(t[e]={}))[n]=r}gi[en]=function(t){return t.value},gi[nn]=function(t,e){return e(t.name,t)},gi[rn]=function(t,e,n){var i,o,a=t.sk,c=t.props;if(yi(a)){(i=c[0]).type===nn?a=i.name:(a=C,o=xi(i,e,n));for(var s=1,u=c.length;s<u;s++)a=Ct(a,xi(c[s],e,n))}return S(o)?(o=It(o,a))?o.value:r:e?e(a,t):void 0},gi[on]=function(t,e,n){return yn[t.op].exec(xi(t.a,e,n))},gi[an]=function(t,e,n){return gn[t.op].exec(xi(t.a,e,n),xi(t.b,e,n))},gi[cn]=function(t,e,n){return xi(t.test,e,n)?xi(t.yes,e,n):xi(t.no,e,n)},gi[sn]=function(t,e,n){return t.nodes.map(function(t){return xi(t,e,n)})},gi[un]=function(t,e,n){var r={};return D(t.keys,function(i,o){r[i]=xi(t.values[o],e,n)}),r},gi[fn]=function(t,e,n){return z(xi(t.name,e,n),n,t.args.map(function(t){return xi(t,e,n)}))};var bi=function(){function e(e,n,r,i,o,a,c){var s=this;s.keypath=e,s.cache=r,s.deps=i,s.context=o.context,s.observer=o,s.getter=a,s.setter=c,s.unique={},s.watcher=function(n,r,i){var a=s.value,c=s.get(t);c!==a&&o.diff(e,c,a)},s.watcherOptions={sync:n,watcher:s.watcher},(s.fixed=!V(i))&&D(i,function(t){o.watch(t,s.watcherOptions)})}return e.build=function(n,r,i){var o,a,c=t,s=t,u=[];if(T(i)?o=i:A(i)&&(L(i.cache)&&(c=i.cache),L(i.sync)&&(s=i.sync),E(i.deps)&&(u=Rt(i.deps)),T(i.get)&&(o=i.get),T(i.set)&&(a=i.set)),o)return new e(n,s,c,u,r,o,a)},e.prototype.get=function(t){var n=this.getter,r=this.context;if(this.cache){if(t||!qt(this,"value"))if(this.fixed)this.value=z(n,r);else{this.unbind();var i=e.current;e.current=this,this.value=z(n,r),this.bind(),e.current=i}}else this.value=z(n,r);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Lt(t,function(t,i){M(e,i),n.watch(i,r)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,r=this.watcher;D(e,function(t){n.unwatch(t,r)},t),e.length=0},e}();function $i(t,n){var r;return D(t,function(t){var i=$t(n,t);if(i>=0)return r={name:t,prop:ot(n,i)},e}),r}function wi(t,e){if(t==n||e===C)return t;var r=It(t,e);return r?r.value:void 0}function Ci(e,n,i,o,a){var c=function(t,n,r){if(n!==r){var i=Ct(e,t);D(o,function(t){S(Tt(i,t))&&a(t,i,n,r)}),Ci(i,n,r,o,a)}};(function(e,n,i){var o=O(e),a=O(n);if(o||a)return i(h,o?e.length:r,a?n.length:r),t})(n,i,c)||function(e,n,i){var o=E(e),a=E(n);if(o||a){var c=o?e.length:r,s=a?n.length:r;i(h,c,s);for(var u=0,f=Math.max(c||0,s||0);u<f;u++)i(""+u,e?e[u]:r,n?n[u]:r);return t}}(n,i,c)||function(t,e,n){var r=A(t),i=A(e);(r||i)&&(t=r?t:$,e=i?e:$,r&&Lt(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Lt(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(n,i,c)}function Si(t,e,n,r,i,o){var a;Lt(r,function(r,c){if(St(c))S(Tt(t,c))?o(c,t,e,n):i&&(a?M(a,c):a=[c]);else{var s=$t(c,t);if(s>=0){var u=ot(c,s),f=wi(e,u),p=wi(n,u);f!==p&&o(c,c,f,p)}}}),a&&Ci(t,e,n,a,o)}function Ti(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var Ei={watcher:b};function Ai(e,n){return T(e)?(Ei.watcher=e,Ei.immediate=n===t,Ei):e&&e.watcher?e:void 0}var Oi=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new se,this.syncEmitter=new te,this.asyncEmitter=new te,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var r,i,o=bi.current,a=this.data,c=this.computed,s=this.reversedComputedKeys;if(t===C)return a;if(o&&!n&&o.add(t),c){if(i=c[t])return i.get();if(s){var u=$i(s,t);u&&u.prop&&(r=It(c[u.name].get(),u.prop))}}return r||(r=It(a,t)),r?r.value:e},n.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var c;if(i&&((c=i[e])&&c.set(t),o)){var s=$i(o,e);if(s&&s.prop&&(c=i[s.name])){var u=c.get();A(u)&&Ut(u,s.prop,t)}}c||Ut(r,e,t),n.diff(e,t,a)}};O(t)?a(e,t):A(t)&&Lt(t,a)},n.prototype.diff=function(e,n,i){var o=this,a=o.syncEmitter,c=o.asyncEmitter,s=o.asyncChanges,u=36!==ft(e);Si(e,n,i,a.listeners,u,function(t,e,n,r){a.fire(t,[n,r,e])}),Si(e,n,i,c.listeners,u,function(e,n,i,a){D(c.listeners[e],function(t){t.count++});var u=(s[n]||(s[n]={value:a,keypaths:[]})).keypaths;Y(u,e)||M(u,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Lt(n,function(n,r){var i=[t.get(r),n.value,r];D(n.keypaths,function(t){e.fire(t,i,Ti)})})},n.prototype.addComputed=function(e,n){var r=bi.build(e,this,n);if(r)return this.computed||(this.computed={}),this.computed[e]=r,this.reversedComputedKeys=Pt(this.computed,t),r},n.prototype.removeComputed=function(e){var n=this.computed;n&&qt(n,e)&&(delete n[e],this.reversedComputedKeys=Pt(n,t))},n.prototype.watch=function(t,e,n){var i=this,o=i.context,a=i.syncEmitter,c=i.asyncEmitter,s=function(t,e){var n=e.sync?a:c,s={fn:e.watcher,ctx:o,count:0};e.once&&(s.max=1),n.on(t,s),e.immediate&&z(e.watcher,o,[i.get(t),r,t])};O(t)?s(t,Ai(e,n)):Lt(t,function(t,e){s(e,Ai(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var r=tn(this.get(t),0)+(e||1);if(!P(n)||r<=n)return this.set(t,r),r},n.prototype.decrease=function(t,e,n){var r=tn(this.get(t),0)-(e||1);if(!P(n)||r>=n)return this.set(t,r),r},n.prototype.insert=function(n,r,i){var o=this.get(n),a=(o=E(o)?Rt(o):[]).length;if(i===t||i===a)o.push(r);else if(i===e||0===i)o.unshift(r);else{if(!(i>0&&i<a))return;o.splice(i,0,r)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var r=this.get(e);if(E(r)&&n>=0&&n<r.length)return(r=Rt(r)).splice(n,1),this.set(e,r),t},n.prototype.remove=function(e,n){var r=this.get(e);if(E(r)&&F(r=Rt(r),n))return this.set(e,r),t},n.prototype.copy=function(t,e){return Rt(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Nt(this)},n}(),Pi=function(t,n,r){t.addEventListener(n,r,e)},Li=function(t,n,r){t.removeEventListener(n,r,e)},Ni=function(t,e){t.classList.add(e)},ji=function(t,e){t.classList.remove(e)};k&&(k.documentElement.classList||(Ni=function(t,e){var n=t.className.split(zi);Y(n,e)||(M(n,e),t.className=G(n,zi))},ji=function(t,e){var n=t.className.split(zi);F(n,e)&&(t.className=G(n,zi))}));var zi=" ",Ri={svg:"http://www.w3.org/2000/svg"},Di={},Ii={createElement:function(t,e){return e?k.createElementNS(Ri.svg,t):k.createElement(t)},createText:function(t){return k.createTextNode(t)},createComment:function(t){return k.createComment(t)},prop:function(t,n,r){if(S(r))Ut(t,n,r,e);else{var i=It(t,n);if(i)return i.value}},removeProp:function(t,n,r){Ut(t,n,r===be?e:C,e)},attr:function(t,e,r){if(S(r))t.setAttribute(e,r);else{var i=t.getAttribute(e);if(i!=n)return i}},removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:function(t,e){t.appendChild(e)},replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:function(t){var e=k.querySelector(t);if(e)return e},tag:function(t){if(1===t.nodeType)return ht(t.tagName)},text:function(t,e,n){if(!S(e))return t.textContent;t.textContent=e},html:function(t,e,n){if(!S(e))return t.innerHTML;t.innerHTML=e},addClass:Ni,removeClass:ji,on:function(t,e,n){var r=t.$emitter||(t.$emitter=new te),i=r.nativeListeners||(r.nativeListeners={});if(!i[e]){var o=Di[e],a=function(t){var n=t instanceof R?t:new R(t.type,function(t,e){return t}(t));n.type!==e&&(n.type=e),r.fire(e,[n])};i[e]=a,o?o.on(t,a):Pi(t,e,a)}r.on(e,n)},off:function(t,e,n){var i=t.$emitter,o=i.listeners,a=i.nativeListeners;if(i.off(e,n),a&&!i.has(e)){var c=Di[e],s=a[e];c?c.off(t,s):Li(t,e,s),delete a[e]}Mt(o)&&(t.$emitter=r)},addSpecialEvent:function(t,e){Di[t]=e}};function Ui(t,e,n){var i;return function(){if(!i){var o=K(arguments);n&&z(t,r,o),i=setTimeout(function(){i=r,n||z(t,r,o)},e)}}}Di.model={on:function(n,r){var i=e;Ii.on(n,"compositionstart",r.compositionstart=function(){i=t}),Ii.on(n,"compositionend",r.compositionend=function(t){i=e,r(t)}),Pi(n,"input",r.input=function(t){i||r(t)})},off:function(t,e){Ii.off(t,"compositionstart",e.compositionstart),Ii.off(t,"compositionend",e.compositionend),Li(t,"input",e.input),e.compositionstart=e.compositionend=e.input=r}};var qi={bind:function(e,n,r){var i=n.name,o=n.handler,a=r.lazy;if(o){if(a){var c=a[i]||a[C];c===t?i="change":c>0&&(o=Ui(o,c,"click"===i||"tap"===i))}r.isComponent?(e.on(i,o),r.data[n.key]=function(){e.off(i,o)}):(Ii.on(e,i,o),r.data[n.key]=function(){Ii.off(e,i,o)})}},unbind:function(t,e,n){z(n.data[e.key])}};function Mi(t){return S(t.value)?t.value:t.text}function Wi(e,n){return n&&n!==t?Ui(e,n):e}var _i={set:function(t,e){t.value=_t(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},Hi={set:function(t,n){D(K(t.options),t.multiple?function(t){t.selected=Y(n,Mi(t),e)}:function(r,i){if(Mi(r)==n)return t.selectedIndex=i,e})},sync:function(t,e,n){var r=K(t.options);if(t.multiple){var i=[];D(r,function(t){t.selected&&M(i,Mi(t))}),n.set(e,i)}else n.set(e,Mi(r[t.selectedIndex]))},name:"value"},Bi={radio:{set:function(t,e){t.checked=t.value===_t(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set:function(t,n){t.checked=E(n)?Y(n,t.value,e):!!n},sync:function(t,n,r){var i=r.get(n);E(i)?t.checked?r.append(n,t.value):r.removeAt(n,_(i,t.value,e)):r.set(n,t.checked)},name:"checked"}},Fi={once:t,bind:function(e,n,i){var o,a,c,s=i.context,u=i.lazy,f=i.isComponent,p=n.binding,h=u&&(u[Ce]||u[C]);if(f){var l=e,v=l.$model;o=function(t){o&&l.set(v,t)},a=Wi(function(t){s.set(p,t)},h),c=function(){l.unwatch(v,a)},l.watch(v,a)}else{var d=e,m="select"===i.tag?Hi:_i,y="change";if(m===_i){var g=e.type;Bi[g]?m=Bi[g]:h!==t&&(y="model")}o=function(t){o&&m.set(d,t)},a=Wi(function(){m.sync(d,p,s)},h),c=function(){Ii.off(d,y,a)},Ii.on(d,y,a),m.set(d,i.model)}s.watch(p,o),i.data[n.key]=function(){s.unwatch(p,o),o=r,c()}},unbind:function(t,e,n){z(n.data[e.key])}},Yi={once:t,bind:function(t,e,n){var i=e.binding,o=St(i),a=function(r,c,s){if(a){var u=o?Tt(s,i):e.name;n.isComponent?t.set(u,r):S(e.hint)?Ii.prop(t,u,r):Ii.attr(t,u,r)}};n.context.watch(i,a),n.data[e.key]=function(){n.context.unwatch(i,a),a=r}},unbind:function(t,e,n){z(n.data[e.key])}};var Ki={},Gi={},Vi={},Zi={},Ji={},Xi="$queue",Qi="$"+v,to=/^[#.][-\w+]+$/,eo=function(){function i(n){var o=this,a=n||$;z(a[Ae],o,a),o.$options=a;var h=a.data,l=a.props,v=a.computed,d=a.events,m=a.methods,y=a.watchers,g=a.extensions;g&&jt(o,g);var x=o.checkPropTypes(l||{}),k=o.$observer=new Oi(x,o);v&&Lt(v,function(t,e){k.addComputed(e,t)});var b=T(h)?z(h,o,n):h;A(b)&&Lt(b,function(t,e){x[e]=t}),m&&Lt(m,function(t,e){o[e]=t}),o.$emitter=new te(t),d&&o.on(d);var w,S,E,P=r,L=a.el,N=a.vnode,j=a.root,R=a.model,D=a.parent,I=a.replace,U=a.template,q=a.transitions,M=a.components,W=a.directives,_=a.partials,H=a.filters,B=a.slots;if(R&&(o.$model=R),B&&jt(x,B),O(U)?to.test(U)&&(P=Ii.find(U))&&(U=Ii.html(P),P=r):U=r,L){if(O(L)){var F=L;to.test(F)&&(P=Ii.find(F))}else P=L;I||Ii.append(P,P=Ii.createComment(C))}if(j&&(o.$root=j),D&&(o.$parent=D),ro(o,p,q),ro(o,u,M),ro(o,f,W),ro(o,s,_),ro(o,c,H),U){var Y=y?Rt(y):{};return Y[Qi]={sync:t,watcher:function(t){o.update(t,o.$vnode)}},k.addComputed(Qi,{sync:e,get:function(){return o.render()}}),no(o,Y),o.$template=i.compile(U),N||(w=P,S=o,E=C,N={tag:Ii.tag(w),data:Fe(),node:w,context:S,keypath:E}),void o.update(o.get(Qi),N)}no(o,y)}return i.use=function(t){t.install(i)},i.nextTick=function(t,e){se.shared().append(t,e)},i.compile=function(t,e){if(!st(t,ii)){var n=_r(t);if(r=n[0],t=ii+Kr[r.type](r)+oi,e)return t}return new Function("return "+t)();var r},i.checkProp=function(t,e,n){var r=n.type,i=n.value;if(S(t[e]));else if(S(i))return r===l?i:T(i)?i(t,e):i},i.directive=function(t,e){if(O(t)&&!e)return co(Ki,t);so(Ki,t,e)},i.transition=function(t,e){if(O(t)&&!e)return co(Gi,t);so(Gi,t,e)},i.component=function(t,e){if(O(t)&&!e)return co(Vi,t);so(Vi,t,e)},i.partial=function(t,e){if(O(t)&&!e)return co(Zi,t);so(Zi,t,e,i.compile)},i.filter=function(t,e){if(O(t)&&!e)return co(Ji,t);so(Ji,t,e)},i.prototype.addComputed=function(t,e){return this.$observer.addComputed(t,e)},i.prototype.removeComputed=function(t){this.$observer.removeComputed(t)},i.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},i.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},i.prototype.on=function(t,e){return oo(this,t,e)},i.prototype.once=function(e,n){return oo(this,e,n,t)},i.prototype.off=function(t,e){return this.$emitter.off(t,e),this},i.prototype.fire=function(e,n,r){var i,o=e instanceof R?e:new R(e),a=[o];if(o.target||(o.target=this),A(n)?M(a,n):n===t&&(r=t),i=this.$emitter.fire(o.type,a)){var c=this.$parent,s=this.$children;r?s&&(o.phase=R.PHASE_DOWNWARD,D(s,function(e){return i=e.fire(o,n,t)})):c&&(o.phase=R.PHASE_UPWARD,i=c.fire(o,n))}return i},i.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},i.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},i.prototype.loadComponent=function(t,e){if(!ao(this.$components,t,e))ao(Vi,t,e)},i.prototype.createComponent=function(e,n){var r=this.$options;(e=Rt(e)).root=this.$root||this,e.parent=this,e.vnode=n,e.replace=t;var o=n.props,a=n.slots,c=e.model||"value",s=n.model;e.model=c,S(s)&&(o||(o={}),o[c]=s),o&&(e.props=o),a&&(e.slots=a),z(r.beforeChildCreate,this,e);var u=new i(e);M(this.$children||(this.$children=[]),u);var f=u.$el;return f&&(n.node=f),z(r.afterChildCreate,this,u),u},i.prototype.directive=function(t,e){var n=this.$directives;if(O(t)&&!e)return co(n,t,i.directive);so(n||(this.$directives={}),t,e)},i.prototype.transition=function(t,e){var n=this.$transitions;if(O(t)&&!e)return co(n,t,i.transition);so(n||(this.$transitions={}),t,e)},i.prototype.component=function(t,e){var n=this.$components;if(O(t)&&!e)return co(n,t,i.component);so(n||(this.$components={}),t,e)},i.prototype.partial=function(t,e){var n=this.$partials;if(O(t)&&!e)return co(n,t,i.partial);so(n||(this.$partials={}),t,e,i.compile)},i.prototype.filter=function(t,e){var n=this.$filters;if(O(t)&&!e)return co(n,t,i.filter);so(n||(this.$filters={}),t,e)},i.prototype.forceUpdate=function(e){var n=this.$vnode,r=this.$observer,i=r.computed;if(n&&i){var o=i[Qi],a=o.get();e&&this.set(e),r.nextTask.run(),e||a!==o.get()||this.update(o.get(t),n)}},i.prototype.render=function(){var i,o,a,c,s,u,f,p,h,l,v,m,y,g,x,k,b,$,w,O,P,L,N,j,I,U,q,W,_,F,Y,K,G,V,Z;return i=this,o=this.$template,a=zt(this.$filters,Ji),c=zt(this.$partials,Zi),s=zt(this.$directives,Ki),u=zt(this.$transitions,Gi),l=[p=C,h={$keypath:p}],v=[],m={},y=function(t,o,c,s,u,f){var p=Ct(t[o],c),h=t[o+1];if(s.ak=p,yi(f)&&(f=p),S(h[c]))return h[c];if(S(h.$item)){if(h=h.$item,c===C)return h;if(h!=n&&S(h[c]))return h[c]}var l=i.get(p,y,u);if(l===y){if(s.lookup!==e&&o>1)return y(t,o-=2,c,s,u,f);var v=It(a,c);return v?v.value:(s.ak=f,r)}return l},g=function(t,e,n){var r=n||l,o=r.length;return xi(t,function(t,n){return y(r,o-2*((n.offset||0)+1),t,n,e)},i)},x=function(e,n,r,i){var o=g(r,t),a=Ct(Te,n);return ki(e,"directives",a,{ns:Te,name:n,key:a,hooks:s[Te],binding:r.ak,hint:i}),o},k=function(t,e,n){return function(o,a){var c=i[t];if(o instanceof R){var s=r;if(e){var u=H(n);u&&(u.$event=o,u.$data=a,s=z(c,i,e(n)),u.$event=u.$data=r)}else s=z(c,i,a?[o,a]:o);return s}z(c,i,e?e(n):r)}},b=function(t,e){return function(){return t(e)}},O=function(t,e){P($(t,e))},o($=function(t,e){var n=g(t);return e?_t(n):n},w=function(t,e){return g(t,r,e)},O,P=function(e){var n=H(v);if(n){var r=H(n);r&&r.isText?r.text+=e:M(n,{isText:t,text:e,context:i,keypath:p})}},L=function(t,e,n,r){e&&(r=x(f,t,n)),f.isComponent?ki(f,"props",t,r):ki(f,"nativeAttrs",t,{name:t,value:r})},N=function(t,e,n,r,i){n&&(i=x(f,t,r,e)),ki(f,"nativeProps",t,{name:t,value:i,hint:e})},j=function(t,e){ki(f,"lazy",t,e)},I=function(t){f.transition=u[t]},U=function(e){f.model=g(e,t),ki(f,"directives",Ce,{ns:Ce,name:C,key:Ce,binding:e.ak,hooks:s[Ce]})},q=function(t,e,n,r,i){ki(f,"directives",e,{ns:Se,name:t,key:e,value:n,hooks:s[Se],handler:k(r,i,l)})},W=function(t,e,n,r){var o;ki(f,"directives",e,{ns:Se,name:t,key:e,value:n,hooks:s[Se],handler:(o=r,function(t,e){o!==t.type&&(t=new R(o,t)),i.fire(t,e)})})},_=function(t,e,n,i,o,a){var c=s[t];ki(f,"directives",e,{ns:Ee,name:t,key:e,value:n,hooks:c,getter:a?b(a,l):r,handler:i?k(i,o,l):r})},F=function(t,e){var n=g(t,e);if(A(n)&&!E(n)){Lt(n,function(t,e){ki(f,"props",e,t)});var r=t.ak;if(r){var i=Ct(Te,r);ki(f,"directives",i,{ns:Te,name:C,key:i,hooks:s[Te],binding:Ct(r,d)})}}},Y=function(t,e,n,o,a){if(e){var c=i.get(e);t.tag=c}if(n&&(f=t,n(),f=r),o)v.push(t.children=[]),o(),B(v);else if(a){var s={};Lt(a,function(t,e){v.push([]),t(),s[e]=B(v)}),t.slots=s}t.context=i,t.keypath=p;var u=H(v);return u&&M(u,t),t},K=function(t,e){var n=H(v),r=i.get(t);n&&(r?D(r,function(e){M(n,e),e.slot=t,e.parent=i}):e&&e())},G=function(t,e){m[t]=e},V=function(t){if(m[t])m[t]();else{var e=c[t];e&&e($,w,O,P,L,N,j,I,U,q,W,_,F,Y,K,G,V,Z)}},Z=function(t,e,n){var r=g(e),i=e.ak,o=i||Ct(p,e.raw),a=function(e,r,a){var c=p,s=h,u=l;p=Ct(o,_t(r)),h={},M(l=Rt(l),p),M(l,h),h.$keypath=p,h.$length=a,i||(h.$item=e),n&&(h[n]=r),t(),p=c,h=s,l=u};E(r)?D(r,a):A(r)?Lt(r,a):T(r)&&r(a)})},i.prototype.update=function(t,e){var n,r=this,o=r.$vnode,a=r.$options;r.$refs={},o?(z(a.beforeUpdate,r),Qe(Ii,t,e),n=a.afterUpdate):(z(a.beforeMount,r),Qe(Ii,t,e),r.$el=t.node,n=a.afterMount),r.$vnode=t,n&&i.nextTick(function(){r.$vnode&&z(n,r)})},i.prototype.checkPropTypes=function(t){var e=this.$options.propTypes;if(e){var n=Rt(t);return Lt(e,function(e,r){var o=i.checkProp(t,r,e);S(o)&&(n[r]=o)}),n}return t},i.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,i=this.$observer;t&&z(t.$options.beforeChildDestroy,t,this),z(e.beforeDestroy,this);var o=this.$vnode;t&&t.$children&&F(t.$children,this),o&&(this.$vnode=r,function(t,e,n){if(n){var r=t.parent(e.node);r&&Ze(t,r,e)}else Je(t,e)}(Ii,o,!t)),n.off(),i.destroy(),Nt(this),z(e.afterDestroy,this),t&&z(t.$options.afterChildDestroy,t,this)},i.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},i.prototype.toggle=function(t){return this.$observer.toggle(t)},i.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},i.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},i.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},i.prototype.append=function(t,e){return this.$observer.append(t,e)},i.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},i.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},i.prototype.remove=function(t,e){return this.$observer.remove(t,e)},i.prototype.copy=function(t,e){return this.$observer.copy(t,e)},i.version="1.0.0-alpha.42",i.is=j,i.array=Z,i.object=Wt,i.string=dt,i.logger=Qt,i.Event=R,i.Emitter=te,i}();function no(t,e){e&&t.watch(e),z(t.$options[Oe],t)}function ro(t,e,n){T(n)?t[e](z(n,t)):A(n)&&t[e](n)}function io(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function oo(t,e,n,r){return O(e)?io(t,e,n,r):Lt(e,function(e,n){io(t,n,e,r)}),t}function ao(e,n,i){if(e&&e[n]){var o=e[n];if(T(o)){var a=o,c=a[Xi];c?M(c,i):(c=o[Xi]=[i],a(function(t){a[Xi]=r,e[n]=t,D(c,function(e){e(t)})}))}else i(o);return t}}function co(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function so(t,e,n,r){O(e)?t[e]=r?r(n):n:Lt(e,function(e,n){t[n]=r?r(e):e})}return eo.dom=Ii,eo.directive({event:qi,model:Fi,binding:Yi}),eo.filter({hasSlot:function(t){return S(this.get(ye+t))}}),eo});
//# sourceMappingURL=yox.min.js.map
