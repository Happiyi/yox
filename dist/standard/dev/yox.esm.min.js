const t="#if",e="else",n="else if",i="#each",o="#partial",r=">",s="...",c=/^!\s/,a="$slot_",u="children",f=1,l=2,p=3,d="on",h="lazy",m="model",g="event",v="binding",y="o",x="native",k="value",$=".hook",b="beforeCreate",w="afterCreate",C="beforeMount",S="afterMount",T="beforeUpdate",E="afterUpdate",O="beforeDestroy",A="afterDestroy",z=!0,j=!1,P=null,L=void 0,N=-1,R="true",D="slot",q="name",I="filter",_="partial",U="component",W="directive",F="transition",M="value",B="length",H="function",Y="template",K="*",G=".",V="..",Z="this",J="undefined"!=typeof window?window:L,X="undefined"!=typeof document?document:L,Q="undefined"!=typeof global?global:J,tt="tap",et="click",nt="change",it="model",ot=function(){},rt=Object.freeze({}),st=Object.freeze([]),ct="";function at(t){return t!==L}function ut(t){return t===L}function ft(t){return typeof t===H}function lt(t){return Array.isArray(t)}function pt(t){return t!==P&&"object"==typeof t}function dt(t){return"string"==typeof t}function ht(t){return"number"==typeof t}function mt(t){return"boolean"==typeof t}function gt(t){return ht(t)||dt(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var vt=Object.freeze({func:ft,array:lt,object:pt,string:dt,number:ht,boolean:mt,numeric:gt});function yt(t,e,n){if(ft(t))return lt(n)?t.apply(e,n):at(e)?t.call(e,n):at(n)?t(n):t()}class xt{constructor(t,e){this.type=t,this.phase=xt.PHASE_CURRENT,e&&(this.originalEvent=e)}preventDefault(){const t=this;if(!t.isPrevented){const{originalEvent:e}=t;e&&e.preventDefault(),t.isPrevented=z}return t}stopPropagation(){const t=this;if(!t.isStoped){const{originalEvent:e}=t;e&&e.stopPropagation(),t.isStoped=z}return t}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function kt(t,e,n){const{length:i}=t;if(i)if(n)for(let n=i-1;n>=0&&e(t[n],n)!==j;n--);else for(let n=0;n<i&&e(t[n],n)!==j;n++);}function $t(t,e){t[t.length]=e}function bt(t,e){t.unshift(e)}function wt(t,e,n){lt(e)?kt(e,function(e){n(t,e)}):n(t,e)}function Ct(t,e){wt(t,e,$t)}function St(t,e){wt(t,e,bt)}function Tt(t,e,n){let i=N;return kt(t,function(t,o){if(n===j?t==e:t===e)return i=o,j}),i}function Et(t){const{length:e}=t;if(e>0)return t[e-1]}function Ot(t){const{length:e}=t;if(e>0)return t.pop()}function At(t,e,n){let i=0;return kt(t,function(o,r){(n===j?o==e:o===e)&&(t.splice(r,1),i++)},z),i}function zt(t,e,n){return Tt(t,e,n)>=0}function jt(t){return lt(t)?t:yt(st.slice,t)}function Pt(t,e){return t.join(e)}function Lt(t){return!lt(t)||!t.length}xt.PHASE_CURRENT=0,xt.PHASE_UPWARD=1,xt.PHASE_DOWNWARD=N;var Nt=Object.freeze({each:kt,push:Ct,unshift:St,indexOf:Tt,last:Et,pop:Ot,remove:At,has:zt,toArray:jt,toObject:function(t,e,n){let i={};return kt(t,function(t){i[e?t[e]:t]=n||t}),i},join:Pt,falsy:Lt});const Rt=/-([a-z])/gi,Dt=/\B([A-Z])/g,qt=/^[a-z]/,It={},_t={},Ut={};function Wt(t){return It[t]||(It[t]=t.replace(Rt,function(t,e){return Vt(e)})),It[t]}function Ft(t){return Xt(t)?ct:t.trim()}function Mt(t,e,n){return ht(n)?e===n?ct:t.slice(e,n):t.slice(e)}function Bt(t,e,n){return t.indexOf(e,at(n)?n:0)}function Ht(t,e,n){return t.lastIndexOf(e,at(n)?n:t.length)}function Yt(t,e){return 0===Bt(t,e)}function Kt(t,e){return t.charAt(e||0)}function Gt(t,e){return t.charCodeAt(e||0)}function Vt(t){return t.toUpperCase()}function Zt(t){return t.toLowerCase()}function Jt(t,e){return Bt(t,e)>=0}function Xt(t){return!dt(t)||!t.length}var Qt=Object.freeze({camelize:Wt,hyphenate:function(t){return _t[t]||(_t[t]=t.replace(Dt,function(t,e){return"-"+Zt(e)})),_t[t]},capitalize:function(t){return Ut[t]||(Ut[t]=t.replace(qt,Vt)),Ut[t]},trim:Ft,slice:Mt,indexOf:Bt,lastIndexOf:Ht,startsWith:Yt,endsWith:function(t,e){const n=t.length-e.length;return n>=0&&Ht(t,e)===n},charAt:Kt,codeAt:Gt,upper:Vt,lower:Zt,has:Jt,falsy:Xt});const te=/\./g,ee=/\*/g,ne=/\*\*/g,ie={},oe={};function re(t,e){return t===e?e.length:Yt(t,e+=G)?e.length:N}function se(t,e){const n=at(ie[t])?ie[t]:ie[t]=t.split(G);for(let t=0,i=n.length-1;t<=i&&e(n[t],t===i)!==j;t++);}function ce(t,e){return t&&e?t+G+e:t||e}function ae(t){return Jt(t,K)}function ue(t,e){let n=oe[e];if(!n){const t=e.replace(te,"\\.").replace(ee,"(\\w+)").replace(ne,"([.\\w]+?)");n=oe[e]=new RegExp(`^${t}$`)}const i=t.match(n);if(i)return i[1]}const fe={value:L};function le(t){return Object.keys(t)}function pe(t,e){return t.length-e.length}function de(t,e){return e.length-t.length}function he(t,e){return le(t).sort(e?de:pe)}function me(t,e){for(let n in t)if(e(t[n],n)===j)break}function ge(t){me(t,function(e,n){delete t[n]})}function ve(t,e){return me(e,function(e,n){t[n]=e}),t}function ye(t,e){return t&&e?ve(ve({},t),e):t||e}function xe(t,e){let n=t;return lt(t)?e?(n=[],kt(t,function(t,i){n[i]=xe(t,e)})):n=t.slice():pt(t)&&(n={},me(t,function(t,i){n[i]=e?xe(t,e):t})),n}function ke(t,e){return se(e,function(e,n){if(t==P)return t=L,j;{let i=t[e],o=at(i);i&&ft(i.get)&&(i=i.get()),n?o?(fe.value=i,t=fe):t=L:t=i}}),t}function $e(t,e,n,i){se(e,function(e,o){if(o)t[e]=n;else if(t[e])t=t[e];else{if(!i)return j;t=t[e]={}}})}function be(t,e){return at(t[e])}function we(t){return!pt(t)||lt(t)||!le(t).length}var Ce=Object.freeze({keys:le,sort:he,each:me,clear:ge,extend:ve,merge:ye,copy:xe,get:ke,set:$e,has:be,falsy:we});function Se(t,e){return t!=P&&t.toString?t.toString():at(e)?e:ct}const Te=1,Ee=2,Oe=3,Ae=4,ze=5,je="undefined"!=typeof console?console:P,Pe=/yox/.test(Se(ot))?Te:Oe,Le=J&&/edge|msie|trident/i.test(J.navigator.userAgent)?ct:"%c",Ne=je?Le?function(t,e,n){je.log(Le+t,n,e)}:function(t,e){je.log(t,e)}:ot;function Re(){if(Q){const t=Q.YOX_LOG_LEVEL;if(t>=Te&&t<=ze)return t}return Pe}function De(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}function qe(t,e){Re()<=Te&&Ne(e||"Yox debug",t,De("#999"))}function Ie(t,e){Re()<=Ee&&Ne(e||"Yox info",t,De("#2db7f5"))}function _e(t,e){Re()<=Oe&&Ne(e||"Yox warn",t,De("#f90"))}function Ue(t,e){Re()<=Ae&&Ne(e||"Yox error",t,De("#ed4014"))}function We(t,e){if(Re()<=ze)throw new Error(`[${e||"Yox fatal"}]: ${t}`)}var Fe=Object.freeze({DEBUG:Te,INFO:Ee,WARN:Oe,ERROR:Ae,FATAL:ze,debug:qe,info:Ie,warn:_e,error:Ue,fatal:We});class Me{constructor(t){this.ns=t||j,this.listeners={}}fire(t,e,n){let i=this,o=dt(t)?i.parse(t):t,r=i.listeners[o.name],s=z;if(r){r=xe(r);const t=e&&e[0]instanceof xt?e[0]:L;kt(r,function(c){if(!Ye(o.ns,c)||!zt(r,c)||n&&!n(o,e,c))return;t&&(t.listener=c.fn);let a=yt(c.fn,c.ctx,e);return t&&(t.listener=L),c.num=c.num?c.num+1:1,c.num===c.max&&i.off(o.key,c.fn),t&&(a===j?t.prevent().stop():t.isStoped&&(a=j)),a===j?s=j:void 0})}return s}on(t,e){const n=this,{listeners:i}=n,o=ft(e)?{fn:e}:e;if(pt(o)&&ft(o.fn)){const{name:e,ns:r}=n.parse(t);o.ns=r,Ct(i[e]||(i[e]=[]),o)}else We('emitter.on(type, listener) invoke failed：\n\n"listener" is expected to be a Function or an EmitterOptions.\n')}off(t,e){const n=this,{listeners:i}=n;if(t){const{name:o,ns:r}=n.parse(t),s=He(e),c=function(t,e){kt(t,function(e,n){s(e)&&Ye(r,e)&&t.splice(n,1)},z),t.length||delete i[e]};o?i[o]&&c(i[o],o):r&&me(i,c)}else n.listeners={},arguments.length>0&&_e(`emitter.off(type) is invoked, but "type" is ${t}.`)}has(t,e){let{listeners:n}=this,{name:i,ns:o}=this.parse(t),r=z,s=He(e),c=function(t){return kt(t,function(t){if(s(t)&&Ye(o,t))return r=j}),r};return i?n[i]&&c(n[i]):o&&me(n,c),!r}parse(t){const e={key:t,name:t,ns:ct};if(this.ns){const n=Bt(t,G);n>=0&&(e.name=Mt(t,0,n),e.ns=Mt(t,n+1))}return e}}function Be(){return z}function He(t){return ft(t)?function(e){return t===e.fn}:Be}function Ye(t,e){const{ns:n}=e;return n&&t?n===t:z}function Ke(t){return ft(t)&&/native code/.test(Se(t))}let Ge;typeof setImmediate===H&&Ke(setImmediate)&&(Ge=setImmediate);var Ve=Ge=typeof MessageChannel===H&&Ke(MessageChannel)?function(t){const e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout;let Ze;class Je{static shared(){return Ze||(Ze=new Je)}constructor(){this.tasks=[]}append(t,e){const n=this,{tasks:i}=n;Ct(i,{fn:t,ctx:e}),1===i.length&&Ve(function(){n.run()})}prepend(t,e){const n=this,{tasks:i}=n;St(i,{fn:t,ctx:e}),1===i.length&&Ve(function(){n.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],kt(t,function(t){yt(t.fn,t.ctx)}))}}let Xe=0;const Qe="$id",tn="$vnode",en="$loading",nn="$component",on="$leaving";function rn(t,e,n){const{node:i,nativeAttrs:o}=e,r=n&&n.nativeAttrs;if(o||r){const e=o||rt,n=r||rt;me(e,function(e,o){n[o]&&e.value===n[o].value||t.attr(i,o,e.value)}),me(n,function(n,o){e[o]||t.removeAttr(i,o)})}}function sn(t,e,n){const{node:i,nativeProps:o}=e,r=n&&n.nativeProps;if(o||r){const e=o||rt,n=r||rt;me(e,function(e,o){n[o]&&e.value===n[o].value||t.prop(i,o,e.value)}),me(n,function(n,o){e[o]||t.removeProp(i,o,n.hint)})}}function cn(t,e){const{data:n,directives:i}=t,o=e&&e.directives;if(i||o){const r=n[nn]||t.node,s=e&&t.keypath!==e.keypath,c=i||rt,a=o||rt;me(c,function(n,i){const{once:o,bind:c,unbind:u}=n.hooks;a[i]?(o||n.value!==a[i].value||s)&&(u&&u(r,a[i],e),c(r,n,t)):c(r,n,t)}),me(a,function(t,n){if(!c[n]){const{unbind:n}=t.hooks;n&&n(r,t,e)}})}}function an(t){const{directives:e}=t;if(e){const n=t.data[nn]||t.node;me(e,function(e){const{unbind:i}=e.hooks;i&&i(n,e,t)})}}function un(t,e){let n,{data:i,ref:o,props:r,slots:s,directives:c,context:a}=t;if(t.isComponent){if(n=i[nn],e){const t=c&&c[m];t&&(r||(r={}),r[n.$model]=t.value),r&&me(r,function(t,e){n.checkProp(e,t)});const e=ye(r,s);e&&n.forceUpdate(e)}}else n=t.node;if(o){const t=a.$refs;t&&(t[o]=n)}}function fn(t,e){return t.tag===e.tag&&t.key===e.key}function ln(t,e,n){let i,o,r;for(;e<=n;)(o=t[e])&&(r=o.key)&&(i||(i={}),i[r]=e),e++;return i||rt}function pn(t,e,n,i){i?t.before(e,n,i):t.append(e,n)}function dn(t,e){const n=(t.parent||t.context).createComponent(e,t);return t.data[nn]=n,t.data[en]=j,un(t),cn(t),n}function hn(){const t={};return t[Qe]=++Xe,t}function mn(t,e){let{tag:n,node:i,data:o,isComponent:r,isComment:s,isText:c,isStyle:a,isOption:u,children:f,text:l,html:p,context:d}=e;if(!i||!o)if(o=hn(),e.data=o,c)e.node=t.createText(l);else if(s)e.node=t.createComment(l);else if(r){let i=L;n&&d.loadComponent(n,function(t){be(o,en)?o[en]&&(o[tn]&&(e=o[tn],delete o[tn]),$n(e,dn(e,t))):i=t}),e.node=t.createComment(U),i?dn(e,i):o[en]=z}else i=e.node=t.createElement(e.tag,e.isSvg),f?gn(t,i,f):l?t.text(i,l,a,u):p&&t.html(i,p,a,u),rn(t,e),sn(t,e),un(e),cn(e)}function gn(t,e,n,i,o,r){let s,c=i||0,a=at(o)?o:n.length-1;for(;c<=a;)mn(t,s=n[c]),vn(t,e,s,r),c++}function vn(t,e,n,i){const{node:o,data:r,context:s}=n,c=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!c){let t=L;if(n.isComponent){const e=r[nn];e&&(t=function(){$n(n,e)})}else n.isStatic||n.isText||n.isComment||(t=function(){$n(n)});t&&s.$observer.nextTask.prepend(t)}}function yn(t,e,n,i,o){let r,s=i||0,c=at(o)?o:n.length-1;for(;s<=c;)(r=n[s])&&xn(t,e,r),s++}function xn(t,e,n){const{node:i}=n;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{let o,r=function(){kn(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[nn]))return void r();!function(t,e,n){let{data:i,transition:o}=t;e&&!o&&(o=e.$vnode.transition);if(o){const{leave:e}=o;if(e)return void e(t.node,i[on]=function(){i[on]&&(n(),i[on]=L)})}n()}(n,o,r)}}function kn(t,e){const{data:n,children:i,parent:o,slot:r}=e;if(r&&o&&o.$vnode){const t=o.get(r);if(t&&zt(t,e))return}if(e.isComponent){const t=n[nn];t?(an(e),t.destroy()):n[en]=j}else an(e),i&&kt(i,function(e){kn(t,e)})}function $n(t,e){let{data:n,transition:i}=t;if(e&&!i&&(i=e.$vnode.transition),yt(n[on]),i){const{enter:e}=i;if(e)return void e(t.node)}}function bn(t,e,n){if(e===n)return;const{node:i,data:o}=n;if(!fn(e,n)){const o=t.parent(i);return mn(t,e),void(o&&(vn(t,o,e,n),xn(t,o,n)))}if(e.node=i,e.data=o,n.isComponent&&o[en])return void(o[tn]=e);if(e.isStatic&&n.isStatic)return;rn(t,e,n),sn(t,e,n),un(e,n),cn(e,n);const{text:r,html:s,children:c,isStyle:a,isOption:u}=e,f=n.text,l=n.html,p=n.children;dt(r)?r!==f&&t.text(i,r,a,u):dt(s)?s!==l&&t.html(i,s,a,u):c&&p?c!==p&&function(t,e,n,i){let o,r,s=0,c=n.length-1,a=n[s],u=n[c],f=0,l=i.length-1,p=i[f],d=i[l];for(;f<=l&&s<=c;)a?u?p?d?fn(a,p)?(bn(t,a,p),a=n[++s],p=i[++f]):fn(u,d)?(bn(t,u,d),u=n[--c],d=i[--l]):fn(u,p)?(bn(t,u,p),pn(t,e,p.node,t.next(d.node)),u=n[--c],p=i[++f]):fn(a,d)?(bn(t,a,d),pn(t,e,d.node,p.node),a=n[++s],d=i[--l]):(o||(o=ln(i,f,l)),at(r=a.key?o[a.key]:L)?(bn(t,a,i[r]),i[r]=L):mn(t,a),vn(t,e,a,p),a=n[++s]):d=i[--l]:p=i[++f]:u=n[--c]:a=n[++s];f>l?gn(t,e,n,s,c,n[c+1]):s>c&&yn(t,e,i,f,l)}(t,i,c,p):c?((dt(f)||dt(l))&&t.text(i,ct,a),gn(t,i,c)):p?yn(t,i,p):(dt(f)||dt(l))&&t.text(i,ct,a)}const wn=1,Cn=2,Sn=3,Tn=4,En=5,On=6,An=7,zn=8,jn=9,Pn=10,Ln=11,Nn=12,Rn=13,Dn={},qn={},In={};Dn[D]=Dn[Y]=qn.key=qn.ref=qn[D]=z,In.if=On,In.each=jn,In.partial=Pn;function _n(t){return{type:Cn,isStatic:z,name:t}}function Un(t,e,n){return{type:Sn,ns:e,name:t,key:ce(e,t),modifier:n}}function Wn(t,e,n,i,o){return{type:Tn,isStatic:z,name:t,hint:e,value:n,expr:i,children:o}}function Fn(t,e,n,i){return{type:jn,from:t,to:e,equal:n,index:i,isComplex:z}}function Mn(t){return{type:En,text:t,isStatic:z,isLeaf:z}}const Bn=/^[$A-Z]|-/,Hn=/&[#\w\d]{2,6};/,Yn="area,base,embed,track,source,param,input,col,img,br,hr".split(","),Kn="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),Gn="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),Vn="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),Zn="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),Jn={};function Xn(t){let e=zt(Kn,t),n=j;return!e&&Bn.test(t)&&(n=z),function(t,e,n,i){return{type:wn,tag:t,isSvg:e,isStyle:n,isOption:j,isComponent:i,isStatic:!i&&t!==D}}(t,e,"style"===t,n)}function Qn(t,e){return gt(t)?+t:at(e)?e:0}Jn.for="htmlFor",Jn.class="className",Jn.accesskey="accessKey",Jn.style="style.cssText",Jn.novalidate="noValidate",Jn.readonly="readOnly",Jn.tabindex="tabIndex",Jn.minlength="minLength",Jn.maxlength="maxLength";const ti=1,ei=2,ni=3,ii=4,oi=5,ri=6,si=7,ci=8,ai=9;function ui(t,e,n,i){return{type:oi,raw:i,left:t,operator:e,right:n}}function fi(t,e,n,i){return{type:ei,raw:t,name:e,lookup:n,offset:i}}function li(t,e,n,i,o,r){return{type:ni,raw:t,lead:e,keypath:n,nodes:i,lookup:o,offset:r}}function pi(t,e,n){let i=z,o=0;return e!==Z&&e!==V||(i=j,e===V&&(o=1),e=ct),n?di(e,t):fi(t,e,i,o)}function di(t,e){return{type:ti,raw:e,value:t}}function hi(t,e){let n=e.shift(),{length:i}=e,o=z,r=0;if(i>0){let i=z,s=[],c=[];if(kt(e,function(t){if(t.type===ti){const e=t;if(e.raw===V)return void(r+=1);e.raw!==Z&&Ct(s,Se(e.value))}else i=j;Ct(c,t)}),n.type===ei){const e=n;o=e.lookup,r+=e.offset;let a=e.name;a&&St(s,a),n=i?fi(a=Pt(s,G),a,o,r):li(t,n,L,c,o,r)}else n=i?li(t,n,Pt(s,G),L,o,r):li(t,n,L,c,o,r)}return n}const mi={"+":z,"-":z,"~":z,"!":z,"!!":z},gi={"*":14,"/":14,"%":14,"+":13,"-":13,"<<":12,">>":12,">>>":12,"<":11,"<=":11,">":11,">=":11,"==":10,"!=":10,"===":10,"!==":10,"&":9,"^":8,"|":7,"&&":6,"||":5};function vi(t){if(!xi[t]){const e=new yi(t);xi[t]=e.scanTernary(ki)}return xi[t]}class yi{constructor(t){const{length:e}=t;this.index=N,this.end=e,this.code=ki,this.content=t,this.go()}go(t){let e=this,{index:n,end:i}=e;(n+=t||1)>=0&&n<i?(e.code=Gt(e.content,n),e.index=n):(e.code=ki,e.index=n<0?N:i)}skip(t){const e=this,n=t&&t<0;if(e.code===ki){const n=e.index;if(e.go(t),!Vi(e.code))return void e.go(n-e.index)}else if(!Vi(e.code))return;for(;z;){if(!Vi(e.code)){n&&e.go();break}e.go(t)}}is(t){return this.code===t}pick(t,e){return Mt(this.content,t,at(e)?e:this.index)}scanToken(){const t=this,{code:e,index:n}=t;if(Ji(e))return t.scanTail(n,[t.scanIdentifier(n)]);if(Zi(e))return t.scanNumber(n);switch(e){case ki:return;case Si:case Ti:return t.scanTail(n,[t.scanString(n,e)]);case $i:return t.go(),Zi(t.code)?t.scanNumber(n):t.scanPath(n);case Ei:return t.go(),t.scanTernary(Oi);case Ai:return t.scanTail(n,[(i=t.scanTuple(n,zi),o=t.pick(n),{type:si,raw:o,nodes:i})]);case ji:return t.scanObject(n)}var i,o;const r=t.scanOperator(n);if(r&&mi[r]){const e=t.scanTernary();if(e){if(e.type===ti){const i=e.value;if(ht(i))return t.skip(N),di(-i,t.pick(n))}return t.skip(N),function(t,e,n){return{type:ii,raw:n,operator:t,node:e}}(r,e,t.pick(n))}t.fatal(n,"一元运算只有操作符没有表达式？")}}scanNumber(t){const e=this;for(;Zi(n=e.code)||n===$i;)e.go();var n;const i=e.pick(t);if(gt(i))return di(+i,i);e.fatal(t,"数字写错了知道吗？")}scanString(t,e){const n=this;t:for(;z;)switch(n.go(),n.code){case Ci:n.go();break;case e:n.go();break t;case ki:n.fatal(t,"到头了，字符串还没解析完呢？");break t}const i=n.pick(t);return di(new Function(`return ${i}`)(),i)}scanObject(t){let e,n=this,i=[],o=[],r=z;n.go();t:for(;z;)switch(n.code){case Pi:n.go(),i.length!==o.length&&n.fatal(t,"对象的 keys 和 values 的长度不一致");break t;case ki:n.fatal(t,"到头了，对象还没解析完呢？");break t;case Ni:n.go(),r=j;break;case bi:n.go(),r=z;break;default:if(e=n.scanTernary(),r){if(e)if(n.skip(),e.type===ei)Ct(i,e.name);else{if(e.type!==ti){n.fatal(t,"对象的 key 必须是字面量或标识符");break t}Ct(i,e.value)}}else{if(!e){n.fatal(t,"对象的值没找到");break t}n.skip(),Ct(o,e)}}return function(t,e,n){return{type:ci,raw:n,keys:t,values:e}}(i,o,n.pick(t))}scanTuple(t,e){let n,i=this,o=[];i.go();t:for(;z;)switch(i.code){case e:i.go();break t;case ki:i.fatal(t,"到头了，tuple 还没解析完呢？");break t;case bi:i.go();break;default:(n=i.scanTernary())&&(i.skip(),Ct(o,n))}return o}scanPath(t){let e,n=this,i=[];for(;z&&(e=Z,n.is($i)&&(n.go(),e=V),Ct(i,pi(e,e,i.length>0)),n.is(wi));){if(n.go(),Xi(n.code))return Ct(i,n.scanIdentifier(n.index,z)),n.scanTail(t,i);if(!n.is($i)){n.fatal(t,"path 写法错误");break}n.go()}}scanTail(t,e){let n,i=this;t:for(;z;)switch(i.code){case Ei:e=[(o=hi(i.pick(t),e),r=i.scanTuple(i.index,Oi),s=i.pick(t),{type:ai,raw:s,name:o,args:r})];break;case $i:if(i.go(),Xi(i.code)){Ct(e,i.scanIdentifier(i.index,z));break}i.fatal(t,". 后面跟的都是啥玩意啊");break t;case Ai:if(i.go(),n=i.scanTernary(zi)){Ct(e,n);break}i.fatal(t,"[] 内部不能为空");break t;default:break t}var o,r,s;return hi(i.pick(t),e)}scanIdentifier(t,e){const n=this;for(;Xi(n.code);)n.go();const i=n.pick(t);return!e&&i in Gi?di(Gi[i],i):pi(i,i,e)}scanOperator(t){const e=this;switch(e.code){case Ii:case _i:case Ui:case Mi:case qi:e.go();break;case Ri:e.go(),e.is(Ri)&&e.fatal(t,"不支持该语法");break;case Di:e.go(),e.is(Di)&&e.fatal(t,"不支持该语法");break;case Bi:e.go(),e.is(Bi)?e.go():e.is(Yi)&&(e.go(),e.is(Yi)&&e.go());break;case Wi:e.go(),e.is(Wi)&&e.go();break;case Fi:e.go(),e.is(Fi)&&e.go();break;case Yi:e.go(),e.is(Yi)?(e.go(),e.is(Yi)&&e.go()):e.fatal(t,"不支持一个等号这种赋值写法");break;case Hi:e.go(),(e.is(Yi)||e.is(Hi))&&e.go();break;case Ki:e.go(),e.is(Yi)?e.go():e.is(Ki)&&(e.go(),e.is(Ki)&&e.go())}if(e.index>t)return e.pick(t)}scanBinary(t){let e,n,i,o,r,s,c=this,a=[];for(;z;){if(c.skip(),Ct(a,c.index),e=c.scanToken()){if(Ct(a,e),Ct(a,c.index),c.skip(),(i=c.scanOperator(c.index))&&(o=gi[i])){(r=a[n=a.length-4])&&(s=gi[r])&&s>=o&&a.splice(n-2,5,ui(a[n-2],r,a[n+2],c.pick(a[n-3],a[n+3]))),Ct(a,i);continue}i=L}else i&&c.fatal(t,"表达式错误");break}for(;z;){if(!(a.length>=7))return a[1];n=a.length-4,a.splice(n-2,5,ui(a[n-2],a[n],a[n+2],c.pick(a[n-3],a[n+3])))}}scanTernary(t){const e=this;e.skip();let n,i,o=e.index,r=e.scanBinary(o);return e.is(Li)&&(e.go(),n=e.scanBinary(o),e.is(Ni)&&(e.go(),i=e.scanBinary(o)),r&&n&&i?(e.skip(N),r=function(t,e,n,i){return{type:ri,raw:i,test:t,yes:e,no:n}}(r,n,i,e.pick(o))):e.fatal(o,"ternary expression syntax error")),at(t)&&(e.skip(),e.is(t)?e.go():e.fatal(o,`结束字符匹配错误，期待[${String.fromCharCode(t)}]，却发现[${String.fromCharCode(e.code)}]`)),r}fatal(t,e){We(`Error compiling expression:\n${this.content}\n- ${e}`)}}const xi={},ki=0,$i=46,bi=44,wi=47,Ci=92,Si=39,Ti=34,Ei=40,Oi=41,Ai=91,zi=93,ji=123,Pi=125,Li=63,Ni=58,Ri=43,Di=45,qi=42,Ii=47,_i=37,Ui=126,Wi=38,Fi=124,Mi=94,Bi=33,Hi=60,Yi=61,Ki=62,Gi={};function Vi(t){return t>0&&t<33||160===t}function Zi(t){return t>47&&t<58}function Ji(t){return 36===t||95===t||t>96&&t<123||t>64&&t<91}function Xi(t){return Ji(t)||Zi(t)}Gi[R]=z,Gi.false=j,Gi.null=P,Gi[void 0]=L;const Qi=1,to=2,eo=3,no={},io="-",oo=/^[_$a-z]([\w]+)?$/i,ro=/^[_$a-z]([\w]+)?\.[_$a-z]([\w]+)?$/i,so=/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,co=/\s*(=>|->)\s*/,ao=/<(\/)?([$a-z][-a-z0-9]*)/i,uo=/<!--[\s\S]*?-->/g,fo=/^([\s\S]*?)<!--/,lo=/-->([\s\S]*?)$/,po=/^\s*([-.:\w]+)(['"])?(?:=(['"]))?/,ho=/^\s*(\/)?>/;function mo(t,e){return Ft(Mt(t,e.length))}function go(a){let v,k,$,b,w=[],C=[],S=[],T=a.length,E=0,O=0,A=0,P=0,I=Qi,_=[],U=[],W=function(t){We(`Error compiling ${Y}:\n${a}\n- ${t}`)},B=function(t){const e=Et(C);if(e&&e.type===wn){const i=e;i.tag!==t&&(n=i.tag,zt(Yn,n))&&H(i.type,i.tag)}var n},H=function(t,e){const n=Ot(C);if(n&&n.type===t){const{children:i}=n,o=i&&1===i.length&&i[0],r=t===wn,s=t===Cn,c=t===Tn,a=t===Sn,u=Et(C);if(u&&(u.isStatic&&!n.isStatic&&(u.isStatic=j),u.isComplex||(n.isComplex||r?u.isComplex=z:v&&v!==u&&(s||c||a)&&(u.isComplex=z))),r){const t=n;e&&t.tag!==e&&W(`结束标签是${e}，开始标签却是${t.tag}`)}if(o)switch(o.type){case En:r?Z(n,o):s?nt(n,o):c?Q(n,o):a&&rt(n,o);break;case Nn:r?J(n,o):s?it(n,o):c?tt(n,o):a&&st(n,o)}else i?a?V():v||(K(i),i.length||(n.children=L)):v&&(s?et(v,n):c?X(v,n):a&&ot(v,n));return t===jn?at(n):t===Pn?ut(n):r?ft(n):v&&(s?dt(v,n)&&pt(v,n):a&&lt(v,n)),n}W("出栈节点类型不匹配")},K=function(t){let e=N,n=ct,i=N,o=ct;kt(t,function(r,s){if(r.type===En)if(i>=0){for(n=r.text;fo.test(n);)n=RegExp.$1,e=s;e>=0&&(n&&(t[e].text=n,e++),o&&(t[i].text=o,i--),t.splice(e,i-e+1),e=i=N)}else for(o=r.text;lo.test(o);)o=RegExp.$1,i=s},z)},V=function(){W("指令的值不能用插值或 if 语法")},Z=function(t,e){(function(t,e){if(Hn.test(e))return t.html=e,z})(t,e.text)&&(t.children=L)},J=function(t,e){t.isComponent||t.slot||e.safe||(t.html=e.expr,t.children=L)},X=function(t,e){e.hint===p?e.value=z:mt(e)},Q=function(t,e){const{text:n}=e;t.hint===l?t.value=Qn(n):t.hint===p?t.value=n===R||n===t.name:t.value=n,t.children=L},tt=function(t,e){const{expr:n}=e;t.expr=n,t.children=L,n.type===ei&&(t.binding=z)},et=function(t,e){dt(t,e)?W(`${e.name} 忘了写值吧？`):e.value=function(t,e){return t.isComponent?z:Yt(e,"data-")?ct:e}(t,e.name)},nt=function(t,e){t.value=e.text,t.children=L},it=function(t,e){const{expr:n}=e;t.expr=n,t.children=L,n.type===ei&&(t.binding=z)},ot=function(t,e){e.value=z},rt=function(t,e){let n,{text:i}=e,o=t.ns===m,r=t.ns===h,s=t.ns===g,c=t.ns===y;try{n=vi(i)}catch(t){}if(n){{const{raw:e}=n;r?(n.type!==ti||!ht(n.value)||n.value<=0)&&W(`lazy 指令的值 [${e}] 必须是大于 0 的数字`):n.type===ai?n.name.type!==ei&&W("指令表达式的类型如果是函数调用，则只能调用方法"):s&&(oo.test(e)||ro.test(e)?(ro.test(e)&&e.split(G)[1]===x&&W(`事件转换名称的命名空间不能使用 ${x}`),v&&v.isComponent&&t.name===e&&W("转换组件事件的名称不能相同")):W("事件转换名称只能是 [name] 或 [name.namespace] 格式")),o&&n.type!==ei&&W(`model 指令的值格式错误: [${e}]`)}t.expr=n,t.value=n.type===ti?n.value:i}else c||W(`${t.ns} 指令的表达式错误: [${i}]`),t.value=i;t.children=L},st=function(t,e){W("指令的表达式不能用插值语法")},at=function(t){t.children||mt(t)},ut=function(t){t.children||mt(t)},ft=function(t){const{tag:e,slot:n}=t,i=e===Y;i&&(t.key?W("<template> 不支持 key"):t.ref?W("<template> 不支持 ref"):t.attrs?W("<template> 不支持属性或指令"):n||W("<template> 不写 slot 属性是几个意思？")),i&&n&&!t.children?mt(t):e!==D||t.name?function(t){let{tag:e,attrs:n}=t,i=j,o=j;n&&kt(n,function(t){const e=t.type===Tn?t.name:L;"type"===e?i=z:e===M&&(o=z)}),t.isStyle&&!i?Ct(t.attrs||(t.attrs=[]),Wn("type",f,"text/css")):"option"!==e||o||(t.isOption=z)}(t):t.name=u},lt=function(t,e){e.ns===m&&Et(C)!==t&&W("model 不能写在 if 内")},pt=function(t,e){const{name:n,value:i}=e,o=n===q||n===D;Et(C)!==t&&W(`${n} 不能写在 if 内`),i===ct?W(`${n} 的值不能是空字符串`):o&&Xt(i)&&W(`${n} 的值只能是字符串字面量`),t[n]=o?i:e,mt(e)},dt=function(t,e){return qn[e.name]||t.tag===D&&e.name===q},mt=function(t,e){let n,i,o,r=Et(C);(i=r?(n=v&&v===r)?r.attrs:r.children:w)&&(o=Tt(i,t))>=0&&(e?i[o]=e:(i.splice(o,1),r&&!i.length&&(n?delete r.attrs:r.children=L)))},gt=function(t){v||B();const e=t.type,n=Et(C);if(e===zn||e===An){const n=Ot(S);n?(t.prev=n,n.type===An||n.type===On?(n.next=t,H(n.type),Ct(S,t)):W(e===An?"else 后面不能跟 else if 啊":"只能写一个 else 啊")):W("不写 if 是几个意思")}else Ct(n?v&&n.type===wn?v.attrs||(v.attrs=[]):n.children||(n.children=[]):w,t),e===On&&(v||(t.stub=z),Ct(S,t));t.isLeaf?n&&(n.isStatic&&!t.isStatic&&(n.isStatic=j),!n.isComplex&&t.isComplex&&(n.isComplex=z)):Ct(C,t)},vt=function(t){(t=t.replace(so,ct))&&gt(Mn(t))},yt=[function(t){if(!v){const e=t.match(ao);if(e&&0===e.index){const t=e[2];if("/"===e[1])B(t),H(wn,t);else{if(t===Y){const t=Et(C);t&&t.isComponent||W("<template> 只能写在组件标签内")}const e=Xn(t);gt(e),v=e}return e[0]}}},function(t){const e=t.match(ho);if(e)return v&&!k&&("/"===e[1]&&H(v.type,v.tag),v=L),e[0]},function(t){if(v&&!k){const e=t.match(po);if(e){e[2]&&W("上一个属性似乎没有正常结束");let t,n=e[1];if(n===m||n===F)t=Un(ct,n);else if(Yt(n,d+io)){let e=mo(n,d+io);e||W("缺少事件名称");const[i,o]=Wt(e).split(G);t=Un(i,g,o)}else if(Yt(n,h)){let e=mo(n,h);Yt(e,io)&&(e=mo(e,io)),t=Un(e?Wt(e):ct,h)}else if(Yt(n,y+io)){const e=mo(n,y+io);e||W("缺少自定义指令名称");const[i,o]=Wt(e).split(G);t=Un(i,y,o)}else t=function(t,e){if(t.isComponent)return _n(Wt(e));{const n=Zt(e);return Dn[t.tag]||t.isSvg?_n(e):zt(Gn,n)?Wn(Jn[n]||n,f):zt(Vn,n)?Wn(Jn[n]||n,l):zt(Zn,n)?Wn(Jn[n]||n,p):_n(e)}}(v,n);return gt(t),(b=e[3])?k=t:H(t.type),e[0]}}},function(t){let e,n;return k&&b?(n=t.match(no[b]||(no[b]=new RegExp(b))))?(e=Mt(t,0,n.index),vt(e),e+=b,k.children||gt(Mn(ct)),H(k.type),k=L):I!==Qi?vt(e=t):W(`${k.name} 没有找到结束引号`):v?(Ft(t)&&W(`<${v.tag}> 属性里不要写乱七八糟的字符`),e=t):(n=t.match(ao))?(e=Mt(t,0,n.index))&&vt(e.replace(uo,ct)):vt((e=t).replace(uo,ct)),e}],xt=[function(t){if(Yt(t,i)){v&&W(k?"each 不能写在属性的值里":"each 不能写在属性层级");const e=(t=mo(t,i)).replace(/\s+/g,ct).split(":");if(e[0]){const t=Ft(e[0]),n=Ft(e[1]),i=t.match(co);if(i){const e=t.split(co),o=vi(e[0]),r=vi(e[2]);if(o&&r)return Fn(o,r,"=>"===Ft(i[1]),n)}else{const e=vi(t);if(e)return Fn(e,L,j,n)}}W("无效的 each")}},function(t){if(Yt(t,r)){if(t=mo(t,r)){if(!v)return{type:Ln,name:t,isComplex:z,isLeaf:z};W(k?"import 不能写在属性的值里":"import 不能写在属性层级")}W("无效的 import")}},function(t){if(Yt(t,o)){if(t=mo(t,o)){if(!v)return{type:Pn,name:t,isComplex:z};W(k?"partial 不能写在属性的值里":"partial 不能写在属性层级")}W("无效的 partial")}},function(e){if(Yt(e,t)){const n=vi(e=mo(e,t));if(n)return function(t){return{type:On,expr:t}}(n);W("无效的 if")}},function(t){if(Yt(t,n)){const e=vi(t=mo(t,n));if(e)return function(t){return{type:An,expr:t}}(e);W("无效的 else if")}},function(t){if(Yt(t,e)){if(!Ft(t=mo(t,e)))return{type:zn};W("else 后面不要写乱七八糟的东西")}},function(t){if(Yt(t,s)){const e=vi(t=mo(t,s));if(e){if(v&&v.isComponent)return function(t,e){return{type:Rn,expr:t,binding:e,isLeaf:z}}(e,e.type===ei);W("延展属性只能用于组件属性")}W("无效的 spread")}},function(t){if(!c.test(t)){const e=vi(t=Ft(t));if(e)return function(t,e){return{type:Nn,expr:t,safe:e,isLeaf:z}}(e,I===to);W("无效的 expression")}}],$t=function(t){for(;t;)kt(yt,function(e){const n=e(t);if(n)return t=Mt(t,n.length),j})},bt=function(t){if("/"===Kt(t)){B();const e=Mt(t,1);let n=In[e],i=j;if(n===On){const t=Ot(S);t?(n=t.type,i=z):W("if 还没开始就结束了？")}const o=H(n);o&&i&&function(t){let e,n,i,o=t;for(;z&&(o.children&&(i||o.next&&delete o.next,n=i=z),e=o.prev);)delete o.prev,o=e;n||mt(o)}(o)}else kt(xt,function(e){const n=e(t);if(n)return gt(n),j})},wt=function(){return(E=P+2)<=T?(E<T&&"}"===Kt(a,E)?I===eo?O=E+1:W("{{ 和 }}} 无法配对"):I===to?O=E:W("{{{ 和 }} 无法配对"),Ot(_),St(P),A=Bt(a,"{{",O),(P=Bt(a,"}}",O))>=O&&(A<0||P<A)?wt():void 0):z},St=function(t){_.length||Ct(U,t)};for(;z&&(St(O),(A=Bt(a,"{{",O))>=O);)if(I=to,St(A),(A+=2)<T)if("{"===Kt(a,A)&&(I=eo,A++),St(A),St(I),Ct(_,z),A<T)if((P=Bt(a,"}}",A))>=A){if(((O=Bt(a,"{{",A))<0||P<O)&&wt())break}else W("找不到结束定界符");else W("{{{ 后面没字符串了？");else W("{{ 后面没字符串了？");for(let t=0,e=U.length;t<e;t+=5)E=U[t],(A=U[t+1])&&$t(Mt(a,E,A)),A=U[t+2],I=U[t+3],(P=U[t+4])?($=Ft(Mt(a,A,P)))&&bt($):(I=Qi,$t(Mt(a,E)));return C.length&&(B(),C.length&&W("还有节点未出栈")),w.length>0&&K(w),w}const vo="z",yo="!0",xo=",",ko=":",$o="+",bo="&&",wo="?",Co="!",So='""',To="return ";function Eo(t){return`{${Pt(t,xo)}}`}function Oo(t){return`[${Pt(t,xo)}]`}function Ao(t,e){return`${t}(${Pt(function(t){let e=[],n=z;return kt(t,function(t){at(t)?(n=j,St(e,t)):n||St(e,vo)},z),e}(e),xo)})`}function zo(t){return JSON.stringify(t)}function jo(t,e){return`${H}(${t}){var ${vo}=void 0;${To}${e}}`}const Po=[],Lo=[],No={},Ro="a",Do="b",qo="c",Io="d",_o="e",Uo="f",Wo="g",Fo="h",Mo="i",Bo="j",Ho="k",Yo="l",Ko="m",Go="n",Vo="o",Zo="p",Jo="q",Xo="r",Qo="s",tr="t",er="u",nr="v",ir="w";let or,rr;function sr(t,e,n,i){return function t(e,n,i,o,r,s,c,a,u){let f,l=j,p=function(e){return t(e,n,i,o,r,s,c,a,z)};switch(e.type){case ti:f=zo(e.value);break;case ii:f=e.operator+p(e.node);break;case oi:f=p(e.left)+e.operator+p(e.right);break;case ri:f=p(e.test)+wo+p(e.yes)+ko+p(e.no);break;case si:f=Oo(e.nodes.map(p));break;case ci:const t=[];kt(e.keys,function(n,i){Ct(t,zo(n)+ko+p(e.values[i]))}),f=Eo(t);break;case ei:l=z;const u=e;f=Ao(n,[zo(u.name),u.lookup?yo:L,u.offset>0?zo(u.offset):L,s?yo:L,c?yo:L,a||L]);break;case ni:l=z;const{lead:d,keypath:h,nodes:m,lookup:g,offset:v}=e,y=m?m.map(p):[];f=d.type===ei?Ao(n,[Ao(i,[zo(d.name),Oo(y)]),g?yo:L,v>0?zo(v):L,s?yo:L,c?yo:L,a||L]):Ao(o,m?[p(d),L,Oo(y),s?yo:L]:[p(d),zo(h),L,s?yo:L]);break;default:l=z;const{args:x}=e;f=Ao(r,[p(e.name),x.length?Oo(x.map(p)):L,s?yo:L])}return s?u?l?f+G+M:f:l?f:Eo([M+ko+f]):f}(t,Ro,Do,qo,Io,e,n,i)}function cr(t){const e=[];return me(t,function(t,n){at(t)&&Ct(e,zo(n)+ko+t)}),Eo(e)}function ar(t,e){return`${H}(${e||ct}){${t||ct}}`}function ur(t){return`(${t})`}function fr(t,e){const n=sr(t);return e?Ao(nr,[n]):n}function lr(t){return sr(t,j,j,ir)}function pr(t,e,n){return at(t)?zo(t):e?fr(e):n?(rr=n.length>1,dr(n)):void 0}function dr(t,e){const n=t.length>1&&!e;Ct(Po,n);const i=Pt(t.map(function(t){return No[t.type](t)}),n?$o:xo);return Ot(Po),i}function hr(t,e){if(t){const n=dr(t,e);return t.length>1&&e?ur(n):n}}function mr(t,e,n,i,o){return Ao(Zo,[t,e,n,i,o])}function gr(t,e,n,i){(t[e]||(t[e]={}))[n]=i}No[wn]=function(t){let e,n,i,{tag:o,isComponent:r,isSvg:s,isStyle:c,isOption:f,isStatic:l,isComplex:p,name:d,ref:h,key:m,html:g,attrs:v,children:y}=t,x={},k=[];if(o===D){const t=[zo(a+d)];return y&&Ct(t,ar(dr(y,z))),Ao(Jo,t)}return Ct(Lo,j),v&&kt(v,function(t){Ct(k,No[t.type](t))}),36===Gt(o)?e=zo(Mt(o,1)):x.tag=zo(o),s&&(x.isSvg=yo),c&&(x.isStyle=yo),f&&(x.isOption=yo),l&&(x.isStatic=yo),h&&(x.ref=pr(h.value,h.expr,h.children)),m&&(x.key=pr(m.value,m.expr,m.children)),g&&(x.html=dt(g)?zo(g):fr(g,z)),r?(x.isComponent=yo,y&&(Lo[Lo.length-1]=z,i=function(t){const e={},n={},i=function(t,e){Lt(e)||Ct(n[t=a+t]||(n[t]=[]),e)};if(kt(t,function(t){if(t.type===wn){const e=t;if(e.slot)return void i(e.slot,e.tag===Y?e.children:[e])}i(u,[t])}),me(n,function(t,n){e[n]=ar(dr(t,z))}),!we(e))return cr(e)}(y))):y&&(rr=z,Lo[Lo.length-1]=p,n=dr(y,p),p?n=ar(n):(x.text=n,n=L)),Ot(Lo),mr(cr(x),e,Lt(k)?L:ar(Pt(k,xo)),n,i)},No[Cn]=function(t){const e=t.binding?Ao(Bo,[zo(t.name),sr(t.expr,z,z)]):pr(t.value,t.expr,t.children);return Ao(Uo,[zo(t.name),e])},No[Tn]=function(t){const e=t.binding?Ao(Bo,[zo(t.name),sr(t.expr,z,z),zo(t.hint)]):pr(t.value,t.expr,t.children);return Ao(Wo,[zo(t.name),zo(t.hint),e])},No[Sn]=function(t){const{ns:e,name:n,key:i,value:o,expr:r,modifier:s}=t;if(e===h)return Ao(Fo,[zo(n),zo(o)]);if(e===F)return Ao(Mo,[zo(o)]);if(e===m)return Ao(Ho,[sr(r,z,z)]);let c=Go,a=[zo(n),zo(i),zo(s),zo(o)];return r&&(r.type===ai?(e===g&&(c=Yo),Ct(a,zo(r.name.name)),Lt(r.args)||Ct(a,ar(To+Oo(r.args.map(lr)),ir))):e===g?(c=Ko,Ct(a,zo(r.raw))):e===y&&r.type!==ti&&(Ct(a,L),Ct(a,L),Ct(a,ar(To+lr(r),ir)))),Ao(c,a)},No[Rn]=function(t){return Ao(Vo,[sr(t.expr,z,t.binding)])},No[En]=function(t){const e=zo(t.text);return Et(Lo)&&!Et(Po)?Ao(_o,[e]):e},No[Nn]=function(t){return Et(Lo)&&!Et(Po)?function(t,e){return Ao(_o,[fr(t,e)])}(t.expr,rr):fr(t.expr,rr)},No[On]=function(t){return function t(e,n){let i,o,{children:r,isComplex:s,next:c}=e,a=fr(e.expr),u=hr(r,s);if(c?i=c.type===zn?hr(c.children,c.isComplex):t(c,n):n&&(i=mr(cr({isComment:yo,text:So}))),at(u)||at(i)){const t=Et(Po);return t&&(ut(u)&&(u=So),ut(i)&&(i=So)),o=ut(i)?a+bo+u:ut(u)?Co+a+bo+i:a+wo+u+ko+i,t?ur(o):o}return So}(t,t.stub)},No[jn]=function(t){const e=ar(dr(t.children,t.isComplex));return t.to?Ao(er,[e,sr(t.from),sr(t.to),t.equal?yo:L,t.index?zo(t.index):L]):Ao(tr,[e,sr(t.from,z),t.index?zo(t.index):L])},No[Pn]=function(t){return Ao(Xo,[zo(t.name),ar(dr(t.children,t.isComplex))])},No[Ln]=function(t){return Ao(Qo,[zo(t.name)])};const vr="directives";let yr="textContent",xr="innerHTML",kr=function(t,e,n){t.addEventListener(e,n,j)},$r=function(t,e,n){t.removeEventListener(e,n,j)},br=function(t,e){t.classList.add(e)},wr=function(t,e){t.classList.remove(e)},Cr=function(t,e){return t};X&&(X.documentElement.classList||(br=function(t,e){const n=t.className.split(Sr);zt(n,e)||(Ct(n,e),t.className=Pt(n,Sr))},wr=function(t,e){const n=t.className.split(Sr);At(n,e)&&(t.className=Pt(n,Sr))}));const Sr=" ",Tr="$emitter",Er={svg:"http://www.w3.org/2000/svg"},Or={};function Ar(t){return X.createComment(t)}function zr(t,e,n){if(at(n))$e(t,e,n,j);else{const n=ke(t,e);if(n)return n.value}}function jr(t,e,n){if(at(n))t.setAttribute(e,n);else{const n=t.getAttribute(e);if(n!=P)return n}}function Pr(t,e){t.appendChild(e)}Or[it]={on(t,e){let n=j;qr(t,"compositionstart",e.compositionstart=function(){n=z}),qr(t,"compositionend",e.compositionend=function(t){n=j,e(t)}),kr(t,"input",e.input=function(t){n||e(t)})},off(t,e){Ir(t,"compositionstart",e.compositionstart),Ir(t,"compositionend",e.compositionend),$r(t,"input",e.input),e.compositionstart=e.compositionend=e.input=L}};const Lr=function(t){const e=X.querySelector(t);if(e)return e};function Nr(t,e,n,i){if(!at(e))return t[xr];t[xr]=e}const Rr=br,Dr=wr;function qr(t,e,n,i){const o=t[Tr]||(t[Tr]=new Me),r=o.nativeListeners||(o.nativeListeners={});if(!r[e]){const n=Or[e],i=function(n){const i=n instanceof xt?n:new xt(n.type,Cr(n,t));i.type!==e&&(i.type=e),o.fire(e,[i])};r[e]=i,n?n.on(t,i):kr(t,e,i)}o.on(e,{fn:n,ctx:i})}function Ir(t,e,n){const i=t[Tr],{listeners:o,nativeListeners:r}=i;if(i.off(e,n),r&&!i.has(e)){const n=Or[e],i=r[e];n?n.off(t,i):$r(t,e,i),delete r[e]}we(o)&&(t[Tr]=L)}var _r=Object.freeze({createElement:function(t,e){return e?X.createElementNS(Er.svg,t):X.createElement(t)},createText:function(t){return X.createTextNode(t)},createComment:Ar,prop:zr,removeProp:function(t,e,n){$e(t,e,n===p?j:ct,j)},attr:jr,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:Pr,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){const{parentNode:e}=t;if(e)return e},next:function(t){const{nextSibling:e}=t;if(e)return e},find:Lr,tag:function(t){if(1===t.nodeType)return Zt(t.tagName)},text:function(t,e,n,i){if(!at(e))return t[yr];t[yr]=e},html:Nr,addClass:Rr,removeClass:Dr,on:qr,off:Ir,addSpecialEvent:function(t,e){Or[t]&&Ue(`Special event "${t}" is existed.`),Ie(`Special event "${t}" add success.`),Or[t]=e}});class Ur{constructor(t,e,n,i,o,r,s){const c=this;c.keypath=t,c.cache=n,c.deps=i,c.context=o.context,c.observer=o,c.getter=r,c.setter=s,c.unique={},c.watcher=function(e,n,i){const r=c.value,s=c.get(z);s!==r&&o.diff(t,s,r)},c.watcherOptions={sync:e,watcher:c.watcher},(c.fixed=!Lt(i))&&kt(i,function(t){o.watch(t,c.watcherOptions)})}get(t){const e=this,{getter:n,context:i}=e;if(e.cache){if(t||!be(e,M))if(e.fixed)e.value=yt(n,i);else{e.unbind();const t=Ur.current;Ur.current=e,e.value=yt(n,i),e.bind(),Ur.current=t}}else e.value=yt(n,i);return e.value}set(t){const{setter:e,context:n}=this;e&&e.call(n,t)}add(t){this.unique[t]=z}bind(){const{unique:t,deps:e,observer:n,watcherOptions:i}=this;me(t,function(t,o){Ct(e,o),n.watch(o,i)}),this.unique={}}unbind(){const{deps:t,observer:e,watcher:n}=this;kt(t,function(t){e.unwatch(t,n)},z),t.length=0}}function Wr(t,e){let n;return kt(t,function(t){const i=re(e,t);if(i>=0)return n={name:t,prop:Mt(e,i)},j}),n}function Fr(t,e){if(t==P||e===ct)return t;const n=ke(t,e);return n?n.value:void 0}function Mr(t,e,n,i,o){const r=function(e,n,r){if(n!==r){const s=ce(t,e);kt(i,function(t){at(ue(s,t))&&o(t,s,n,r)}),Mr(s,n,r,i,o)}};(function(t,e,n){const i=dt(t),o=dt(e);if(i||o)return n(B,i?t.length:L,o?e.length:L),z})(e,n,r)||function(t,e,n){const i=lt(t),o=lt(e);if(i||o){const r=i?t.length:L,s=o?e.length:L;n(B,r,s);for(let i=0,o=Math.max(r||0,s||0);i<o;i++)n(""+i,t?t[i]:L,e?e[i]:L);return z}}(e,n,r)||function(t,e,n){const i=pt(t),o=pt(e);(i||o)&&(t=i?t:rt,e=o?e:rt,i&&me(t,function(t,i){t!==e[i]&&n(i,t,e[i])}),o&&me(e,function(e,i){e!==t[i]&&n(i,t[i],e)}))}(e,n,r)}function Br(t,e,n,i,o,r){let s;me(i,function(i,c){if(ae(c))return void(at(ue(t,c))?r(c,t,e,n):o&&(s?Ct(s,c):s=[c]));const a=re(c,t);if(a>=0){const t=Mt(c,a),i=Fr(e,t),o=Fr(n,t);i!==o&&r(c,c,i,o)}}),s&&Mr(t,e,n,s,r)}function Hr(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}const Yr={watcher:ot};function Kr(t,e){return ft(t)?(Yr.watcher=t,Yr.immediate=e===z,Yr):t&&t.watcher?t:void We("watcher should be a function or object.")}class Gr{constructor(t,e){this.data=t||{},this.context=e||this,this.nextTask=new Je,this.syncEmitter=new Me,this.asyncEmitter=new Me,this.asyncChanges={}}get(t,e,n){const i=Ur.current,{data:o,computed:r,reversedComputedKeys:s}=this;if(t===ct)return o;let c,a;if(i&&!n&&i.add(t),r){if(a=r[t])return a.get();if(s){const e=Wr(s,t);e&&e.prop&&(c=ke(r[e.name].get(),e.prop))}}return c||(c=ke(o,t)),c?c.value:e}set(t,e){const n=this,{data:i,computed:o,reversedComputedKeys:r}=n,s=function(t,e){const s=n.get(e);if(t===s)return;let c;if(o&&((c=o[e])&&c.set(t),r)){const n=Wr(r,e);if(n&&n.prop&&(c=o[n.name])){const e=c.get();pt(e)&&$e(e,n.prop,t)}}c||$e(i,e,t),n.diff(e,t,s)};dt(t)?s(e,t):pt(t)&&me(t,s)}diff(t,e,n){const i=this,{syncEmitter:o,asyncEmitter:r,asyncChanges:s}=i,c=36!==Gt(t);Br(t,e,n,o.listeners,c,function(t,e,n,i){o.fire(t,[n,i,e])}),Br(t,e,n,r.listeners,c,function(t,e,n,o){kt(r.listeners[t],function(t){t.count++});const{keypaths:c}=s[e]||(s[e]={value:o,keypaths:[]});zt(c,t)||Ct(c,t),i.pending||(i.pending=z,i.nextTask.append(function(){i.pending&&(i.pending=L,i.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:e,asyncChanges:n}=t;t.asyncChanges={},me(n,function(n,i){const o=[t.get(i),n.value,i];kt(n.keypaths,function(t){e.fire(t,o,Hr)})})}addComputed(t,e){let n,i,o=z,r=z,s=[];if(ft(e))n=e;else if(pt(e)){const t=e;mt(t.cache)&&(o=t.cache),mt(t.sync)&&(r=t.sync),lt(t.deps)&&(s=xe(t.deps)),ft(t.get)&&(n=t.get),ft(t.set)&&(i=t.set)}if(n){const e=this,c=new Ur(t,r,o,s,e,n,i);return e.computed||(e.computed={}),e.computed[t]=c,e.reversedComputedKeys=he(e.computed,z),c}}removeComputed(t){const e=this,{computed:n}=e;n&&be(n,t)&&(delete n[t],e.reversedComputedKeys=he(n,z))}watch(t,e,n){const i=this,{context:o,syncEmitter:r,asyncEmitter:s}=i,c=function(t,e){const n=e.sync?r:s,c={fn:e.watcher,ctx:o,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&yt(e.watcher,o,[i.get(t),L,t])};dt(t)?c(t,Kr(e,n)):me(t,function(t,e){c(e,Kr(t))})}unwatch(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)}toggle(t){const e=!this.get(t);return this.set(t,e),e}increase(t,e,n){const i=Qn(this.get(t),0)+(e||1);if(!ht(n)||i<=n)return this.set(t,i),i}decrease(t,e,n){const i=Qn(this.get(t),0)-(e||1);if(!ht(n)||i>=n)return this.set(t,i),i}insert(t,e,n){let i=this.get(t);i=lt(i)?xe(i):[];const{length:o}=i;if(n===z||n===o)i.push(e);else if(n===j||0===n)i.unshift(e);else{if(!(n>0&&n<o))return;i.splice(n,0,e)}return this.set(t,i),z}append(t,e){return this.insert(t,e,z)}prepend(t,e){return this.insert(t,e,j)}removeAt(t,e){let n=this.get(t);if(lt(n)&&e>=0&&e<n.length)return(n=xe(n)).splice(e,1),this.set(t,n),z}remove(t,e){let n=this.get(t);if(lt(n)&&At(n=xe(n),e))return this.set(t,n),z}copy(t,e){return xe(t,e)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),ge(this)}}function Vr(t,e,n){let i;return function(){if(!i){const o=jt(arguments);n&&yt(t,L,o),i=setTimeout(function(){i=L,n||yt(t,L,o)},e)}}}var Zr=Object.freeze({bind:function(t,e,n){let i,{key:o,name:r,modifier:s,handler:c}=e,{lazy:a}=n;if(c){if(a){const t=a[r]||a[ct];t===z?r=nt:t>0&&(c=Vr(c,t,r===et||r===tt))}if(n.isComponent){const e=t;s===x?(qr(i=e.$el,r,c),n.data[o]=function(){Ir(i,r,c)}):(s&&(r+=G+s),e.on(r,c),n.data[o]=function(){e.off(r,c)})}else qr(i=t,r,c),n.data[o]=function(){Ir(i,r,c)}}},unbind:function(t,e,n){yt(n.data[e.key])}});function Jr(t,e){return e&&e!==z?Vr(t,e):t}const Xr={set(t,e){t.value=Se(e)},sync(t,e,n){n.set(e,t.value)},name:M},Qr={set(t,e){t.checked=t.value===Se(e)},sync(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},ts={set(t,e){t.checked=lt(e)?zt(e,t.value,j):!!e},sync(t,e,n){const i=n.get(e);lt(i)?t.checked?n.append(e,t.value):n.removeAt(e,Tt(i,t.value,j)):n.set(e,t.checked)},name:"checked"},es={set(t,e){kt(jt(t.options),t.multiple?function(t){t.selected=zt(e,t.value,j)}:function(n,i){if(n.value==e)return t.selectedIndex=i,j})},sync(t,e,n){const{options:i}=t;if(t.multiple){const t=[];kt(jt(i),function(e){e.selected&&Ct(t,e.value)}),n.set(e,t)}else n.set(e,i[t.selectedIndex].value)},name:M},ns=z;var is=Object.freeze({once:ns,bind:function(t,e,n){let i,o,{context:r,lazy:s,isComponent:c}=n,a=e.modifier,u=s&&(s[m]||s[ct]);if(c){let e=t,n=e.$model,s=Jr(function(t){r.set(a,t)},u);i=function(t){i&&e.set(n,t)},o=function(){e.unwatch(n,s)},e.watch(n,s)}else{let s=t,c="select"===n.tag?es:Xr,f=nt;if(c===Xr){const e=t.type;"radio"===e?c=Qr:"checkbox"===e?c=ts:u!==z&&(f=it)}i=function(t){i&&c.set(s,t)};const l=Jr(function(){c.sync(s,a,r)},u);o=function(){Ir(s,f,l)},qr(s,f,l),c.set(s,e.value)}r.watch(a,i),n.data[e.key]=function(){r.unwatch(a,i),i=L,o()}},unbind:function(t,e,n){yt(n.data[e.key])}});const os=z;var rs=Object.freeze({once:os,bind:function(t,e,n){let i=e.modifier,o=ae(i),r=function(s,c,a){if(r){const r=o?ue(a,i):e.name;if(n.isComponent){const e=t;e.checkProp(r,s),e.set(r,s)}else{const n=t;at(e.hint)?zr(n,r,s):jr(n,r,s)}}};n.context.watch(i,r),n.data[e.key]=function(){n.context.unwatch(i,r),r=L}},unbind:function(t,e,n){yt(n.data[e.key])}});const ss={},cs={},as={},us={},fs={},ls={},ps="$$",ds=/^[#.][-\w+]+$/;class hs{constructor(t){const e=this,n=t||rt;e.$emitter=new Me(z),n.events&&e.on(n.events),n.parent&&(e.$parent=n.parent),yt(n[b],e,n),e.fire(b+$,n);let{data:i,props:o,vnode:r,propTypes:s,computed:c,methods:a,watchers:u,extensions:f}=n;e.$options=n,f&&ve(e,f);const l=o?xe(o):{};s&&me(s,function(t,e){let n=l[e];vs(e,n,t),ut(n)&&at(n=t.value)&&(l[e]=t.type===H?n:ft(n)?n():n)});const p=e.$observer=new Gr(l,e);c&&me(c,function(t,e){p.addComputed(e,t)}),r&&pt(i)&&_e("child component's data should be a function which return an object.");const d=ft(i)?yt(i,e,t):i;pt(d)&&me(d,function(t,e){be(l,e)&&_e(`"${e}" is already defined as a prop. Use prop default value instead.`),l[e]=t}),a&&me(a,function(t,n){e[n]&&We(`method "${n}" is conflicted with built-in methods.`),e[n]=t});{let t=L,{el:i,root:o,model:s,context:c,replace:a,template:f,transitions:d,components:h,directives:m,partials:g,filters:v,slots:y}=n;if(s&&(e.$model=s),y&&ve(l,y),dt(f)&&ds.test(f)&&((t=Lr(f))?(f=Nr(t),t=L):We(`selector "${f}" can't match an element.`)),i){if(dt(i)){const e=i;ds.test(e)?(t=Lr(e))||We(`selector "${e}" can't match an element.`):We('"el" option should be a selector.')}else t=i;a||Pr(t,t=Ar(ct))}if(o&&(e.$root=o),c&&(e.$context=c),xs(e,F,d),xs(e,U,h),xs(e,W,m),xs(e,_,g),xs(e,I,v),f){const n=u?xe(u):{};return n[ps]={sync:z,watcher:function(t){e.update(t,e.$vnode)}},p.addComputed(ps,{sync:j,get:function(){return e.render()}}),ys(e,n),e.$template=dt(f)?hs.compile(f):f,r||(t||We('"el" option is required for root component.'),r=function(t,e,n,i){return{tag:t.tag(e),data:hn(),node:e,context:n,keypath:i}}(_r,t,e,ct)),void e.update(e.get(ps),r)}(t||r)&&We('"template" option is required.')}ys(e,u)}static use(t){t.install(hs)}static define(t){return t}static nextTick(t,e){Je.shared().append(t,e)}static compile(t,e){if(!ls[t]){const e=go(t);1!==e.length&&We('"template" should have just one root element.'),ls[t]=(n=e[0],or||(or=Pt([Ro,Do,qo,Io,_o,Uo,Wo,Fo,Mo,Bo,Ho,Yo,Ko,Go,Vo,Zo,Jo,Xo,Qo,tr,er,nr],xo)),jo(or,No[n.type](n)))}return t=ls[t],e?t:new Function(`return ${t}`)();var n}static directive(t,e){if(dt(t)&&!e)return ws(ss,t);Cs(ss,t,e)}static transition(t,e){if(dt(t)&&!e)return ws(cs,t);Cs(cs,t,e)}static component(t,e){if(dt(t)&&!e)return ws(as,t);Cs(as,t,e)}static partial(t,e){if(dt(t)&&!e)return ws(us,t);Cs(us,t,e,hs.compile)}static filter(t,e){if(dt(t)&&!e)return ws(fs,t);Cs(fs,t,e)}get(t,e){return this.$observer.get(t,e)}set(t,e){const{$observer:n}=this;n&&n.set(t,e)}on(t,e){return $s(this,t,e),this}once(t,e){return $s(this,t,e,z),this}off(t,e){return this.$emitter.off(t,e),this}fire(t,e,n){let i,o=this,{$emitter:r,$parent:s,$children:c}=o,a=t instanceof xt?t:new xt(t),u=a.ns||(a.ns=r.parse(a.type)),f=[a];return a.target||(a.target=o),pt(e)?Ct(f,e):e===z&&(n=z),u.ns===x&&Ue(`"${a.type}": namespace "${x}" can't be used externally.`),(i=r.fire(u,f))&&(n?c&&(a.phase=xt.PHASE_DOWNWARD,kt(c,function(t){return i=t.fire(a,e,z)})):s&&(a.phase=xt.PHASE_UPWARD,i=s.fire(a,e))),i}watch(t,e,n){return this.$observer.watch(t,e,n),this}unwatch(t,e){return this.$observer.unwatch(t,e),this}loadComponent(t,e){bs(this.$components,t,e)||bs(as,t,e)||Ue(`Component "${t}" is not found.`)}createComponent(t,e){{const n=this;(t=xe(t)).root=n.$root||n,t.parent=n,t.context=e.context,t.vnode=e,t.replace=z;let{props:i,slots:o,directives:r}=e,s=r&&r[m];if(s){i||(i={});const e=t.model||k;i[e]=s.value,t.model=e}i&&(t.props=i),o&&(t.slots=o);const c=new hs(t);Ct(n.$children||(n.$children=[]),c);const a=c.$el;return a?e.node=a:We(`The root element of [Component ${e.tag}] is not found.`),c}}directive(t,e){{const n=this,{$directives:i}=n;if(dt(t)&&!e)return ws(i,t,hs.directive);Cs(i||(n.$directives={}),t,e)}}transition(t,e){{const n=this,{$transitions:i}=n;if(dt(t)&&!e)return ws(i,t,hs.transition);Cs(i||(n.$transitions={}),t,e)}}component(t,e){{const n=this,{$components:i}=n;if(dt(t)&&!e)return ws(i,t,hs.component);Cs(i||(n.$components={}),t,e)}}partial(t,e){{const n=this,{$partials:i}=n;if(dt(t)&&!e)return ws(i,t,hs.partial);Cs(i||(n.$partials={}),t,e,hs.compile)}}filter(t,e){{const n=this,{$filters:i}=n;if(dt(t)&&!e)return ws(i,t,hs.filter);Cs(i||(n.$filters={}),t,e)}}forceUpdate(t){{const e=this,{$vnode:n,$observer:i}=e,{computed:o}=i;if(n&&o){const r=o[ps],s=r.get();t&&e.set(t),i.nextTask.run(),t||s!==r.get()||e.update(r.get(z),n)}}}render(){{const t=this;return function(t,e,n,i,o,r,s){let c,a={$keypath:ct},u=[a],f=[],l={},p=function(t,n,o,r,s,c){let a=t[n],u=ce(a.$keypath,o),f=t,l=fe;if(ut(c)&&(c=u),at(a[o])?f=a[o]:at(a.$item)&&(a=a.$item,o===ct?f=a:a!=P&&at(a[o])&&(f=a[o])),f===t&&(f=e.get(u,t,s))===t){if(r&&n>0)return qe(`"${u}" can't be found in the current context, start looking up.`),p(t,n-1,o,r,s,c);const e=ke(i,o);return e?(l=e).keypath=o:(l.value=L,l.keypath=c),l}return l.value=f,l.keypath=u,l},d=function(e,n,i){return function(o,r){const s=t[e];if(o instanceof xt){let e=L;if(n){const c=Et(i);c&&(c.$event=o,c.$data=r,e=yt(s,t,n(i)),c.$event=c.$data=L)}else e=yt(s,t,r?[o,r]:o);return e}yt(s,t,n?n(i):L)}},h=function(t,e){return function(){return t(e)}},x=function(e){const n=Et(f);if(n){const i=Et(n);i&&i.isText?i.text+=e:Ct(n,{isText:z,text:e,context:t,keypath:a.$keypath})}},k=function(t,e){c.isComponent?gr(c,"props",t,e):gr(c,"nativeAttrs",t,{name:t,value:e})},$=function(t,e,n){gr(c,"nativeProps",t,{name:t,value:n,hint:e})},b=function(t,e){gr(c,"lazy",t,e)},w=function(t){c.transition=s[t],c.transition||We(`Transition "${t}" can't be found.`)},C=function(t,e,n){const i=ce(v,t);return gr(c,vr,i,{ns:v,name:t,key:i,modifier:e.keypath,hooks:r[v],hint:n}),e.value},S=function(t){gr(c,vr,m,{ns:m,name:ct,key:m,value:t.value,modifier:t.keypath,hooks:r[m]})},T=function(t,e,n,i,o,s){gr(c,vr,e,{ns:g,name:t,key:e,value:i,modifier:n,hooks:r[g],handler:d(o,s,u)})},E=function(e,n,i,o,s){var a;gr(c,vr,n,{ns:g,name:e,key:n,value:o,modifier:i,hooks:r[g],handler:(a=s,function(e,n){a!==e.type&&(e=new xt(a,e)),t.fire(e,n)})})},O=function(t,e,n,i,o,s,a){const f=r[t];f||We(`Directive ${t} can't be found.`),gr(c,vr,e,{ns:y,name:t,key:e,value:i,hooks:f,modifier:n,getter:a?h(a,u):L,handler:o?d(o,s,u):L})},A=function(t){const{value:e,keypath:n}=t;if(e!=P&&pt(e)&&!lt(e)&&(me(e,function(t,e){gr(c,"props",e,t)}),n)){const t=ce(v,n);gr(c,vr,t,{ns:v,name:ct,key:t,modifier:ce(n,K),hooks:r[v]})}},j=function(n,i,o,r,s){if(i){const t=e.get(i);t||_e(`Dynamic component "${i}" can't be found.`),n.tag=t}if(o&&(c=n,o(),c=L),r)f.push(n.children=[]),r(),Ot(f);else if(s){const t={};me(s,function(e,n){f.push([]),e();const i=Ot(f);t[n]=i.length?i:L}),n.slots=t}n.context=t,n.keypath=a.$keypath;const u=Et(f);return u&&Ct(u,n),n},N=function(t,e,n,i,o,r){const s=r||u,c=p(s,s.length-((n||0)+1),t,e,o);return i?c:c.value},R=function(t,e){return St(e,t),Pt(e,G)},D=function(t,e,n,i){at(n)&&(e=Pt(n,G));const o=ke(t,e);return fe.keypath=L,fe.value=o?o.value:L,i?fe:fe.value},q=function(e,n,i){return fe.keypath=L,fe.value=yt(e,t,n||L),i?fe:fe.value},I=function(e,n){const i=Et(f),o=t.get(e);i&&(o?kt(o,function(n){Ct(i,n),n.slot=e,n.parent=t}):n&&n())},_=function(t,e){l[t]=e},U=function(t){if(l[t])l[t]();else{const e=o[t];e?e(N,R,D,q,x,k,$,b,w,C,S,T,E,O,A,j,I,_,U,F,M,Se):We(`Partial "${t}" can't be found.`)}},W=function(t,e,n,i,o,r){const s=a,c=u;a={$keypath:i},u=c.concat(a),at(r)&&(a.$length=r),o&&(a[o]=n),i||(a.$item=e),t(),a=s,u=c},F=function(t,e,n){const{keypath:i,value:o}=e;if(lt(o))for(let e=0,r=o.length;e<r;e++)W(t,o[e],e,i?ce(i,ct+e):ct,n,r);else if(pt(o))for(let e in o)W(t,o[e],e,i?ce(i,e):ct,n)},M=function(t,e,n,i,o){let r=0;if(e<n)if(i)for(let i=e;i<=n;i++)W(t,i,r++,ct,o);else for(let i=e;i<n;i++)W(t,i,r++,ct,o);else if(i)for(let i=e;i>=n;i--)W(t,i,r++,ct,o);else for(let i=e;i>n;i--)W(t,i,r++,ct,o)};return n(N,R,D,q,x,k,$,b,w,C,S,T,E,O,A,j,I,_,U,F,M,Se)}(t,t.$observer,t.$template,ye(t.$filters,fs),ye(t.$partials,us),ye(t.$directives,ss),ye(t.$transitions,cs))}}update(t,e){{let n,i=this,{$vnode:o,$options:r}=i;i.$refs={},o?(yt(r[T],i),i.fire(T+$),bn(_r,t,e),n=E):(yt(r[C],i),i.fire(C+$),bn(_r,t,e),i.$el=t.node,n=S),i.$vnode=t,hs.nextTick(function(){i.$vnode&&(yt(r[n],i),i.fire(n+$))})}}checkProp(t,e){{const{propTypes:n}=this.$options;if(n){const i=n[t];i&&vs(t,e,i)}}}destroy(){const t=this,{$parent:e,$options:n,$emitter:i,$observer:o}=t;{yt(n[O],t),t.fire(O+$);const{$vnode:i}=t;e&&e.$children&&At(e.$children,t),i&&(t.$vnode=L,function(t,e,n){if(n){const n=t.parent(e.node);n?xn(t,n,e):We("Can't destroy vnode without parent node.")}else kn(t,e)}(_r,i,!e))}o.destroy(),yt(n[A],t),t.fire(A+$),i.off(),ge(t)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,e,n){return this.$observer.increase(t,e,n)}decrease(t,e,n){return this.$observer.decrease(t,e,n)}insert(t,e,n){return this.$observer.insert(t,e,n)}append(t,e){return this.$observer.append(t,e)}prepend(t,e){return this.$observer.prepend(t,e)}removeAt(t,e){return this.$observer.removeAt(t,e)}remove(t,e){return this.$observer.remove(t,e)}copy(t,e){return this.$observer.copy(t,e)}}hs.version="1.0.0-alpha.87",hs.is=vt,hs.dom=_r,hs.array=Nt,hs.object=Ce,hs.string=Qt,hs.logger=Fe,hs.Event=xt,hs.Emitter=Me;const ms=Object.prototype.toString;function gs(t,e){return"numeric"===e?gt(t):Zt(ms.call(t))===`[object ${e}]`}function vs(t,e,n){if(at(e)){const i=n.type;if(i)if(ft(i))i(t,e);else{let n=j;Xt(i)?Lt(i)||kt(i,function(t){if(gs(e,t))return n=z,j}):n=gs(e,i),n||_e(`The type of prop "${t}" expected to be "${i}", but is "${e}".`)}else _e(`The prop "${t}" in propTypes has no type.`)}else n.required&&_e(`The prop "${t}" is marked as required, but its value is not found.`)}function ys(t,e){e&&t.watch(e),yt(t.$options[w],t),t.fire(w+$)}function xs(t,e,n){ft(n)?t[e](yt(n,t)):pt(n)&&t[e](n)}function ks(t,e,n,i){const o={fn:n,ctx:t};i&&(o.max=1),t.$emitter.on(e,o)}function $s(t,e,n,i){dt(e)?ks(t,e,n,i):me(e,function(e,n){ks(t,n,e,i)})}function bs(t,e,n){if(t&&t[e]){const i=t[e];if(ft(i)){t[e]=[n];const o=function(n){const i=t[e],o=n.default||n;t[e]=o,kt(i,function(t){t(o)})},r=i(o);r&&r.then(o)}else lt(i)?Ct(i,n):n(i);return z}}function ws(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Cs(t,e,n,i){dt(e)?t[e]=i?i(n):n:me(e,function(e,n){t[n]=i?i(e):e})}hs.directive({event:Zr,model:is,binding:rs}),hs.filter({hasSlot(t){return at(this.get(a+t))}});export default hs;
//# sourceMappingURL=yox.esm.min.js.map
