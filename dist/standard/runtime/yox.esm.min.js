const t=!0,e=!1,n=null,o=void 0,i=-1,r="filter",s="partial",c="component",u="directive",f="transition",a="value",l="length",d="function",p="*",h=".",m="undefined"!=typeof window?window:o,v="undefined"!=typeof document?document:o,g="undefined"!=typeof global?global:m,y="tap",$="click",x="change",k="model",b=function(){},w=Object.freeze({}),C=Object.freeze([]),E="";class A{constructor(t,e){this.type=t,this.phase=A.PHASE_CURRENT,e&&(this.originalEvent=e)}preventDefault(){const e=this;if(!e.isPrevented){const{originalEvent:n}=e;n&&n.preventDefault(),e.isPrevented=t}return e}stopPropagation(){const e=this;if(!e.isStoped){const{originalEvent:n}=e;n&&n.stopPropagation(),e.isStoped=t}return e}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}A.PHASE_CURRENT=0,A.PHASE_UPWARD=1,A.PHASE_DOWNWARD=i;const O=3,T="model",S="event",P="binding",z="o",j="native",N="value",L=".hook",R="beforeCreate",D="afterCreate",U="beforeMount",W="afterMount",_="beforeUpdate",I="afterUpdate",M="beforeDestroy",H="afterDestroy";function Y(t){return t!==o}function q(t){return t===o}function F(t){return typeof t===d}function K(t){return Array.isArray(t)}function B(t){return t!==n&&"object"==typeof t}function G(t){return"string"==typeof t}function V(t){return"number"==typeof t}function X(t){return"boolean"==typeof t}function Z(t){return V(t)||G(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var J=Object.freeze({func:F,array:K,object:B,string:G,number:V,boolean:X,numeric:Z});function Q(t,e,n){if(F(t))return K(n)?t.apply(e,n):Y(e)?t.call(e,n):Y(n)?t(n):t()}function tt(t,n,o){const{length:i}=t;if(i)if(o)for(let o=i-1;o>=0&&n(t[o],o)!==e;o--);else for(let o=0;o<i&&n(t[o],o)!==e;o++);}function et(t,e){t[t.length]=e}function nt(t,e){t.unshift(e)}function ot(t,e,n){K(e)?tt(e,function(e){n(t,e)}):n(t,e)}function it(t,e){ot(t,e,et)}function rt(t,e){ot(t,e,nt)}function st(t,n,o){let r=i;return tt(t,function(t,i){if(o===e?t==n:t===n)return r=i,e}),r}function ct(t){const{length:e}=t;if(e>0)return t[e-1]}function ut(t){const{length:e}=t;if(e>0)return t.pop()}function ft(n,o,i){let r=0;return tt(n,function(t,s){(i===e?t==o:t===o)&&(n.splice(s,1),r++)},t),r}function at(t,e,n){return st(t,e,n)>=0}function lt(t){return K(t)?t:Q(C.slice,t)}function dt(t,e){return t.join(e)}function pt(t){return!K(t)||!t.length}var ht=Object.freeze({each:tt,push:it,unshift:rt,indexOf:st,last:ct,pop:ut,remove:ft,has:at,toArray:lt,toObject:function(t,e,n){let o={};return tt(t,function(t){o[e?t[e]:t]=n||t}),o},join:dt,falsy:pt});const mt=/-([a-z])/gi,vt=/\B([A-Z])/g,gt=/^[a-z]/,yt={},$t={},xt={};function kt(t,e,n){return V(n)?e===n?E:t.slice(e,n):t.slice(e)}function bt(t,e,n){return t.indexOf(e,Y(n)?n:0)}function wt(t,e,n){return t.lastIndexOf(e,Y(n)?n:t.length)}function Ct(t,e){return 0===bt(t,e)}function Et(t,e){return t.charCodeAt(e||0)}function At(t){return t.toUpperCase()}function Ot(t){return t.toLowerCase()}function Tt(t,e){return bt(t,e)>=0}function St(t){return!G(t)||!t.length}var Pt=Object.freeze({camelize:function(t){return yt[t]||(yt[t]=t.replace(mt,function(t,e){return At(e)})),yt[t]},hyphenate:function(t){return $t[t]||($t[t]=t.replace(vt,function(t,e){return"-"+Ot(e)})),$t[t]},capitalize:function(t){return xt[t]||(xt[t]=t.replace(gt,At)),xt[t]},trim:function(t){return St(t)?E:t.trim()},slice:kt,indexOf:bt,lastIndexOf:wt,startsWith:Ct,endsWith:function(t,e){const n=t.length-e.length;return n>=0&&wt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:Et,upper:At,lower:Ot,has:Tt,falsy:St});const zt=/\./g,jt=/\*/g,Nt=/\*\*/g,Lt={},Rt={};function Dt(t,e){return t===e?e.length:Ct(t,e+=h)?e.length:i}function Ut(t,n){const o=Lt.hasOwnProperty(t)?Lt[t]:Lt[t]=t.split(h);for(let t=0,i=o.length-1;t<=i&&n(o[t],t===i)!==e;t++);}function Wt(t,e){return t&&e?t+h+e:t||e}function _t(t){return Tt(t,p)}function It(t,e){let n=Rt[e];if(!n){const t=e.replace(zt,"\\.").replace(jt,"(\\w+)").replace(Nt,"([.\\w]+?)");n=Rt[e]=new RegExp(`^${t}$`)}const o=t.match(n);if(o)return o[1]}const Mt={value:o};function Ht(t){return Object.keys(t)}function Yt(t,e){return t.length-e.length}function qt(t,e){return e.length-t.length}function Ft(t,e){return Ht(t).sort(e?qt:Yt)}function Kt(t,n){for(let o in t)if(n(t[o],o)===e)break}function Bt(t){Kt(t,function(e,n){delete t[n]})}function Gt(t,e){return Kt(e,function(e,n){t[n]=e}),t}function Vt(t,e){return t&&e?Gt(Gt({},t),e):t||e}function Xt(t,e){let n=t;return K(t)?e?(n=[],tt(t,function(t,o){n[o]=Xt(t,e)})):n=t.slice():B(t)&&(n={},Kt(t,function(t,o){n[o]=e?Xt(t,e):t})),n}function Zt(t,i){return Ut(i,function(i,r){if(t==n)return t=o,e;{let e=t[i],n=Y(e);e&&F(e.get)&&(e=e.get()),r?n?(Mt.value=e,t=Mt):t=o:t=e}}),t}function Jt(t,n,o,i){Ut(n,function(n,r){if(r)t[n]=o;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function Qt(t,e){return Y(t[e])}function te(t){return!B(t)||K(t)||!Ht(t).length}var ee=Object.freeze({keys:Ht,sort:Ft,each:Kt,clear:Bt,extend:Gt,merge:Vt,copy:Xt,get:Zt,set:Jt,has:Qt,falsy:te});function ne(t,e){return t!=n&&t.toString?t.toString():Y(e)?e:E}const oe=1,ie=2,re=3,se=4,ce=5,ue="undefined"!=typeof console?console:n,fe=/yox/.test(ne(b))?ie:re,ae=m&&/edge|msie|trident/i.test(m.navigator.userAgent)?E:"%c",le=ue?ae?function(t,e,n){ue.log(ae+t,n,e)}:function(t,e){ue.log(t,e)}:b;function de(){if(g){const t=g.YOX_LOG_LEVEL;if(t>=oe&&t<=ce)return t}return fe}function pe(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}var he=Object.freeze({DEBUG:oe,INFO:ie,WARN:re,ERROR:se,FATAL:ce,debug:function(t,e){de()<=oe&&le(e||"Yox debug",t,pe("#999"))},info:function(t,e){de()<=ie&&le(e||"Yox info",t,pe("#2db7f5"))},warn:function(t,e){de()<=re&&le(e||"Yox warn",t,pe("#f90"))},error:function(t,e){de()<=se&&le(e||"Yox error",t,pe("#ed4014"))},fatal:function(t,e){if(de()<=ce)throw new Error(`[${e||"Yox fatal"}]: ${t}`)}});class me{constructor(t){this.ns=t||e,this.listeners={}}fire(n,i,r){let s=this,c=G(n)?s.parse(n):n,u=s.listeners[c.type],f=t;if(u){u=Xt(u);const t=i&&i[0]instanceof A?i[0]:o;tt(u,function(n){if(!ye(c.ns,n)||!at(u,n)||r&&!r(c,i,n))return;t&&(t.listener=n.fn);let a=Q(n.fn,n.ctx,i);return t&&(t.listener=o),n.num=n.num?n.num+1:1,n.num===n.max&&s.off(c,n.fn),t&&(a===e?t.prevent().stop():t.isStoped&&(a=e)),a===e?f=e:void 0})}return f}on(t,e){const n=this,o=n.listeners,i=F(e)?{fn:e}:e;if(B(i)&&F(i.fn)){const e=G(t)?n.parse(t):t;i.ns=e.ns,it(o[e.type]||(o[e.type]=[]),i)}}off(e,n){const o=this,i=o.listeners;if(e){const r=G(e)?o.parse(e):e,s=r.type,c=r.ns,u=ge(n),f=function(e,n){tt(e,function(t,n){u(t)&&ye(c,t)&&e.splice(n,1)},t),e.length||delete i[n]};s?i[s]&&f(i[s],s):c&&Kt(i,f)}else o.listeners={}}has(n,o){let i=this.listeners,r=G(n)?this.parse(n):n,s=r.type,c=r.ns,u=t,f=ge(o),a=function(t){return tt(t,function(t){if(f(t)&&ye(c,t))return u=e}),u};return s?i[s]&&a(i[s]):c&&Kt(i,a),!u}parse(t){const e={type:t,ns:E};if(this.ns){const n=bt(t,h);n>=0&&(e.type=kt(t,0,n),e.ns=kt(t,n+1))}return e}}function ve(){return t}function ge(t){return F(t)?function(e){return t===e.fn}:ve}function ye(e,n){const{ns:o}=n;return o&&e?o===e:t}function $e(t){return F(t)&&Tt(ne(t),"[native code]")}let xe;typeof setImmediate===d&&$e(setImmediate)&&(xe=setImmediate);var ke=xe=typeof MessageChannel===d&&$e(MessageChannel)?function(t){const e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout;let be;class we{static shared(){return be||(be=new we)}constructor(){this.tasks=[]}append(t,e){const n=this,{tasks:o}=n;it(o,{fn:t,ctx:e}),1===o.length&&ke(function(){n.run()})}prepend(t,e){const n=this,{tasks:o}=n;rt(o,{fn:t,ctx:e}),1===o.length&&ke(function(){n.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],tt(t,function(t){Q(t.fn,t.ctx)}))}}let Ce=0;const Ee="$id",Ae="$vnode",Oe="$loading",Te="$component",Se="$leaving";function Pe(t,e,n){const{node:o,nativeAttrs:i}=e,r=n&&n.nativeAttrs;if(i||r){const e=i||w,n=r||w;Kt(e,function(e,i){n[i]&&e.value===n[i].value||t.attr(o,i,e.value)}),Kt(n,function(n,i){e[i]||t.removeAttr(o,i)})}}function ze(t,e,n){const{node:o,nativeProps:i}=e,r=n&&n.nativeProps;if(i||r){const e=i||w,n=r||w;Kt(e,function(e,i){n[i]&&e.value===n[i].value||t.prop(o,i,e.value)}),Kt(n,function(n,i){e[i]||t.removeProp(o,i,n.hint)})}}function je(t,e){const{data:n,directives:o}=t,i=e&&e.directives;if(o||i){const r=n[Te]||t.node,s=e&&t.keypath!==e.keypath,c=o||w,u=i||w;Kt(c,function(n,o){const{once:i,bind:c,unbind:f}=n.hooks;u[o]?(i||n.value!==u[o].value||s)&&(f&&f(r,u[o],e),c(r,n,t)):c(r,n,t)}),Kt(u,function(t,n){if(!c[n]){const{unbind:n}=t.hooks;n&&n(r,t,e)}})}}function Ne(t){const{directives:e}=t;if(e){const n=t.data[Te]||t.node;Kt(e,function(e){const{unbind:o}=e.hooks;o&&o(n,e,t)})}}function Le(t,e){let n,{data:o,ref:i,props:r,slots:s,directives:c,context:u}=t;if(t.isComponent){if(n=o[Te],e){const t=c&&c[T];t&&(r||(r={}),r[n.$model]=t.value);const e=Vt(r,s);e&&n.forceUpdate(e)}}else n=t.node;if(i){const t=u.$refs;t&&(t[i]=n)}}function Re(t,e){return t.tag===e.tag&&t.key===e.key}function De(t,e,n){let o,i,r;for(;e<=n;)(i=t[e])&&(r=i.key)&&(o||(o={}),o[r]=e),e++;return o||w}function Ue(t,e,n,o){o?t.before(e,n,o):t.append(e,n)}function We(t,n){const o=(t.parent||t.context).createComponent(n,t);return t.data[Te]=o,t.data[Oe]=e,Le(t),je(t),o}function _e(){const t={};return t[Ee]=++Ce,t}function Ie(e,n){let{tag:i,node:r,data:s,isComponent:u,isComment:f,isText:a,isStyle:l,isOption:d,children:p,text:h,html:m,context:v}=n;if(!r||!s)if(s=_e(),n.data=s,a)n.node=e.createText(h);else if(f)n.node=e.createComment(h);else if(u){let r=o;i&&v.loadComponent(i,function(t){Qt(s,Oe)?s[Oe]&&(s[Ae]&&(n=s[Ae],delete s[Ae]),Ke(n,We(n,t))):r=t}),n.node=e.createComment(c),r?We(n,r):s[Oe]=t}else r=n.node=e.createElement(n.tag,n.isSvg),p?Me(e,r,p):h?e.text(r,h,l,d):m&&e.html(r,m,l,d),Pe(e,n),ze(e,n),Le(n),je(n)}function Me(t,e,n,o,i,r){let s,c=o||0,u=Y(i)?i:n.length-1;for(;c<=u;)Ie(t,s=n[c]),He(t,e,s,r),c++}function He(t,e,n,i){const{node:r,data:s,context:c}=n,u=t.parent(r);if(i?t.before(e,r,i.node):t.append(e,r),!u){let t=o;if(n.isComponent){const e=s[Te];e&&(t=function(){Ke(n,e)})}else n.isStatic||n.isText||n.isComment||(t=function(){Ke(n)});t&&c.$observer.nextTask.prepend(t)}}function Ye(t,e,n,o,i){let r,s=o||0,c=Y(i)?i:n.length-1;for(;s<=c;)(r=n[s])&&qe(t,e,r),s++}function qe(t,e,n){const{node:i}=n;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{let r,s=function(){Fe(t,n),t.remove(e,i)};if(n.isComponent&&!(r=n.data[Te]))return void s();!function(t,e,n){let{data:i,transition:r}=t;e&&!r&&(r=e.$vnode.transition);if(r){const{leave:e}=r;if(e)return void e(t.node,i[Se]=function(){i[Se]&&(n(),i[Se]=o)})}n()}(n,r,s)}}function Fe(t,n){const{data:o,children:i,parent:r,slot:s}=n;if(s&&r&&r.$vnode){const t=r.get(s);if(t&&at(t,n))return}if(n.isComponent){const t=o[Te];t?(Ne(n),t.destroy()):o[Oe]=e}else Ne(n),i&&tt(i,function(e){Fe(t,e)})}function Ke(t,e){let{data:n,transition:o}=t;if(e&&!o&&(o=e.$vnode.transition),Q(n[Se]),o){const{enter:e}=o;if(e)return void e(t.node)}}function Be(t,e,n){if(e===n)return;const{node:i,data:r}=n;if(!Re(e,n)){const o=t.parent(i);return Ie(t,e),void(o&&(He(t,o,e,n),qe(t,o,n)))}if(e.node=i,e.data=r,n.isComponent&&r[Oe])return void(r[Ae]=e);if(e.isStatic&&n.isStatic)return;Pe(t,e,n),ze(t,e,n),Le(e,n),je(e,n);const{text:s,html:c,children:u,isStyle:f,isOption:a}=e,l=n.text,d=n.html,p=n.children;G(s)?s!==l&&t.text(i,s,f,a):G(c)?c!==d&&t.html(i,c,f,a):u&&p?u!==p&&function(t,e,n,i){let r,s,c=0,u=n.length-1,f=n[c],a=n[u],l=0,d=i.length-1,p=i[l],h=i[d];for(;l<=d&&c<=u;)f?a?p?h?Re(f,p)?(Be(t,f,p),f=n[++c],p=i[++l]):Re(a,h)?(Be(t,a,h),a=n[--u],h=i[--d]):Re(a,p)?(Be(t,a,p),Ue(t,e,p.node,t.next(h.node)),a=n[--u],p=i[++l]):Re(f,h)?(Be(t,f,h),Ue(t,e,h.node,p.node),f=n[++c],h=i[--d]):(r||(r=De(i,l,d)),Y(s=f.key?r[f.key]:o)?(Be(t,f,i[s]),i[s]=o):Ie(t,f),He(t,e,f,p),f=n[++c]):h=i[--d]:p=i[++l]:a=n[--u]:f=n[++c];l>d?Me(t,e,n,c,u,n[u+1]):c>u&&Ye(t,e,i,l,d)}(t,i,u,p):u?((G(l)||G(d))&&t.text(i,E,f),Me(t,i,u)):p?Ye(t,i,p):(G(l)||G(d))&&t.text(i,E,f)}function Ge(t,e){return Z(t)?+t:Y(e)?e:0}function Ve(t,e,n,o){(t[e]||(t[e]={}))[n]=o}const Xe="directives";let Ze="textContent",Je="innerHTML",Qe=function(t,n,o){t.addEventListener(n,o,e)},tn=function(t,n,o){t.removeEventListener(n,o,e)},en=function(t,e){t.classList.add(e)},nn=function(t,e){t.classList.remove(e)},on=function(t,e){return t};v&&(v.documentElement.classList||(en=function(t,e){const n=t.className.split(rn);at(n,e)||(it(n,e),t.className=dt(n,rn))},nn=function(t,e){const n=t.className.split(rn);ft(n,e)&&(t.className=dt(n,rn))}));const rn=" ",sn="$emitter",cn={svg:"http://www.w3.org/2000/svg"},un={};function fn(t){return v.createComment(t)}function an(t,n,o){if(Y(o))Jt(t,n,o,e);else{const e=Zt(t,n);if(e)return e.value}}function ln(t,e,o){if(Y(o))t.setAttribute(e,o);else{const o=t.getAttribute(e);if(o!=n)return o}}function dn(t,e){t.appendChild(e)}un[k]={on(n,o){let i=e;gn(n,"compositionstart",o.compositionstart=function(){i=t}),gn(n,"compositionend",o.compositionend=function(t){i=e,o(t)}),Qe(n,"input",o.input=function(t){i||o(t)})},off(t,e){yn(t,"compositionstart",e.compositionstart),yn(t,"compositionend",e.compositionend),tn(t,"input",e.input),e.compositionstart=e.compositionend=e.input=o}};const pn=function(t){const e=v.querySelector(t);if(e)return e};function hn(t,e,n,o){if(!Y(e))return t[Je];t[Je]=e}const mn=en,vn=nn;function gn(t,e,n,o){const i=t[sn]||(t[sn]=new me),r=i.nativeListeners||(i.nativeListeners={});if(!r[e]){const n=un[e],o=function(n){const o=n instanceof A?n:new A(n.type,on(n,t));o.type!==e&&(o.type=e),i.fire(e,[o])};r[e]=o,n?n.on(t,o):Qe(t,e,o)}i.on(e,{fn:n,ctx:o})}function yn(t,e,n){const i=t[sn],{listeners:r,nativeListeners:s}=i;if(i.off(e,n),s&&!i.has(e)){const n=un[e],o=s[e];n?n.off(t,o):tn(t,e,o),delete s[e]}te(r)&&(t[sn]=o)}var $n=Object.freeze({createElement:function(t,e){return e?v.createElementNS(cn.svg,t):v.createElement(t)},createText:function(t){return v.createTextNode(t)},createComment:fn,prop:an,removeProp:function(t,n,o){Jt(t,n,o===O?e:E,e)},attr:ln,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:dn,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){const{parentNode:e}=t;if(e)return e},next:function(t){const{nextSibling:e}=t;if(e)return e},find:pn,tag:function(t){if(1===t.nodeType)return Ot(t.tagName)},text:function(t,e,n,o){if(!Y(e))return t[Ze];t[Ze]=e},html:hn,addClass:mn,removeClass:vn,on:gn,off:yn,addSpecialEvent:function(t,e){un[t]=e}});class xn{constructor(e,n,o,i,r,s,c){const u=this;u.keypath=e,u.cache=o,u.deps=i,u.context=r.context,u.observer=r,u.getter=s,u.setter=c,u.unique={},u.watcher=function(n,o,i){const s=u.value,c=u.get(t);c!==s&&r.diff(e,c,s)},u.watcherOptions={sync:n,watcher:u.watcher},(u.fixed=!pt(i))&&tt(i,function(t){r.watch(t,u.watcherOptions)})}get(t){const e=this,{getter:n,context:o}=e;if(e.cache){if(t||!Qt(e,a))if(e.fixed)e.value=Q(n,o);else{e.unbind();const t=xn.current;xn.current=e,e.value=Q(n,o),e.bind(),xn.current=t}}else e.value=Q(n,o);return e.value}set(t){const{setter:e,context:n}=this;e&&e.call(n,t)}add(e){this.unique[e]=t}bind(){const{unique:t,deps:e,observer:n,watcherOptions:o}=this;Kt(t,function(t,i){it(e,i),n.watch(i,o)}),this.unique={}}unbind(){const{deps:e,observer:n,watcher:o}=this;tt(e,function(t){n.unwatch(t,o)},t),e.length=0}}function kn(t,n){let o;return tt(t,function(t){const i=Dt(n,t);if(i>=0)return o={name:t,prop:kt(n,i)},e}),o}function bn(t,e){if(t==n||e===E)return t;const o=Zt(t,e);return o?o.value:void 0}function wn(e,n,i,r,s){const c=function(t,n,o){if(n!==o){const i=Wt(e,t);tt(r,function(t){Y(It(i,t))&&s(t,i,n,o)}),wn(i,n,o,r,s)}};(function(e,n,i){const r=G(e),s=G(n);if(r||s)return i(l,r?e.length:o,s?n.length:o),t})(n,i,c)||function(e,n,i){const r=K(e),s=K(n);if(r||s){const c=r?e.length:o,u=s?n.length:o;i(l,c,u);for(let t=0,r=Math.max(c||0,u||0);t<r;t++)i(""+t,e?e[t]:o,n?n[t]:o);return t}}(n,i,c)||function(t,e,n){const o=B(t),i=B(e);(o||i)&&(t=o?t:w,e=i?e:w,o&&Kt(t,function(t,o){t!==e[o]&&n(o,t,e[o])}),i&&Kt(e,function(e,o){e!==t[o]&&n(o,t[o],e)}))}(n,i,c)}function Cn(t,e,n,o,i,r){let s;Kt(o,function(o,c){if(_t(c))return void(Y(It(t,c))?r(c,t,e,n):i&&(s?it(s,c):s=[c]));const u=Dt(c,t);if(u>=0){const t=kt(c,u),o=bn(e,t),i=bn(n,t);o!==i&&r(c,c,o,i)}}),s&&wn(t,e,n,s,r)}function En(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}const An={watcher:b};function On(e,n){return F(e)?(An.watcher=e,An.immediate=n===t,An):e&&e.watcher?e:void 0}class Tn{constructor(t,e){this.data=t||{},this.context=e||this,this.nextTask=new we,this.syncEmitter=new me,this.asyncEmitter=new me,this.asyncChanges={}}get(t,e,n){const o=xn.current,{data:i,computed:r,reversedComputedKeys:s}=this;if(t===E)return i;let c,u;if(o&&!n&&o.add(t),r){if(u=r[t])return u.get();if(s){const e=kn(s,t);e&&e.prop&&(c=Zt(r[e.name].get(),e.prop))}}return c||(c=Zt(i,t)),c?c.value:e}set(t,e){const n=this,{data:o,computed:i,reversedComputedKeys:r}=n,s=function(t,e){const s=n.get(e);if(t===s)return;let c;if(i&&((c=i[e])&&c.set(t),r)){const n=kn(r,e);if(n&&n.prop&&(c=i[n.name])){const e=c.get();B(e)&&Jt(e,n.prop,t)}}c||Jt(o,e,t),n.diff(e,t,s)};G(t)?s(e,t):B(t)&&Kt(t,s)}diff(e,n,i){const r=this,{syncEmitter:s,asyncEmitter:c,asyncChanges:u}=r,f=36!==Et(e);Cn(e,n,i,s.listeners,f,function(t,e,n,o){s.fire(t,[n,o,e])}),Cn(e,n,i,c.listeners,f,function(e,n,i,s){tt(c.listeners[e],function(t){t.count++});const{keypaths:f}=u[n]||(u[n]={value:s,keypaths:[]});at(f,e)||it(f,e),r.pending||(r.pending=t,r.nextTask.append(function(){r.pending&&(r.pending=o,r.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:e,asyncChanges:n}=t;t.asyncChanges={},Kt(n,function(n,o){const i=[t.get(o),n.value,o];tt(n.keypaths,function(t){e.fire(t,i,En)})})}addComputed(e,n){let o,i,r=t,s=t,c=[];if(F(n))o=n;else if(B(n)){const t=n;X(t.cache)&&(r=t.cache),X(t.sync)&&(s=t.sync),K(t.deps)&&(c=Xt(t.deps)),F(t.get)&&(o=t.get),F(t.set)&&(i=t.set)}if(o){const n=this,u=new xn(e,s,r,c,n,o,i);return n.computed||(n.computed={}),n.computed[e]=u,n.reversedComputedKeys=Ft(n.computed,t),u}}removeComputed(e){const n=this,{computed:o}=n;o&&Qt(o,e)&&(delete o[e],n.reversedComputedKeys=Ft(o,t))}watch(t,e,n){const i=this,{context:r,syncEmitter:s,asyncEmitter:c}=i,u=function(t,e){const n=e.sync?s:c,u={fn:e.watcher,ctx:r,count:0};e.once&&(u.max=1),n.on(t,u),e.immediate&&Q(e.watcher,r,[i.get(t),o,t])};G(t)?u(t,On(e,n)):Kt(t,function(t,e){u(e,On(t))})}unwatch(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)}toggle(t){const e=!this.get(t);return this.set(t,e),e}increase(t,e,n){const o=Ge(this.get(t),0)+(e||1);if(!V(n)||o<=n)return this.set(t,o),o}decrease(t,e,n){const o=Ge(this.get(t),0)-(e||1);if(!V(n)||o>=n)return this.set(t,o),o}insert(n,o,i){let r=this.get(n);r=K(r)?Xt(r):[];const{length:s}=r;if(i===t||i===s)r.push(o);else if(i===e||0===i)r.unshift(o);else{if(!(i>0&&i<s))return;r.splice(i,0,o)}return this.set(n,r),t}append(e,n){return this.insert(e,n,t)}prepend(t,n){return this.insert(t,n,e)}removeAt(e,n){let o=this.get(e);if(K(o)&&n>=0&&n<o.length)return(o=Xt(o)).splice(n,1),this.set(e,o),t}remove(e,n){let o=this.get(e);if(K(o)&&ft(o=Xt(o),n))return this.set(e,o),t}copy(t,e){return Xt(t,e)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Bt(this)}}function Sn(t,e,n){let i;return function(){if(!i){const r=lt(arguments);n&&Q(t,o,r),i=setTimeout(function(){i=o,n||Q(t,o,r)},e)}}}var Pn=Object.freeze({bind:function(e,n,o){let i,{key:r,name:s,modifier:c,handler:u}=n,{lazy:f}=o;if(u){if(f){const e=f[s]||f[E];e===t?s=x:e>0&&(u=Sn(u,e,s===$||s===y))}if(o.isComponent){const t=e;c===j?(gn(i=t.$el,s,u),o.data[r]=function(){yn(i,s,u)}):(c&&(s+=h+c),t.on(s,u),o.data[r]=function(){t.off(s,u)})}else gn(i=e,s,u),o.data[r]=function(){yn(i,s,u)}}},unbind:function(t,e,n){Q(n.data[e.key])}});function zn(e,n){return n&&n!==t?Sn(e,n):e}const jn={set(t,e){t.value=ne(e)},sync(t,e,n){n.set(e,t.value)},name:a},Nn={set(t,e){t.checked=t.value===ne(e)},sync(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},Ln={set(t,n){t.checked=K(n)?at(n,t.value,e):!!n},sync(t,n,o){const i=o.get(n);K(i)?t.checked?o.append(n,t.value):o.removeAt(n,st(i,t.value,e)):o.set(n,t.checked)},name:"checked"},Rn={set(t,n){tt(lt(t.options),t.multiple?function(t){t.selected=at(n,t.value,e)}:function(o,i){if(o.value==n)return t.selectedIndex=i,e})},sync(t,e,n){const{options:o}=t;if(t.multiple){const t=[];tt(lt(o),function(e){e.selected&&it(t,e.value)}),n.set(e,t)}else n.set(e,o[t.selectedIndex].value)},name:a},Dn=t;var Un=Object.freeze({once:Dn,bind:function(e,n,i){let r,s,{context:c,lazy:u,isComponent:f}=i,a=n.modifier,l=u&&(u[T]||u[E]);if(f){let t=e,n=t.$model,o=zn(function(t){c.set(a,t)},l);r=function(e){r&&t.set(n,e)},s=function(){t.unwatch(n,o)},t.watch(n,o)}else{let o=e,u="select"===i.tag?Rn:jn,f=x;if(u===jn){const n=e.type;"radio"===n?u=Nn:"checkbox"===n?u=Ln:l!==t&&(f=k)}r=function(t){r&&u.set(o,t)};const d=zn(function(){u.sync(o,a,c)},l);s=function(){yn(o,f,d)},gn(o,f,d),u.set(o,n.value)}c.watch(a,r),i.data[n.key]=function(){c.unwatch(a,r),r=o,s()}},unbind:function(t,e,n){Q(n.data[e.key])}});const Wn=t;var _n=Object.freeze({once:Wn,bind:function(t,e,n){let i=e.modifier,r=_t(i),s=function(o,c,u){if(s){const s=r?It(u,i):e.name;if(n.isComponent){const e=t;e.checkProp(s,o),e.set(s,o)}else{const n=t;Y(e.hint)?an(n,s,o):ln(n,s,o)}}};n.context.watch(i,s),n.data[e.key]=function(){n.context.unwatch(i,s),s=o}},unbind:function(t,e,n){Q(n.data[e.key])}});const In={},Mn={},Hn={},Yn={},qn={},Fn="$$",Kn=/^[#.][-\w+]+$/;class Bn{constructor(n){const i=this,a=n||w;i.$emitter=new me(t),a.events&&i.on(a.events),a.parent&&(i.$parent=a.parent),Q(a[R],i,a),i.fire(R+L,a);let{data:l,props:p,vnode:h,propTypes:m,computed:v,methods:g,watchers:y,extensions:$}=a;i.$options=a,$&&Gt(i,$);const x=p?Xt(p):{};m&&Kt(m,function(t,e){let n=x[e];q(n)&&Y(n=t.value)&&(x[e]=t.type===d?n:F(n)?n():n)});const k=i.$observer=new Tn(x,i);v&&Kt(v,function(t,e){k.addComputed(e,t)});const b=F(l)?Q(l,i,n):l;B(b)&&Kt(b,function(t,e){x[e]=t}),g&&Kt(g,function(t,e){i[e]=t});{let n=o,{el:l,root:d,model:p,context:m,replace:v,template:g,transitions:$,components:b,directives:w,partials:C,filters:A,slots:O}=a;if(p&&(i.$model=p),O&&Gt(x,O),G(g)&&Kn.test(g)&&(n=pn(g))&&(g=hn(n),n=o),l){if(G(l)){const t=l;Kn.test(t)&&(n=pn(t))}else n=l;v||dn(n,n=fn(E))}if(d&&(i.$root=d),m&&(i.$context=m),Vn(i,f,$),Vn(i,c,b),Vn(i,u,w),Vn(i,s,C),Vn(i,r,A),g){const o=y?Xt(y):{};return o[Fn]={sync:t,watcher:function(t){i.update(t,i.$vnode)}},k.addComputed(Fn,{sync:e,get:function(){return i.render()}}),Gn(i,o),i.$template=G(g)?Bn.compile(g):g,h||(h=function(t,e,n,o){return{tag:t.tag(e),data:_e(),node:e,context:n,keypath:o}}($n,n,i,E)),void i.update(i.get(Fn),h)}}Gn(i,y)}static define(t){return t}static use(t){t.install(Bn)}static nextTick(t,e){we.shared().append(t,e)}static compile(t,e){return E}static directive(t,e){if(G(t)&&!e)return Qn(In,t);to(In,t,e)}static transition(t,e){if(G(t)&&!e)return Qn(Mn,t);to(Mn,t,e)}static component(t,e){if(G(t)&&!e)return Qn(Hn,t);to(Hn,t,e)}static partial(t,e){if(G(t)&&!e)return Qn(Yn,t);to(Yn,t,e,Bn.compile)}static filter(t,e){if(G(t)&&!e)return Qn(qn,t);to(qn,t,e)}get(t,e){return this.$observer.get(t,e)}set(t,e){const{$observer:n}=this;n&&n.set(t,e)}on(t,e){return Zn(this,t,e),this}once(e,n){return Zn(this,e,n,t),this}off(t,e){return this.$emitter.off(t,e),this}fire(e,n,o){let i,r=this,{$emitter:s,$parent:c,$children:u}=r,f=e instanceof A?e:new A(e),a=[f];if(q(f.ns)){const t=s.parse(f.type);f.type=t.type,f.ns=t.ns}return f.target||(f.target=r),B(n)?it(a,n):n===t&&(o=t),(i=s.fire(f,a))&&(o?u&&(f.phase=A.PHASE_DOWNWARD,tt(u,function(e){return i=e.fire(f,n,t)})):c&&(f.phase=A.PHASE_UPWARD,i=c.fire(f,n))),i}watch(t,e,n){return this.$observer.watch(t,e,n),this}unwatch(t,e){return this.$observer.unwatch(t,e),this}loadComponent(t,e){Jn(this.$components,t,e)||Jn(Hn,t,e)}createComponent(e,n){{const o=this;(e=Xt(e)).root=o.$root||o,e.parent=o,e.context=n.context,e.vnode=n,e.replace=t;let{props:i,slots:r,directives:s}=n,c=s&&s[T];if(c){i||(i={});const t=e.model||N;i[t]=c.value,e.model=t}i&&(e.props=i),r&&(e.slots=r);const u=new Bn(e);it(o.$children||(o.$children=[]),u);const f=u.$el;return f&&(n.node=f),u}}directive(t,e){{const n=this,{$directives:o}=n;if(G(t)&&!e)return Qn(o,t,Bn.directive);to(o||(n.$directives={}),t,e)}}transition(t,e){{const n=this,{$transitions:o}=n;if(G(t)&&!e)return Qn(o,t,Bn.transition);to(o||(n.$transitions={}),t,e)}}component(t,e){{const n=this,{$components:o}=n;if(G(t)&&!e)return Qn(o,t,Bn.component);to(o||(n.$components={}),t,e)}}partial(t,e){{const n=this,{$partials:o}=n;if(G(t)&&!e)return Qn(o,t,Bn.partial);to(o||(n.$partials={}),t,e,Bn.compile)}}filter(t,e){{const n=this,{$filters:o}=n;if(G(t)&&!e)return Qn(o,t,Bn.filter);to(o||(n.$filters={}),t,e)}}forceUpdate(e){{const n=this,{$vnode:o,$observer:i}=n,{computed:r}=i;if(o&&r){const s=r[Fn],c=s.get();e&&n.set(e),i.nextTask.run(),e||c!==s.get()||n.update(s.get(t),o)}}}render(){{const e=this;return function(e,i,r,s,c,u,f){let a,l={$keypath:E},d=[l],m=[],v={},g=function(t,e,r,c,u,f){let a=t[e],l=Wt(a.$keypath,r),d=t,p=Mt;if(q(f)&&(f=l),Y(a[r])?d=a[r]:Y(a.$item)&&(a=a.$item,r===E?d=a:a!=n&&Y(a[r])&&(d=a[r])),d===t&&(d=i.get(l,t,u))===t){if(c&&e>0)return g(t,e-1,r,c,u,f);const n=Zt(s,r);return n?(p=n).keypath=r:(p.value=o,p.keypath=f),p}return p.value=d,p.keypath=l,p},y=function(t,n,i){return function(r,s){const c=e[t];if(r instanceof A){let t=o;if(n){const u=ct(i);u&&(u.$event=r,u.$data=s,t=Q(c,e,n(i)),u.$event=u.$data=o)}else t=Q(c,e,s?[r,s]:r);return t}Q(c,e,n?n(i):o)}},$=function(t,e){return function(){return t(e)}},x=function(n){const o=ct(m);if(o){const i=ct(o);i&&i.isText?i.text+=n:it(o,{isText:t,text:n,context:e,keypath:l.$keypath})}},k=function(t,e){a.isComponent?Ve(a,"props",t,e):Ve(a,"nativeAttrs",t,{name:t,value:e})},b=function(t,e,n){Ve(a,"nativeProps",t,{name:t,value:n,hint:e})},w=function(t,e){Ve(a,"lazy",t,e)},C=function(t){a.transition=f[t]},O=function(t,e,n){const o=Wt(P,t);return Ve(a,Xe,o,{ns:P,name:t,key:o,modifier:e.keypath,hooks:u[P],hint:n}),e.value},j=function(t){Ve(a,Xe,T,{ns:T,name:E,key:T,value:t.value,modifier:t.keypath,hooks:u[T]})},N=function(t,e,n,o,i,r){Ve(a,Xe,e,{ns:S,name:t,key:e,value:o,modifier:n,hooks:u[S],handler:y(i,r,d)})},L=function(t,n,o,i,r){var s;Ve(a,Xe,n,{ns:S,name:t,key:n,value:i,modifier:o,hooks:u[S],handler:(s=r,function(t,n){s!==t.type&&(t=new A(s,t)),e.fire(t,n)})})},R=function(t,e,n,i,r,s,c){const f=u[t];Ve(a,Xe,e,{ns:z,name:t,key:e,value:i,hooks:f,modifier:n,getter:c?$(c,d):o,handler:r?y(r,s,d):o})},D=function(t){const{value:e,keypath:o}=t;if(e!=n&&B(e)&&!K(e)&&(Kt(e,function(t,e){Ve(a,"props",e,t)}),o)){const t=Wt(P,o);Ve(a,Xe,t,{ns:P,name:E,key:t,modifier:Wt(o,p),hooks:u[P]})}},U=function(t,n,r,s,c){if(n){const e=i.get(n);t.tag=e}if(r&&(a=t,r(),a=o),s)m.push(t.children=[]),s(),ut(m);else if(c){const e={};Kt(c,function(t,n){m.push([]),t();const i=ut(m);e[n]=i.length?i:o}),t.slots=e}t.context=e,t.keypath=l.$keypath;const u=ct(m);return u&&it(u,t),t},W=function(t,e,n,o,i,r){const s=r||d,c=g(s,s.length-((n||0)+1),t,e,i);return o?c:c.value},_=function(t,e){return rt(e,t),dt(e,h)},I=function(t,e,n,i){Y(n)&&(e=dt(n,h));const r=Zt(t,e);return Mt.keypath=o,Mt.value=r?r.value:o,i?Mt:Mt.value},M=function(t,n,i){return Mt.keypath=o,Mt.value=Q(t,e,n||o),i?Mt:Mt.value},H=function(t,n){const o=ct(m),i=e.get(t);o&&(i?tt(i,function(n){it(o,n),n.slot=t,n.parent=e}):n&&n())},F=function(t,e){v[t]=e},G=function(t){if(v[t])v[t]();else{const e=c[t];e&&e(W,_,I,M,x,k,b,w,C,O,j,N,L,R,D,U,H,F,G,X,Z,J,ne)}},V=function(t,e,n,o,i,r){const s=l,c=d;l={$keypath:o},d=c.concat(l),Y(r)&&(l.$length=r),i&&(l[i]=n),o||(l.$item=e),t(),l=s,d=c},X=function(t,e,n){const{keypath:o,value:i}=e;if(K(i))for(let e=0,r=i.length;e<r;e++)V(t,i[e],e,o?Wt(o,E+e):E,n,r);else if(B(i))for(let e in i)V(t,i[e],e,o?Wt(o,e):E,n)},Z=function(t,e,n,o){let i=0;if(e<n)for(let r=e;r<n;r++)V(t,r,i++,E,o);else for(let r=e;r>n;r--)V(t,r,i++,E,o)},J=function(t,e,n,o){let i=0;if(e<n)for(let r=e;r<=n;r++)V(t,r,i++,E,o);else for(let r=e;r>=n;r--)V(t,r,i++,E,o)};return r(W,_,I,M,x,k,b,w,C,O,j,N,L,R,D,U,H,F,G,X,Z,J,ne)}(e,e.$observer,e.$template,Vt(e.$filters,qn),Vt(e.$partials,Yn),Vt(e.$directives,In),Vt(e.$transitions,Mn))}}update(t,e){{let n,o=this,{$vnode:i,$options:r}=o;o.$refs={},i?(Q(r[_],o),o.fire(_+L),Be($n,t,e),n=I):(Q(r[U],o),o.fire(U+L),Be($n,t,e),o.$el=t.node,n=W),o.$vnode=t,Bn.nextTick(function(){o.$vnode&&(Q(r[n],o),o.fire(n+L))})}}checkProp(t,e){}destroy(){const t=this,{$parent:e,$options:n,$emitter:i,$observer:r}=t;{Q(n[M],t),t.fire(M+L);const{$vnode:i}=t;e&&e.$children&&ft(e.$children,t),i&&(t.$vnode=o,function(t,e,n){if(n){const n=t.parent(e.node);n&&qe(t,n,e)}else Fe(t,e)}($n,i,!e))}r.destroy(),Q(n[H],t),t.fire(H+L),i.off(),Bt(t)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,e,n){return this.$observer.increase(t,e,n)}decrease(t,e,n){return this.$observer.decrease(t,e,n)}insert(t,e,n){return this.$observer.insert(t,e,n)}append(t,e){return this.$observer.append(t,e)}prepend(t,e){return this.$observer.prepend(t,e)}removeAt(t,e){return this.$observer.removeAt(t,e)}remove(t,e){return this.$observer.remove(t,e)}copy(t,e){return this.$observer.copy(t,e)}}function Gn(t,e){e&&t.watch(e),Q(t.$options[D],t),t.fire(D+L)}function Vn(t,e,n){F(n)?t[e](Q(n,t)):B(n)&&t[e](n)}function Xn(t,e,n,o){const i={fn:n,ctx:t};o&&(i.max=1),t.$emitter.on(e,i)}function Zn(t,e,n,o){G(e)?Xn(t,e,n,o):Kt(e,function(e,n){Xn(t,n,e,o)})}function Jn(e,n,o){if(e&&e[n]){const i=e[n];if(F(i)){e[n]=[o];const t=function(t){const o=e[n],i=t.default||t;e[n]=i,tt(o,function(t){t(i)})},r=i(t);r&&r.then(t)}else K(i)?it(i,o):o(i);return t}}function Qn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function to(t,e,n,o){G(e)?t[e]=o?o(n):n:Kt(e,function(e,n){t[n]=o?o(e):e})}Bn.version="1.0.0-alpha.92",Bn.is=J,Bn.dom=$n,Bn.array=ht,Bn.object=ee,Bn.string=Pt,Bn.logger=he,Bn.Event=A,Bn.Emitter=me,Bn.directive({event:Pn,model:Un,binding:_n}),Bn.filter({hasSlot(t){return Y(this.get("$slot_"+t))}});export default Bn;
//# sourceMappingURL=yox.esm.min.js.map
