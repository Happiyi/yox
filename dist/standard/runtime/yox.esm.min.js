const t=3,e="model",n="event",o="binding",i="o",r="native",s="value",c=".hook",u="beforeCreate",f="afterCreate",a="beforeMount",l="afterMount",d="beforeUpdate",p="afterUpdate",h="beforeDestroy",m="afterDestroy",v=!0,g=!1,y=null,$=void 0,x=-1,k="filter",b="partial",w="component",C="directive",E="transition",A="value",O="length",T="function",S="*",P=".",z="undefined"!=typeof window?window:$,j="undefined"!=typeof document?document:$,N="undefined"!=typeof global?global:z,L="tap",R="click",D="change",U="model",W=function(){},_=Object.freeze({}),I=Object.freeze([]),M="";function H(t){return t!==$}function Y(t){return t===$}function q(t){return typeof t===T}function F(t){return Array.isArray(t)}function K(t){return t!==y&&"object"==typeof t}function B(t){return"string"==typeof t}function G(t){return"number"==typeof t}function V(t){return"boolean"==typeof t}function X(t){return G(t)||B(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var Z=Object.freeze({func:q,array:F,object:K,string:B,number:G,boolean:V,numeric:X});function J(t,e,n){if(q(t))return F(n)?t.apply(e,n):H(e)?t.call(e,n):H(n)?t(n):t()}class Q{constructor(t,e){this.type=t,this.phase=Q.PHASE_CURRENT,e&&(this.originalEvent=e)}preventDefault(){const t=this;if(!t.isPrevented){const{originalEvent:e}=t;e&&e.preventDefault(),t.isPrevented=v}return t}stopPropagation(){const t=this;if(!t.isStoped){const{originalEvent:e}=t;e&&e.stopPropagation(),t.isStoped=v}return t}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function tt(t,e,n){const{length:o}=t;if(o)if(n)for(let n=o-1;n>=0&&e(t[n],n)!==g;n--);else for(let n=0;n<o&&e(t[n],n)!==g;n++);}function et(t,e){t[t.length]=e}function nt(t,e){t.unshift(e)}function ot(t,e,n){F(e)?tt(e,function(e){n(t,e)}):n(t,e)}function it(t,e){ot(t,e,et)}function rt(t,e){ot(t,e,nt)}function st(t,e,n){let o=x;return tt(t,function(t,i){if(n===g?t==e:t===e)return o=i,g}),o}function ct(t){const{length:e}=t;if(e>0)return t[e-1]}function ut(t){const{length:e}=t;if(e>0)return t.pop()}function ft(t,e,n){let o=0;return tt(t,function(i,r){(n===g?i==e:i===e)&&(t.splice(r,1),o++)},v),o}function at(t,e,n){return st(t,e,n)>=0}function lt(t){return F(t)?t:J(I.slice,t)}function dt(t,e){return t.join(e)}function pt(t){return!F(t)||!t.length}Q.PHASE_CURRENT=0,Q.PHASE_UPWARD=1,Q.PHASE_DOWNWARD=x;var ht=Object.freeze({each:tt,push:it,unshift:rt,indexOf:st,last:ct,pop:ut,remove:ft,has:at,toArray:lt,toObject:function(t,e,n){let o={};return tt(t,function(t){o[e?t[e]:t]=n||t}),o},join:dt,falsy:pt});const mt=/-([a-z])/gi,vt=/\B([A-Z])/g,gt=/^[a-z]/,yt={},$t={},xt={};function kt(t,e,n){return G(n)?e===n?M:t.slice(e,n):t.slice(e)}function bt(t,e,n){return t.indexOf(e,H(n)?n:0)}function wt(t,e,n){return t.lastIndexOf(e,H(n)?n:t.length)}function Ct(t,e){return 0===bt(t,e)}function Et(t,e){return t.charCodeAt(e||0)}function At(t){return t.toUpperCase()}function Ot(t){return t.toLowerCase()}function Tt(t,e){return bt(t,e)>=0}function St(t){return!B(t)||!t.length}var Pt=Object.freeze({camelize:function(t){return yt[t]||(yt[t]=t.replace(mt,function(t,e){return At(e)})),yt[t]},hyphenate:function(t){return $t[t]||($t[t]=t.replace(vt,function(t,e){return"-"+Ot(e)})),$t[t]},capitalize:function(t){return xt[t]||(xt[t]=t.replace(gt,At)),xt[t]},trim:function(t){return St(t)?M:t.trim()},slice:kt,indexOf:bt,lastIndexOf:wt,startsWith:Ct,endsWith:function(t,e){const n=t.length-e.length;return n>=0&&wt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:Et,upper:At,lower:Ot,has:Tt,falsy:St});const zt=/\./g,jt=/\*/g,Nt=/\*\*/g,Lt={},Rt={};function Dt(t,e){return t===e?e.length:Ct(t,e+=P)?e.length:x}function Ut(t,e){const n=Lt.hasOwnProperty(t)?Lt[t]:Lt[t]=t.split(P);for(let t=0,o=n.length-1;t<=o&&e(n[t],t===o)!==g;t++);}function Wt(t,e){return t&&e?t+P+e:t||e}function _t(t){return Tt(t,S)}function It(t,e){let n=Rt[e];if(!n){const t=e.replace(zt,"\\.").replace(jt,"(\\w+)").replace(Nt,"([.\\w]+?)");n=Rt[e]=new RegExp(`^${t}$`)}const o=t.match(n);if(o)return o[1]}const Mt={value:$};function Ht(t){return Object.keys(t)}function Yt(t,e){return t.length-e.length}function qt(t,e){return e.length-t.length}function Ft(t,e){return Ht(t).sort(e?qt:Yt)}function Kt(t,e){for(let n in t)if(e(t[n],n)===g)break}function Bt(t){Kt(t,function(e,n){delete t[n]})}function Gt(t,e){return Kt(e,function(e,n){t[n]=e}),t}function Vt(t,e){return t&&e?Gt(Gt({},t),e):t||e}function Xt(t,e){let n=t;return F(t)?e?(n=[],tt(t,function(t,o){n[o]=Xt(t,e)})):n=t.slice():K(t)&&(n={},Kt(t,function(t,o){n[o]=e?Xt(t,e):t})),n}function Zt(t,e){return Ut(e,function(e,n){if(t==y)return t=$,g;{let o=t[e],i=H(o);o&&q(o.get)&&(o=o.get()),n?i?(Mt.value=o,t=Mt):t=$:t=o}}),t}function Jt(t,e,n,o){Ut(e,function(e,i){if(i)t[e]=n;else if(t[e])t=t[e];else{if(!o)return g;t=t[e]={}}})}function Qt(t,e){return H(t[e])}function te(t){return!K(t)||F(t)||!Ht(t).length}var ee=Object.freeze({keys:Ht,sort:Ft,each:Kt,clear:Bt,extend:Gt,merge:Vt,copy:Xt,get:Zt,set:Jt,has:Qt,falsy:te});function ne(t,e){return t!=y&&t.toString?t.toString():H(e)?e:M}const oe=1,ie=2,re=3,se=4,ce=5,ue="undefined"!=typeof console?console:y,fe=/yox/.test(ne(W))?ie:re,ae=z&&/edge|msie|trident/i.test(z.navigator.userAgent)?M:"%c",le=ue?ae?function(t,e,n){ue.log(ae+t,n,e)}:function(t,e){ue.log(t,e)}:W;function de(){if(N){const t=N.YOX_LOG_LEVEL;if(t>=oe&&t<=ce)return t}return fe}function pe(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}var he=Object.freeze({DEBUG:oe,INFO:ie,WARN:re,ERROR:se,FATAL:ce,debug:function(t,e){de()<=oe&&le(e||"Yox debug",t,pe("#999"))},info:function(t,e){de()<=ie&&le(e||"Yox info",t,pe("#2db7f5"))},warn:function(t,e){de()<=re&&le(e||"Yox warn",t,pe("#f90"))},error:function(t,e){de()<=se&&le(e||"Yox error",t,pe("#ed4014"))},fatal:function(t,e){if(de()<=ce)throw new Error(`[${e||"Yox fatal"}]: ${t}`)}});class me{constructor(t){this.ns=t||g,this.listeners={}}fire(t,e,n){let o=this,i=B(t)?o.parse(t):t,r=o.listeners[i.type],s=v;if(r){r=Xt(r);const t=e&&e[0]instanceof Q?e[0]:$;tt(r,function(c){if(!ye(i.ns,c)||!at(r,c)||n&&!n(i,e,c))return;t&&(t.listener=c.fn);let u=J(c.fn,c.ctx,e);return t&&(t.listener=$),c.num=c.num?c.num+1:1,c.num===c.max&&o.off(i,c.fn),t&&(u===g?t.prevent().stop():t.isStoped&&(u=g)),u===g?s=g:void 0})}return s}on(t,e){const n=this,o=n.listeners,i=q(e)?{fn:e}:e;if(K(i)&&q(i.fn)){const e=B(t)?n.parse(t):t;i.ns=e.ns,it(o[e.type]||(o[e.type]=[]),i)}}off(t,e){const n=this,o=n.listeners;if(t){const i=B(t)?n.parse(t):t,r=i.type,s=i.ns,c=ge(e),u=function(t,e){tt(t,function(e,n){c(e)&&ye(s,e)&&t.splice(n,1)},v),t.length||delete o[e]};r?o[r]&&u(o[r],r):s&&Kt(o,u)}else n.listeners={}}has(t,e){let n=this.listeners,o=B(t)?this.parse(t):t,i=o.type,r=o.ns,s=v,c=ge(e),u=function(t){return tt(t,function(t){if(c(t)&&ye(r,t))return s=g}),s};return i?n[i]&&u(n[i]):r&&Kt(n,u),!s}parse(t){const e={type:t,ns:M};if(this.ns){const n=bt(t,P);n>=0&&(e.type=kt(t,0,n),e.ns=kt(t,n+1))}return e}}function ve(){return v}function ge(t){return q(t)?function(e){return t===e.fn}:ve}function ye(t,e){const{ns:n}=e;return n&&t?n===t:v}function $e(t){return q(t)&&Tt(ne(t),"[native code]")}let xe;typeof setImmediate===T&&$e(setImmediate)&&(xe=setImmediate);var ke=xe=typeof MessageChannel===T&&$e(MessageChannel)?function(t){const e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout;let be;class we{static shared(){return be||(be=new we)}constructor(){this.tasks=[]}append(t,e){const n=this,{tasks:o}=n;it(o,{fn:t,ctx:e}),1===o.length&&ke(function(){n.run()})}prepend(t,e){const n=this,{tasks:o}=n;rt(o,{fn:t,ctx:e}),1===o.length&&ke(function(){n.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],tt(t,function(t){J(t.fn,t.ctx)}))}}let Ce=0;const Ee="$id",Ae="$vnode",Oe="$loading",Te="$component",Se="$leaving";function Pe(t,e,n){const{node:o,nativeAttrs:i}=e,r=n&&n.nativeAttrs;if(i||r){const e=i||_,n=r||_;Kt(e,function(e,i){n[i]&&e.value===n[i].value||t.attr(o,i,e.value)}),Kt(n,function(n,i){e[i]||t.removeAttr(o,i)})}}function ze(t,e,n){const{node:o,nativeProps:i}=e,r=n&&n.nativeProps;if(i||r){const e=i||_,n=r||_;Kt(e,function(e,i){n[i]&&e.value===n[i].value||t.prop(o,i,e.value)}),Kt(n,function(n,i){e[i]||t.removeProp(o,i,n.hint)})}}function je(t,e){const{data:n,directives:o}=t,i=e&&e.directives;if(o||i){const r=n[Te]||t.node,s=e&&t.keypath!==e.keypath,c=o||_,u=i||_;Kt(c,function(n,o){const{once:i,bind:c,unbind:f}=n.hooks;u[o]?(i||n.value!==u[o].value||s)&&(f&&f(r,u[o],e),c(r,n,t)):c(r,n,t)}),Kt(u,function(t,n){if(!c[n]){const{unbind:n}=t.hooks;n&&n(r,t,e)}})}}function Ne(t){const{directives:e}=t;if(e){const n=t.data[Te]||t.node;Kt(e,function(e){const{unbind:o}=e.hooks;o&&o(n,e,t)})}}function Le(t,n){let o,{data:i,ref:r,props:s,slots:c,directives:u,context:f}=t;if(t.isComponent){if(o=i[Te],n){const t=u&&u[e];t&&(s||(s={}),s[o.$model]=t.value);const n=Vt(s,c);n&&o.forceUpdate(n)}}else o=t.node;if(r){const t=f.$refs;t&&(t[r]=o)}}function Re(t,e){return t.tag===e.tag&&t.key===e.key}function De(t,e,n){let o,i,r;for(;e<=n;)(i=t[e])&&(r=i.key)&&(o||(o={}),o[r]=e),e++;return o||_}function Ue(t,e,n,o){o?t.before(e,n,o):t.append(e,n)}function We(t,e){const n=(t.parent||t.context).createComponent(e,t);return t.data[Te]=n,t.data[Oe]=g,Le(t),je(t),n}function _e(){const t={};return t[Ee]=++Ce,t}function Ie(t,e){let{tag:n,node:o,data:i,isComponent:r,isComment:s,isText:c,isStyle:u,isOption:f,children:a,text:l,html:d,context:p}=e;if(!o||!i)if(i=_e(),e.data=i,c)e.node=t.createText(l);else if(s)e.node=t.createComment(l);else if(r){let o=$;n&&p.loadComponent(n,function(t){Qt(i,Oe)?i[Oe]&&(i[Ae]&&(e=i[Ae],delete i[Ae]),Ke(e,We(e,t))):o=t}),e.node=t.createComment(w),o?We(e,o):i[Oe]=v}else o=e.node=t.createElement(e.tag,e.isSvg),a?Me(t,o,a):l?t.text(o,l,u,f):d&&t.html(o,d,u,f),Pe(t,e),ze(t,e),Le(e),je(e)}function Me(t,e,n,o,i,r){let s,c=o||0,u=H(i)?i:n.length-1;for(;c<=u;)Ie(t,s=n[c]),He(t,e,s,r),c++}function He(t,e,n,o){const{node:i,data:r,context:s}=n,c=t.parent(i);if(o?t.before(e,i,o.node):t.append(e,i),!c){let t=$;if(n.isComponent){const e=r[Te];e&&(t=function(){Ke(n,e)})}else n.isStatic||n.isText||n.isComment||(t=function(){Ke(n)});t&&s.$observer.nextTask.prepend(t)}}function Ye(t,e,n,o,i){let r,s=o||0,c=H(i)?i:n.length-1;for(;s<=c;)(r=n[s])&&qe(t,e,r),s++}function qe(t,e,n){const{node:o}=n;if(n.isStatic||n.isText||n.isComment)t.remove(e,o);else{let i,r=function(){Fe(t,n),t.remove(e,o)};if(n.isComponent&&!(i=n.data[Te]))return void r();!function(t,e,n){let{data:o,transition:i}=t;e&&!i&&(i=e.$vnode.transition);if(i){const{leave:e}=i;if(e)return void e(t.node,o[Se]=function(){o[Se]&&(n(),o[Se]=$)})}n()}(n,i,r)}}function Fe(t,e){const{data:n,children:o,parent:i,slot:r}=e;if(r&&i&&i.$vnode){const t=i.get(r);if(t&&at(t,e))return}if(e.isComponent){const t=n[Te];t?(Ne(e),t.destroy()):n[Oe]=g}else Ne(e),o&&tt(o,function(e){Fe(t,e)})}function Ke(t,e){let{data:n,transition:o}=t;if(e&&!o&&(o=e.$vnode.transition),J(n[Se]),o){const{enter:e}=o;if(e)return void e(t.node)}}function Be(t,e,n){if(e===n)return;const{node:o,data:i}=n;if(!Re(e,n)){const i=t.parent(o);return Ie(t,e),void(i&&(He(t,i,e,n),qe(t,i,n)))}if(e.node=o,e.data=i,n.isComponent&&i[Oe])return void(i[Ae]=e);if(e.isStatic&&n.isStatic)return;Pe(t,e,n),ze(t,e,n),Le(e,n),je(e,n);const{text:r,html:s,children:c,isStyle:u,isOption:f}=e,a=n.text,l=n.html,d=n.children;B(r)?r!==a&&t.text(o,r,u,f):B(s)?s!==l&&t.html(o,s,u,f):c&&d?c!==d&&function(t,e,n,o){let i,r,s=0,c=n.length-1,u=n[s],f=n[c],a=0,l=o.length-1,d=o[a],p=o[l];for(;a<=l&&s<=c;)u?f?d?p?Re(u,d)?(Be(t,u,d),u=n[++s],d=o[++a]):Re(f,p)?(Be(t,f,p),f=n[--c],p=o[--l]):Re(f,d)?(Be(t,f,d),Ue(t,e,d.node,t.next(p.node)),f=n[--c],d=o[++a]):Re(u,p)?(Be(t,u,p),Ue(t,e,p.node,d.node),u=n[++s],p=o[--l]):(i||(i=De(o,a,l)),H(r=u.key?i[u.key]:$)?(Be(t,u,o[r]),o[r]=$):Ie(t,u),He(t,e,u,d),u=n[++s]):p=o[--l]:d=o[++a]:f=n[--c]:u=n[++s];a>l?Me(t,e,n,s,c,n[c+1]):s>c&&Ye(t,e,o,a,l)}(t,o,c,d):c?((B(a)||B(l))&&t.text(o,M,u),Me(t,o,c)):d?Ye(t,o,d):(B(a)||B(l))&&t.text(o,M,u)}function Ge(t,e){return X(t)?+t:H(e)?e:0}function Ve(t,e,n,o){(t[e]||(t[e]={}))[n]=o}const Xe="directives";let Ze="textContent",Je="innerHTML",Qe=function(t,e,n){t.addEventListener(e,n,g)},tn=function(t,e,n){t.removeEventListener(e,n,g)},en=function(t,e){t.classList.add(e)},nn=function(t,e){t.classList.remove(e)},on=function(t,e){return t};j&&(j.documentElement.classList||(en=function(t,e){const n=t.className.split(rn);at(n,e)||(it(n,e),t.className=dt(n,rn))},nn=function(t,e){const n=t.className.split(rn);ft(n,e)&&(t.className=dt(n,rn))}));const rn=" ",sn="$emitter",cn={svg:"http://www.w3.org/2000/svg"},un={};function fn(t){return j.createComment(t)}function an(t,e,n){if(H(n))Jt(t,e,n,g);else{const n=Zt(t,e);if(n)return n.value}}function ln(t,e,n){if(H(n))t.setAttribute(e,n);else{const n=t.getAttribute(e);if(n!=y)return n}}function dn(t,e){t.appendChild(e)}un[U]={on(t,e){let n=g;gn(t,"compositionstart",e.compositionstart=function(){n=v}),gn(t,"compositionend",e.compositionend=function(t){n=g,e(t)}),Qe(t,"input",e.input=function(t){n||e(t)})},off(t,e){yn(t,"compositionstart",e.compositionstart),yn(t,"compositionend",e.compositionend),tn(t,"input",e.input),e.compositionstart=e.compositionend=e.input=$}};const pn=function(t){const e=j.querySelector(t);if(e)return e};function hn(t,e,n,o){if(!H(e))return t[Je];t[Je]=e}const mn=en,vn=nn;function gn(t,e,n,o){const i=t[sn]||(t[sn]=new me),r=i.nativeListeners||(i.nativeListeners={});if(!r[e]){const n=un[e],o=function(n){const o=n instanceof Q?n:new Q(n.type,on(n,t));o.type!==e&&(o.type=e),i.fire(e,[o])};r[e]=o,n?n.on(t,o):Qe(t,e,o)}i.on(e,{fn:n,ctx:o})}function yn(t,e,n){const o=t[sn],{listeners:i,nativeListeners:r}=o;if(o.off(e,n),r&&!o.has(e)){const n=un[e],o=r[e];n?n.off(t,o):tn(t,e,o),delete r[e]}te(i)&&(t[sn]=$)}var $n=Object.freeze({createElement:function(t,e){return e?j.createElementNS(cn.svg,t):j.createElement(t)},createText:function(t){return j.createTextNode(t)},createComment:fn,prop:an,removeProp:function(e,n,o){Jt(e,n,o===t?g:M,g)},attr:ln,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:dn,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){const{parentNode:e}=t;if(e)return e},next:function(t){const{nextSibling:e}=t;if(e)return e},find:pn,tag:function(t){if(1===t.nodeType)return Ot(t.tagName)},text:function(t,e,n,o){if(!H(e))return t[Ze];t[Ze]=e},html:hn,addClass:mn,removeClass:vn,on:gn,off:yn,addSpecialEvent:function(t,e){un[t]=e}});class xn{constructor(t,e,n,o,i,r,s){const c=this;c.keypath=t,c.cache=n,c.deps=o,c.context=i.context,c.observer=i,c.getter=r,c.setter=s,c.unique={},c.watcher=function(e,n,o){const r=c.value,s=c.get(v);s!==r&&i.diff(t,s,r)},c.watcherOptions={sync:e,watcher:c.watcher},(c.fixed=!pt(o))&&tt(o,function(t){i.watch(t,c.watcherOptions)})}get(t){const e=this,{getter:n,context:o}=e;if(e.cache){if(t||!Qt(e,A))if(e.fixed)e.value=J(n,o);else{e.unbind();const t=xn.current;xn.current=e,e.value=J(n,o),e.bind(),xn.current=t}}else e.value=J(n,o);return e.value}set(t){const{setter:e,context:n}=this;e&&e.call(n,t)}add(t){this.unique[t]=v}bind(){const{unique:t,deps:e,observer:n,watcherOptions:o}=this;Kt(t,function(t,i){it(e,i),n.watch(i,o)}),this.unique={}}unbind(){const{deps:t,observer:e,watcher:n}=this;tt(t,function(t){e.unwatch(t,n)},v),t.length=0}}function kn(t,e){let n;return tt(t,function(t){const o=Dt(e,t);if(o>=0)return n={name:t,prop:kt(e,o)},g}),n}function bn(t,e){if(t==y||e===M)return t;const n=Zt(t,e);return n?n.value:void 0}function wn(t,e,n,o,i){const r=function(e,n,r){if(n!==r){const s=Wt(t,e);tt(o,function(t){H(It(s,t))&&i(t,s,n,r)}),wn(s,n,r,o,i)}};(function(t,e,n){const o=B(t),i=B(e);if(o||i)return n(O,o?t.length:$,i?e.length:$),v})(e,n,r)||function(t,e,n){const o=F(t),i=F(e);if(o||i){const r=o?t.length:$,s=i?e.length:$;n(O,r,s);for(let o=0,i=Math.max(r||0,s||0);o<i;o++)n(""+o,t?t[o]:$,e?e[o]:$);return v}}(e,n,r)||function(t,e,n){const o=K(t),i=K(e);(o||i)&&(t=o?t:_,e=i?e:_,o&&Kt(t,function(t,o){t!==e[o]&&n(o,t,e[o])}),i&&Kt(e,function(e,o){e!==t[o]&&n(o,t[o],e)}))}(e,n,r)}function Cn(t,e,n,o,i,r){let s;Kt(o,function(o,c){if(_t(c))return void(H(It(t,c))?r(c,t,e,n):i&&(s?it(s,c):s=[c]));const u=Dt(c,t);if(u>=0){const t=kt(c,u),o=bn(e,t),i=bn(n,t);o!==i&&r(c,c,o,i)}}),s&&wn(t,e,n,s,r)}function En(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}const An={watcher:W};function On(t,e){return q(t)?(An.watcher=t,An.immediate=e===v,An):t&&t.watcher?t:void 0}class Tn{constructor(t,e){this.data=t||{},this.context=e||this,this.nextTask=new we,this.syncEmitter=new me,this.asyncEmitter=new me,this.asyncChanges={}}get(t,e,n){const o=xn.current,{data:i,computed:r,reversedComputedKeys:s}=this;if(t===M)return i;let c,u;if(o&&!n&&o.add(t),r){if(u=r[t])return u.get();if(s){const e=kn(s,t);e&&e.prop&&(c=Zt(r[e.name].get(),e.prop))}}return c||(c=Zt(i,t)),c?c.value:e}set(t,e){const n=this,{data:o,computed:i,reversedComputedKeys:r}=n,s=function(t,e){const s=n.get(e);if(t===s)return;let c;if(i&&((c=i[e])&&c.set(t),r)){const n=kn(r,e);if(n&&n.prop&&(c=i[n.name])){const e=c.get();K(e)&&Jt(e,n.prop,t)}}c||Jt(o,e,t),n.diff(e,t,s)};B(t)?s(e,t):K(t)&&Kt(t,s)}diff(t,e,n){const o=this,{syncEmitter:i,asyncEmitter:r,asyncChanges:s}=o,c=36!==Et(t);Cn(t,e,n,i.listeners,c,function(t,e,n,o){i.fire(t,[n,o,e])}),Cn(t,e,n,r.listeners,c,function(t,e,n,i){tt(r.listeners[t],function(t){t.count++});const{keypaths:c}=s[e]||(s[e]={value:i,keypaths:[]});at(c,t)||it(c,t),o.pending||(o.pending=v,o.nextTask.append(function(){o.pending&&(o.pending=$,o.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:e,asyncChanges:n}=t;t.asyncChanges={},Kt(n,function(n,o){const i=[t.get(o),n.value,o];tt(n.keypaths,function(t){e.fire(t,i,En)})})}addComputed(t,e){let n,o,i=v,r=v,s=[];if(q(e))n=e;else if(K(e)){const t=e;V(t.cache)&&(i=t.cache),V(t.sync)&&(r=t.sync),F(t.deps)&&(s=Xt(t.deps)),q(t.get)&&(n=t.get),q(t.set)&&(o=t.set)}if(n){const e=this,c=new xn(t,r,i,s,e,n,o);return e.computed||(e.computed={}),e.computed[t]=c,e.reversedComputedKeys=Ft(e.computed,v),c}}removeComputed(t){const e=this,{computed:n}=e;n&&Qt(n,t)&&(delete n[t],e.reversedComputedKeys=Ft(n,v))}watch(t,e,n){const o=this,{context:i,syncEmitter:r,asyncEmitter:s}=o,c=function(t,e){const n=e.sync?r:s,c={fn:e.watcher,ctx:i,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&J(e.watcher,i,[o.get(t),$,t])};B(t)?c(t,On(e,n)):Kt(t,function(t,e){c(e,On(t))})}unwatch(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)}toggle(t){const e=!this.get(t);return this.set(t,e),e}increase(t,e,n){const o=Ge(this.get(t),0)+(e||1);if(!G(n)||o<=n)return this.set(t,o),o}decrease(t,e,n){const o=Ge(this.get(t),0)-(e||1);if(!G(n)||o>=n)return this.set(t,o),o}insert(t,e,n){let o=this.get(t);o=F(o)?Xt(o):[];const{length:i}=o;if(n===v||n===i)o.push(e);else if(n===g||0===n)o.unshift(e);else{if(!(n>0&&n<i))return;o.splice(n,0,e)}return this.set(t,o),v}append(t,e){return this.insert(t,e,v)}prepend(t,e){return this.insert(t,e,g)}removeAt(t,e){let n=this.get(t);if(F(n)&&e>=0&&e<n.length)return(n=Xt(n)).splice(e,1),this.set(t,n),v}remove(t,e){let n=this.get(t);if(F(n)&&ft(n=Xt(n),e))return this.set(t,n),v}copy(t,e){return Xt(t,e)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Bt(this)}}function Sn(t,e,n){let o;return function(){if(!o){const i=lt(arguments);n&&J(t,$,i),o=setTimeout(function(){o=$,n||J(t,$,i)},e)}}}var Pn=Object.freeze({bind:function(t,e,n){let o,{key:i,name:s,modifier:c,handler:u}=e,{lazy:f}=n;if(u){if(f){const t=f[s]||f[M];t===v?s=D:t>0&&(u=Sn(u,t,s===R||s===L))}if(n.isComponent){const e=t;c===r?(gn(o=e.$el,s,u),n.data[i]=function(){yn(o,s,u)}):(c&&(s+=P+c),e.on(s,u),n.data[i]=function(){e.off(s,u)})}else gn(o=t,s,u),n.data[i]=function(){yn(o,s,u)}}},unbind:function(t,e,n){J(n.data[e.key])}});function zn(t,e){return e&&e!==v?Sn(t,e):t}const jn={set(t,e){t.value=ne(e)},sync(t,e,n){n.set(e,t.value)},name:A},Nn={set(t,e){t.checked=t.value===ne(e)},sync(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},Ln={set(t,e){t.checked=F(e)?at(e,t.value,g):!!e},sync(t,e,n){const o=n.get(e);F(o)?t.checked?n.append(e,t.value):n.removeAt(e,st(o,t.value,g)):n.set(e,t.checked)},name:"checked"},Rn={set(t,e){tt(lt(t.options),t.multiple?function(t){t.selected=at(e,t.value,g)}:function(n,o){if(n.value==e)return t.selectedIndex=o,g})},sync(t,e,n){const{options:o}=t;if(t.multiple){const t=[];tt(lt(o),function(e){e.selected&&it(t,e.value)}),n.set(e,t)}else n.set(e,o[t.selectedIndex].value)},name:A},Dn=v;var Un=Object.freeze({once:Dn,bind:function(t,n,o){let i,r,{context:s,lazy:c,isComponent:u}=o,f=n.modifier,a=c&&(c[e]||c[M]);if(u){let e=t,n=e.$model,o=zn(function(t){s.set(f,t)},a);i=function(t){i&&e.set(n,t)},r=function(){e.unwatch(n,o)},e.watch(n,o)}else{let e=t,c="select"===o.tag?Rn:jn,u=D;if(c===jn){const e=t.type;"radio"===e?c=Nn:"checkbox"===e?c=Ln:a!==v&&(u=U)}i=function(t){i&&c.set(e,t)};const l=zn(function(){c.sync(e,f,s)},a);r=function(){yn(e,u,l)},gn(e,u,l),c.set(e,n.value)}s.watch(f,i),o.data[n.key]=function(){s.unwatch(f,i),i=$,r()}},unbind:function(t,e,n){J(n.data[e.key])}});const Wn=v;var _n=Object.freeze({once:Wn,bind:function(t,e,n){let o=e.modifier,i=_t(o),r=function(s,c,u){if(r){const r=i?It(u,o):e.name;if(n.isComponent){const e=t;e.checkProp(r,s),e.set(r,s)}else{const n=t;H(e.hint)?an(n,r,s):ln(n,r,s)}}};n.context.watch(o,r),n.data[e.key]=function(){n.context.unwatch(o,r),r=$}},unbind:function(t,e,n){J(n.data[e.key])}});const In={},Mn={},Hn={},Yn={},qn={},Fn="$$",Kn=/^[#.][-\w+]+$/;class Bn{constructor(t){const e=this,n=t||_;e.$emitter=new me(v),n.events&&e.on(n.events),n.parent&&(e.$parent=n.parent),J(n[u],e,n),e.fire(u+c,n);let{data:o,props:i,vnode:r,propTypes:s,computed:a,methods:l,watchers:d,extensions:p}=n;e.$options=n,p&&Gt(e,p);const h=i?Xt(i):{};s&&Kt(s,function(t,e){let n=h[e];Y(n)&&H(n=t.value)&&(h[e]=t.type===T?n:q(n)?n():n)});const m=e.$observer=new Tn(h,e);a&&Kt(a,function(t,e){m.addComputed(e,t)});const y=q(o)?J(o,e,t):o;K(y)&&Kt(y,function(t,e){h[e]=t}),l&&Kt(l,function(t,n){e[n]=t});{let t=$,{el:o,root:i,model:s,context:u,replace:a,template:l,transitions:p,components:y,directives:x,partials:A,filters:O,slots:T}=n;if(s&&(e.$model=s),T&&Gt(h,T),B(l)&&Kn.test(l)&&(t=pn(l))&&(l=hn(t),t=$),o){if(B(o)){const e=o;Kn.test(e)&&(t=pn(e))}else t=o;a||dn(t,t=fn(M))}if(i&&(e.$root=i),u&&(e.$context=u),Gn(e,E,p),Gn(e,w,y),Gn(e,C,x),Gn(e,b,A),Gn(e,k,O),l){const n=d?Xt(d):{};return n[Fn]={sync:v,watcher:function(t){e.update(t,e.$vnode)}},m.addComputed(Fn,{sync:g,get:function(){return e.render()}}),e.watch(n),J(e.$options[f],e),e.fire(f+c),e.$template=B(l)?Bn.compile(l):l,r||(r=function(t,e,n,o){return{tag:t.tag(e),data:_e(),node:e,context:n,keypath:o}}($n,t,e,M)),void e.update(e.get(Fn),r)}}d&&e.watch(d),J(e.$options[f],e),e.fire(f+c)}static define(t){return t}static use(t){t.install(Bn)}static nextTick(t,e){we.shared().append(t,e)}static compile(t,e){return M}static directive(t,e){if(B(t)&&!e)return Jn(In,t);Qn(In,t,e)}static transition(t,e){if(B(t)&&!e)return Jn(Mn,t);Qn(Mn,t,e)}static component(t,e){if(B(t)&&!e)return Jn(Hn,t);Qn(Hn,t,e)}static partial(t,e){if(B(t)&&!e)return Jn(Yn,t);Qn(Yn,t,e,Bn.compile)}static filter(t,e){if(B(t)&&!e)return Jn(qn,t);Qn(qn,t,e)}get(t,e){return this.$observer.get(t,e)}set(t,e){const{$observer:n}=this;n&&n.set(t,e)}on(t,e){return Xn(this,t,e),this}once(t,e){return Xn(this,t,e,v),this}off(t,e){return this.$emitter.off(t,e),this}fire(t,e,n){let o,i=this,{$emitter:r,$parent:s,$children:c}=i,u=t instanceof Q?t:new Q(t),f=[u];if(Y(u.ns)){const t=r.parse(u.type);u.type=t.type,u.ns=t.ns}return u.target||(u.target=i),K(e)?it(f,e):e===v&&(n=v),(o=r.fire(u,f))&&(n?c&&(u.phase=Q.PHASE_DOWNWARD,tt(c,function(t){return o=t.fire(u,e,v)})):s&&(u.phase=Q.PHASE_UPWARD,o=s.fire(u,e))),o}watch(t,e,n){return this.$observer.watch(t,e,n),this}unwatch(t,e){return this.$observer.unwatch(t,e),this}loadComponent(t,e){Zn(this.$components,t,e)||Zn(Hn,t,e)}createComponent(t,n){{const o=this;(t=Xt(t)).root=o.$root||o,t.parent=o,t.context=n.context,t.vnode=n,t.replace=v;let{props:i,slots:r,directives:c}=n,u=c&&c[e];if(u){i||(i={});const e=t.model||s;i[e]=u.value,t.model=e}i&&(t.props=i),r&&(t.slots=r);const f=new Bn(t);it(o.$children||(o.$children=[]),f);const a=f.$el;return a&&(n.node=a),f}}directive(t,e){{const n=this,{$directives:o}=n;if(B(t)&&!e)return Jn(o,t,Bn.directive);Qn(o||(n.$directives={}),t,e)}}transition(t,e){{const n=this,{$transitions:o}=n;if(B(t)&&!e)return Jn(o,t,Bn.transition);Qn(o||(n.$transitions={}),t,e)}}component(t,e){{const n=this,{$components:o}=n;if(B(t)&&!e)return Jn(o,t,Bn.component);Qn(o||(n.$components={}),t,e)}}partial(t,e){{const n=this,{$partials:o}=n;if(B(t)&&!e)return Jn(o,t,Bn.partial);Qn(o||(n.$partials={}),t,e,Bn.compile)}}filter(t,e){{const n=this,{$filters:o}=n;if(B(t)&&!e)return Jn(o,t,Bn.filter);Qn(o||(n.$filters={}),t,e)}}forceUpdate(t){{const e=this,{$vnode:n,$observer:o}=e,{computed:i}=o;if(n&&i){const r=i[Fn],s=r.get();t&&e.set(t),o.nextTask.run(),t||s!==r.get()||e.update(r.get(v),n)}}}render(){{const t=this;return function(t,r,s,c,u,f,a){let l,d={$keypath:M},p=[d],h=[],m={},g=function(t,e,n,o,i,s){let u=t[e],f=Wt(u.$keypath,n),a=t,l=Mt;if(Y(s)&&(s=f),H(u[n])?a=u[n]:H(u.$item)&&(u=u.$item,n===M?a=u:u!=y&&H(u[n])&&(a=u[n])),a===t&&(a=r.get(f,t,i))===t){if(o&&e>0)return g(t,e-1,n,o,i,s);const r=Zt(c,n);return r?(l=r).keypath=n:(l.value=$,l.keypath=s),l}return l.value=a,l.keypath=f,l},x=function(e,n,o){return function(i,r){const s=t[e];if(i instanceof Q){let e=$;if(n){const c=ct(o);c&&(c.$event=i,c.$data=r,e=J(s,t,n(o)),c.$event=c.$data=$)}else e=J(s,t,r?[i,r]:i);return e}J(s,t,n?n(o):$)}},k=function(t,e){return function(){return t(e)}},b=function(e){const n=ct(h);if(n){const o=ct(n);o&&o.isText?o.text+=e:it(n,{isText:v,text:e,context:t,keypath:d.$keypath})}},w=function(t,e){l.isComponent?Ve(l,"props",t,e):Ve(l,"nativeAttrs",t,{name:t,value:e})},C=function(t,e,n){Ve(l,"nativeProps",t,{name:t,value:n,hint:e})},E=function(t,e){Ve(l,"lazy",t,e)},A=function(t){l.transition=a[t]},O=function(t,e,n){const i=Wt(o,t);return Ve(l,Xe,i,{ns:o,name:t,key:i,modifier:e.keypath,hooks:f[o],hint:n}),e.value},T=function(t){Ve(l,Xe,e,{ns:e,name:M,key:e,value:t.value,modifier:t.keypath,hooks:f[e]})},z=function(t,e,o,i,r,s){Ve(l,Xe,e,{ns:n,name:t,key:e,value:i,modifier:o,hooks:f[n],handler:x(r,s,p)})},j=function(e,o,i,r,s){var c;Ve(l,Xe,o,{ns:n,name:e,key:o,value:r,modifier:i,hooks:f[n],handler:(c=s,function(e,n){c!==e.type&&(e=new Q(c,e)),t.fire(e,n)})})},N=function(t,e,n,o,r,s,c){const u=f[t];Ve(l,Xe,e,{ns:i,name:t,key:e,value:o,hooks:u,modifier:n,getter:c?k(c,p):$,handler:r?x(r,s,p):$})},L=function(t){const{value:e,keypath:n}=t;if(e!=y&&K(e)&&!F(e)&&(Kt(e,function(t,e){Ve(l,"props",e,t)}),n)){const t=Wt(o,n);Ve(l,Xe,t,{ns:o,name:M,key:t,modifier:Wt(n,S),hooks:f[o]})}},R=function(e,n,o,i,s){if(n){const t=r.get(n);e.tag=t}if(o&&(l=e,o(),l=$),i)h.push(e.children=[]),i(),ut(h);else if(s){const t={};Kt(s,function(e,n){h.push([]),e();const o=ut(h);t[n]=o.length?o:$}),e.slots=t}e.context=t,e.keypath=d.$keypath;const c=ct(h);return c&&it(c,e),e},D=function(t,e,n,o,i,r){const s=r||p,c=g(s,s.length-((n||0)+1),t,e,i);return o?c:c.value},U=function(t,e){return rt(e,t),dt(e,P)},W=function(t,e,n,o){H(n)&&(e=dt(n,P));const i=Zt(t,e);return Mt.keypath=$,Mt.value=i?i.value:$,o?Mt:Mt.value},_=function(e,n,o){return Mt.keypath=$,Mt.value=J(e,t,n||$),o?Mt:Mt.value},I=function(e,n){const o=ct(h),i=t.get(e);o&&(i?tt(i,function(n){it(o,n),n.slot=e,n.parent=t}):n&&n())},q=function(t,e){m[t]=e},B=function(t){if(m[t])m[t]();else{const e=u[t];e&&e(D,U,W,_,b,w,C,E,A,O,T,z,j,N,L,R,I,q,B,V,X,Z,ne)}},G=function(t,e,n,o,i,r){const s=d,c=p;d={$keypath:o},p=c.concat(d),H(r)&&(d.$length=r),i&&(d[i]=n),o||(d.$item=e),t(),d=s,p=c},V=function(t,e,n){const{keypath:o,value:i}=e;if(F(i))for(let e=0,r=i.length;e<r;e++)G(t,i[e],e,o?Wt(o,M+e):M,n,r);else if(K(i))for(let e in i)G(t,i[e],e,o?Wt(o,e):M,n)},X=function(t,e,n,o){let i=0;if(e<n)for(let r=e;r<n;r++)G(t,r,i++,M,o);else for(let r=e;r>n;r--)G(t,r,i++,M,o)},Z=function(t,e,n,o){let i=0;if(e<n)for(let r=e;r<=n;r++)G(t,r,i++,M,o);else for(let r=e;r>=n;r--)G(t,r,i++,M,o)};return s(D,U,W,_,b,w,C,E,A,O,T,z,j,N,L,R,I,q,B,V,X,Z,ne)}(t,t.$observer,t.$template,Vt(t.$filters,qn),Vt(t.$partials,Yn),Vt(t.$directives,In),Vt(t.$transitions,Mn))}}update(t,e){{let n,o=this,{$vnode:i,$options:r}=o;o.$refs={},i?(J(r[d],o),o.fire(d+c),Be($n,t,e),n=p):(J(r[a],o),o.fire(a+c),Be($n,t,e),o.$el=t.node,n=l),o.$vnode=t,Bn.nextTick(function(){o.$vnode&&(J(r[n],o),o.fire(n+c))})}}checkProp(t,e){}destroy(){const t=this,{$parent:e,$options:n,$emitter:o,$observer:i}=t;{J(n[h],t),t.fire(h+c);const{$vnode:o}=t;e&&e.$children&&ft(e.$children,t),o&&(t.$vnode=$,function(t,e,n){if(n){const n=t.parent(e.node);n&&qe(t,n,e)}else Fe(t,e)}($n,o,!e))}i.destroy(),J(n[m],t),t.fire(m+c),o.off(),Bt(t)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,e,n){return this.$observer.increase(t,e,n)}decrease(t,e,n){return this.$observer.decrease(t,e,n)}insert(t,e,n){return this.$observer.insert(t,e,n)}append(t,e){return this.$observer.append(t,e)}prepend(t,e){return this.$observer.prepend(t,e)}removeAt(t,e){return this.$observer.removeAt(t,e)}remove(t,e){return this.$observer.remove(t,e)}copy(t,e){return this.$observer.copy(t,e)}}function Gn(t,e,n){q(n)?t[e](J(n,t)):K(n)&&t[e](n)}function Vn(t,e,n,o){const i={fn:n,ctx:t};o&&(i.max=1),t.$emitter.on(e,i)}function Xn(t,e,n,o){B(e)?Vn(t,e,n,o):Kt(e,function(e,n){Vn(t,n,e,o)})}function Zn(t,e,n){if(t&&t[e]){const o=t[e];if(q(o)){t[e]=[n];const i=function(n){const o=t[e],i=n.default||n;t[e]=i,tt(o,function(t){t(i)})},r=o(i);r&&r.then(i)}else F(o)?it(o,n):n(o);return v}}function Jn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Qn(t,e,n,o){B(e)?t[e]=o?o(n):n:Kt(e,function(e,n){t[n]=o?o(e):e})}Bn.version="1.0.0-alpha.94",Bn.is=Z,Bn.dom=$n,Bn.array=ht,Bn.object=ee,Bn.string=Pt,Bn.logger=he,Bn.Event=Q,Bn.Emitter=me,Bn.directive({event:Pn,model:Un,binding:_n}),Bn.filter({hasSlot(t){return H(this.get("$slot_"+t))}});export default Bn;
//# sourceMappingURL=yox.esm.min.js.map
