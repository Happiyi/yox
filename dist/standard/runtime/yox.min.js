!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=3,e="model",n="event",r="binding",i="o",o="native",a=".hook",u="beforeCreate",f="afterCreate",c=!0,s=!1,p=null,v=void 0,h=-1,l="filter",d="partial",m="component",y="directive",g="transition",$="length",x="function",b="*",k=".",w="undefined"!=typeof window?window:v,C="undefined"!=typeof document?document:v,E="undefined"!=typeof global?global:w,A="tap",O="click",T="change",S="model",P=function(){},j=Object.freeze({}),z=Object.freeze([]),N="";function D(t){return t!==v}function L(t){return t===v}function R(t){return typeof t===x}function U(t){return Array.isArray(t)}function M(t){return t!==p&&"object"==typeof t}function W(t){return"string"==typeof t}function _(t){return"number"==typeof t}function I(t){return"boolean"==typeof t}function H(t){return _(t)||W(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var Y=Object.freeze({func:R,array:U,object:M,string:W,number:_,boolean:I,numeric:H});function q(t,e,n){if(R(t))return U(n)?t.apply(e,n):D(e)?t.call(e,n):D(n)?t(n):t()}var F=function(){function t(e,n){this.type=e,this.phase=t.PHASE_CURRENT,n&&(this.originalEvent=n)}return t.prototype.preventDefault=function(){if(!this.isPrevented){var t=this.originalEvent;t&&t.preventDefault(),this.isPrevented=c}return this},t.prototype.stopPropagation=function(){if(!this.isStoped){var t=this.originalEvent;t&&t.stopPropagation(),this.isStoped=c}return this},t.prototype.prevent=function(){return this.preventDefault()},t.prototype.stop=function(){return this.stopPropagation()},t.PHASE_CURRENT=0,t.PHASE_UPWARD=1,t.PHASE_DOWNWARD=h,t}();function K(t,e,n){var r=t.length;if(r)if(n)for(var i=r-1;i>=0&&e(t[i],i)!==s;i--);else for(i=0;i<r&&e(t[i],i)!==s;i++);}function B(t,e){t[t.length]=e}function G(t,e){t.unshift(e)}function V(t,e,n){U(e)?K(e,function(e){n(t,e)}):n(t,e)}function X(t,e){V(t,e,B)}function Z(t,e){V(t,e,G)}function J(t,e,n){var r=h;return K(t,function(t,i){if(n===s?t==e:t===e)return r=i,s}),r}function Q(t){var e=t.length;if(e>0)return t[e-1]}function tt(t){if(t.length>0)return t.pop()}function et(t,e,n){var r=0;return K(t,function(i,o){(n===s?i==e:i===e)&&(t.splice(o,1),r++)},c),r}function nt(t,e,n){return J(t,e,n)>=0}function rt(t){return U(t)?t:q(z.slice,t)}function it(t,e){return t.join(e)}function ot(t){return!U(t)||!t.length}var at=Object.freeze({each:K,push:X,unshift:Z,indexOf:J,last:Q,pop:tt,remove:et,has:nt,toArray:rt,toObject:function(t,e,n){var r={};return K(t,function(t){r[e?t[e]:t]=n||t}),r},join:it,falsy:ot}),ut=/-([a-z])/gi,ft=/\B([A-Z])/g,ct=/^[a-z]/,st={},pt={},vt={};function ht(t,e,n){return _(n)?e===n?N:t.slice(e,n):t.slice(e)}function lt(t,e,n){return t.indexOf(e,D(n)?n:0)}function dt(t,e,n){return t.lastIndexOf(e,D(n)?n:t.length)}function mt(t,e){return 0===lt(t,e)}function yt(t,e){return t.charCodeAt(e||0)}function gt(t){return t.toUpperCase()}function $t(t){return t.toLowerCase()}function xt(t,e){return lt(t,e)>=0}function bt(t){return!W(t)||!t.length}var kt=Object.freeze({camelize:function(t){return st[t]||(st[t]=t.replace(ut,function(t,e){return gt(e)})),st[t]},hyphenate:function(t){return pt[t]||(pt[t]=t.replace(ft,function(t,e){return"-"+$t(e)})),pt[t]},capitalize:function(t){return vt[t]||(vt[t]=t.replace(ct,gt)),vt[t]},trim:function(t){return bt(t)?N:t.trim()},slice:ht,indexOf:lt,lastIndexOf:dt,startsWith:mt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&dt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:yt,upper:gt,lower:$t,has:xt,falsy:bt}),wt=/\./g,Ct=/\*/g,Et=/\*\*/g,At={},Ot={};function Tt(t,e){return t===e?e.length:mt(t,e+=k)?e.length:h}function St(t,e){for(var n=D(At[t])?At[t]:At[t]=t.split(k),r=0,i=n.length-1;r<=i&&e(n[r],r===i)!==s;r++);}function Pt(t,e){return t&&e?t+k+e:t||e}function jt(t){return xt(t,b)}function zt(t,e){var n=Ot[e];if(!n){var r=e.replace(wt,"\\.").replace(Ct,"(\\w+)").replace(Et,"([.\\w]+?)");n=Ot[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var Nt={value:v};function Dt(t){return Object.keys(t)}function Lt(t,e){return t.length-e.length}function Rt(t,e){return e.length-t.length}function Ut(t,e){return Dt(t).sort(e?Rt:Lt)}function Mt(t,e){for(var n in t)if(e(t[n],n)===s)break}function Wt(t){Mt(t,function(e,n){delete t[n]})}function _t(t,e){return Mt(e,function(e,n){t[n]=e}),t}function It(t,e){return t&&e?_t(_t({},t),e):t||e}function Ht(t,e){var n=t;return U(t)?e?(n=[],K(t,function(t,r){n[r]=Ht(t,e)})):n=t.slice():M(t)&&(n={},Mt(t,function(t,r){n[r]=e?Ht(t,e):t})),n}function Yt(t,e){return St(e,function(e,n){if(t==p)return t=v,s;var r=t[e],i=D(r);r&&R(r.get)&&(r=r.get()),n?i?(Nt.value=r,t=Nt):t=v:t=r}),t}function qt(t,e,n,r){St(e,function(e,i){if(i)t[e]=n;else if(t[e])t=t[e];else{if(!r)return s;t=t[e]={}}})}function Ft(t,e){return D(t[e])}function Kt(t){return!M(t)||U(t)||!Dt(t).length}var Bt=Object.freeze({keys:Dt,sort:Ut,each:Mt,clear:Wt,extend:_t,merge:It,copy:Ht,get:Yt,set:qt,has:Ft,falsy:Kt});function Gt(t,e){return t!=p&&t.toString?t.toString():D(e)?e:N}var Vt=1,Xt=2,Zt=3,Jt=4,Qt=5,te="undefined"!=typeof console?console:p,ee=/yox/.test(Gt(P))?Vt:Zt,ne=w&&/edge|msie|trident/i.test(w.navigator.userAgent)?N:"%c",re=te?ne?function(t,e,n){te.log(ne+t,n,e)}:function(t,e){te.log(t,e)}:P;function ie(){if(E){var t=E.YOX_LOG_LEVEL;if(t>=Vt&&t<=Qt)return t}return ee}function oe(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var ae=Object.freeze({DEBUG:Vt,INFO:Xt,WARN:Zt,ERROR:Jt,FATAL:Qt,debug:function(t,e){ie()<=Vt&&re(e||"Yox debug",t,oe("#999"))},info:function(t,e){ie()<=Xt&&re(e||"Yox info",t,oe("#2db7f5"))},warn:function(t,e){ie()<=Zt&&re(e||"Yox warn",t,oe("#f90"))},error:function(t,e){ie()<=Jt&&re(e||"Yox error",t,oe("#ed4014"))},fatal:function(t,e){if(ie()<=Qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),ue=function(){function t(t){this.ns=t||s,this.listeners={}}return t.prototype.fire=function(t,e,n){var r=this,i=W(t)?r.parse(t):t,o=r.listeners[i.name],a=c;if(o){o=Ht(o);var u=e&&e[0]instanceof F?e[0]:v;K(o,function(t){if(se(i.ns,t)&&nt(o,t)&&(!n||n(i,e,t))){u&&(u.listener=t.fn);var f=q(t.fn,t.ctx,e);return u&&(u.listener=v),t.num=t.num?t.num+1:1,t.num===t.max&&r.off(i.key,t.fn),u&&(f===s?u.prevent().stop():u.isStoped&&(f=s)),f===s?a=s:void 0}})}return a},t.prototype.on=function(t,e){var n=this.listeners,r=R(e)?{fn:e}:e;if(M(r)&&R(r.fn)){var i=this.parse(t),o=i.name,a=i.ns;r.ns=a,X(n[o]||(n[o]=[]),r)}},t.prototype.off=function(t,e){var n=this.listeners;if(t){var r=this.parse(t),i=r.name,o=r.ns,a=ce(e),u=function(t,e){K(t,function(e,n){a(e)&&se(o,e)&&t.splice(n,1)},c),t.length||delete n[e]};i?n[i]&&u(n[i],i):o&&Mt(n,u)}else this.listeners={}},t.prototype.has=function(t,e){var n=this.listeners,r=this.parse(t),i=r.name,o=r.ns,a=c,u=ce(e),f=function(t){return K(t,function(t){if(u(t)&&se(o,t))return a=s}),a};return i?n[i]&&f(n[i]):o&&Mt(n,f),!a},t.prototype.parse=function(t){var e={key:t,name:t,ns:N};if(this.ns){var n=lt(t,k);n>=0&&(e.name=ht(t,0,n),e.ns=ht(t,n+1))}return e},t}();function fe(){return c}function ce(t){return R(t)?function(e){return t===e.fn}:fe}function se(t,e){var n=e.ns;return n&&t?n===t:c}function pe(t){return R(t)&&/native code/.test(Gt(t))}typeof setImmediate===x&&pe(setImmediate)&&setImmediate;var ve,he=typeof MessageChannel===x&&pe(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,le=function(){function t(){this.tasks=[]}return t.shared=function(){return ve||(ve=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;X(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;Z(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],K(t,function(t){q(t.fn,t.ctx)}))},t}(),de=0;var me="$id",ye="$vnode",ge="$loading",$e="$component",xe="$leaving";function be(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||j,u=o||j;Mt(a,function(e,n){u[n]&&e.value===u[n].value||t.attr(r,n,e.value)}),Mt(u,function(e,n){a[n]||t.removeAttr(r,n)})}}function ke(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||j,u=o||j;Mt(a,function(e,n){u[n]&&e.value===u[n].value||t.prop(r,n,e.value)}),Mt(u,function(e,n){a[n]||t.removeProp(r,n,e.hint)})}}function we(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[$e]||t.node,a=e&&t.keypath!==e.keypath,u=r||j,f=i||j;Mt(u,function(n,r){var i=n.hooks,u=i.once,c=i.bind,s=i.unbind;f[r]?(u||n.value!==f[r].value||a)&&(s&&s(o,f[r],e),c(o,n,t)):c(o,n,t)}),Mt(f,function(t,n){if(!u[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function Ce(t){var e=t.directives;if(e){var n=t.data[$e]||t.node;Mt(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ee(t,n){var r,i=t.data,o=t.ref,a=t.props,u=t.slots,f=t.directives,c=t.context;if(t.isComponent){if(r=i[$e],n){var s=f&&f[e];s&&(a||(a={}),a[r.$model]=s.value);var p=It(a,u);p&&r.forceUpdate(p)}}else r=t.node;if(o){var v=c.$refs;v&&(v[o]=r)}}function Ae(t,e){return t.tag===e.tag&&t.key===e.key}function Oe(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||j}function Te(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Se(t,e){var n=(t.parent||t.context).createComponent(e,t);return t.data[$e]=n,t.data[ge]=s,Ee(t),we(t),n}function Pe(){var t={};return t[me]=++de,t}function je(t,e){var n=e.tag,r=e.node,i=e.data,o=e.isComponent,a=e.isComment,u=e.isText,f=e.isStyle,s=e.isOption,p=e.children,h=e.text,l=e.html,d=e.context;if(!r||!i)if(i=Pe(),e.data=i,u)e.node=t.createText(h);else if(a)e.node=t.createComment(h);else if(o){var y=v;n&&d.loadComponent(n,function(t){Ft(i,ge)?i[ge]&&(i[ye]&&(e=i[ye],delete i[ye]),Ue(e,Se(e,t))):y=t}),e.node=t.createComment(m),y?Se(e,y):i[ge]=c}else r=e.node=t.createElement(e.tag,e.isSvg),p?ze(t,r,p):h?t.text(r,h,f,s):l&&t.html(r,l,f,s),be(t,e),ke(t,e),Ee(e),we(e)}function ze(t,e,n,r,i,o){for(var a,u=r||0,f=D(i)?i:n.length-1;u<=f;)je(t,a=n[u]),Ne(t,e,a,o),u++}function Ne(t,e,n,r){var i=n.node,o=n.data,a=n.context,u=t.parent(i);if(r?t.before(e,i,r.node):t.append(e,i),!u){var f=v;if(n.isComponent){var c=o[$e];c&&(f=function(){Ue(n,c)})}else n.isStatic||n.isText||n.isComment||(f=function(){Ue(n)});f&&a.$observer.nextTask.prepend(f)}}function De(t,e,n,r,i){for(var o,a=r||0,u=D(i)?i:n.length-1;a<=u;)(o=n[a])&&Le(t,e,o),a++}function Le(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var i,o=function(){Re(t,n),t.remove(e,r)};if(n.isComponent&&!(i=n.data[$e]))return void o();!function(t,e,n){var r=t.data,i=t.transition;e&&!i&&(i=e.$vnode.transition);if(i){var o=i.leave;if(o)return void o(t.node,r[xe]=function(){r[xe]&&(n(),r[xe]=v)})}n()}(n,i,o)}}function Re(t,e){var n=e.data,r=e.children,i=e.parent,o=e.slot;if(o&&i&&i.$vnode){var a=i.get(o);if(a&&nt(a,e))return}if(e.isComponent){var u=n[$e];u?(Ce(e),u.destroy()):n[ge]=s}else Ce(e),r&&K(r,function(e){Re(t,e)})}function Ue(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),q(n[xe]),r){var i=r.enter;if(i)return void i(t.node)}}function Me(t,e,n){if(e!==n){var r=n.node,i=n.data;if(!Ae(e,n)){var o=t.parent(r);return je(t,e),void(o&&(Ne(t,o,e,n),Le(t,o,n)))}if(e.node=r,e.data=i,n.isComponent&&i[ge])i[ye]=e;else if(!e.isStatic||!n.isStatic){be(t,e,n),ke(t,e,n),Ee(e,n),we(e,n);var a=e.text,u=e.html,f=e.children,c=e.isStyle,s=e.isOption,p=n.text,h=n.html,l=n.children;W(a)?a!==p&&t.text(r,a,c,s):W(u)?u!==h&&t.html(r,u,c,s):f&&l?f!==l&&function(t,e,n,r){for(var i,o,a=0,u=n.length-1,f=n[a],c=n[u],s=0,p=r.length-1,h=r[s],l=r[p];s<=p&&a<=u;)f?c?h?l?Ae(f,h)?(Me(t,f,h),f=n[++a],h=r[++s]):Ae(c,l)?(Me(t,c,l),c=n[--u],l=r[--p]):Ae(c,h)?(Me(t,c,h),Te(t,e,h.node,t.next(l.node)),c=n[--u],h=r[++s]):Ae(f,l)?(Me(t,f,l),Te(t,e,l.node,h.node),f=n[++a],l=r[--p]):(i||(i=Oe(r,s,p)),D(o=f.key?i[f.key]:v)?(Me(t,f,r[o]),r[o]=v):je(t,f),Ne(t,e,f,h),f=n[++a]):l=r[--p]:h=r[++s]:c=n[--u]:f=n[++a];s>p?ze(t,e,n,a,u,n[u+1]):a>u&&De(t,e,r,s,p)}(t,r,f,l):f?((W(p)||W(h))&&t.text(r,N,c),ze(t,r,f)):l?De(t,r,l):(W(p)||W(h))&&t.text(r,N,c)}}}function We(t,e){return H(t)?+t:D(e)?e:0}function _e(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var Ie="directives";var He="textContent",Ye="innerHTML",qe=function(t,e,n){t.addEventListener(e,n,s)},Fe=function(t,e,n){t.removeEventListener(e,n,s)},Ke=function(t,e){t.classList.add(e)},Be=function(t,e){t.classList.remove(e)},Ge=function(t,e){return t};C&&(C.documentElement.classList||(Ke=function(t,e){var n=t.className.split(Ve);nt(n,e)||(X(n,e),t.className=it(n,Ve))},Be=function(t,e){var n=t.className.split(Ve);et(n,e)&&(t.className=it(n,Ve))}));var Ve=" ",Xe="$emitter",Ze={svg:"http://www.w3.org/2000/svg"},Je={};function Qe(t){return C.createComment(t)}function tn(t,e,n){if(D(n))qt(t,e,n,s);else{var r=Yt(t,e);if(r)return r.value}}function en(t,e,n){if(D(n))t.setAttribute(e,n);else{var r=t.getAttribute(e);if(r!=p)return r}}function nn(t,e){t.appendChild(e)}Je[S]={on:function(t,e){var n=s;fn(t,"compositionstart",e.compositionstart=function(){n=c}),fn(t,"compositionend",e.compositionend=function(t){n=s,e(t)}),qe(t,"input",e.input=function(t){n||e(t)})},off:function(t,e){cn(t,"compositionstart",e.compositionstart),cn(t,"compositionend",e.compositionend),Fe(t,"input",e.input),e.compositionstart=e.compositionend=e.input=v}};var rn=function(t){var e=C.querySelector(t);if(e)return e};function on(t,e,n,r){if(!D(e))return t[Ye];t[Ye]=e}var an=Ke,un=Be;function fn(t,e,n,r){var i=t[Xe]||(t[Xe]=new ue),o=i.nativeListeners||(i.nativeListeners={});if(!o[e]){var a=Je[e],u=function(n){var r=n instanceof F?n:new F(n.type,Ge(n,t));r.type!==e&&(r.type=e),i.fire(e,[r])};o[e]=u,a?a.on(t,u):qe(t,e,u)}i.on(e,{fn:n,ctx:r})}function cn(t,e,n){var r=t[Xe],i=r.listeners,o=r.nativeListeners;if(r.off(e,n),o&&!r.has(e)){var a=Je[e],u=o[e];a?a.off(t,u):Fe(t,e,u),delete o[e]}Kt(i)&&(t[Xe]=v)}var sn=Object.freeze({createElement:function(t,e){return e?C.createElementNS(Ze.svg,t):C.createElement(t)},createText:function(t){return C.createTextNode(t)},createComment:Qe,prop:tn,removeProp:function(e,n,r){qt(e,n,r===t?s:N,s)},attr:en,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:nn,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:rn,tag:function(t){if(1===t.nodeType)return $t(t.tagName)},text:function(t,e,n,r){if(!D(e))return t[He];t[He]=e},html:on,addClass:an,removeClass:un,on:fn,off:cn,addSpecialEvent:function(t,e){Je[t]=e}}),pn=function(){function t(t,e,n,r,i,o,a){var u=this;u.keypath=t,u.cache=n,u.deps=r,u.context=i.context,u.observer=i,u.getter=o,u.setter=a,u.unique={},u.watcher=function(e,n,r){var o=u.value,a=u.get(c);a!==o&&i.diff(t,a,o)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!ot(r))&&K(r,function(t){i.watch(t,u.watcherOptions)})}return t.prototype.get=function(e){var n=this.getter,r=this.context;if(this.cache){if(e||!Ft(this,"value"))if(this.fixed)this.value=q(n,r);else{this.unbind();var i=t.current;t.current=this,this.value=q(n,r),this.bind(),t.current=i}}else this.value=q(n,r);return this.value},t.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},t.prototype.add=function(t){this.unique[t]=c},t.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Mt(t,function(t,i){X(e,i),n.watch(i,r)}),this.unique={}},t.prototype.unbind=function(){var t=this.deps,e=this.observer,n=this.watcher;K(t,function(t){e.unwatch(t,n)},c),t.length=0},t}();function vn(t,e){var n;return K(t,function(t){var r=Tt(e,t);if(r>=0)return n={name:t,prop:ht(e,r)},s}),n}function hn(t,e){if(t==p||e===N)return t;var n=Yt(t,e);return n?n.value:void 0}function ln(t,e,n,r,i){var o=function(e,n,o){if(n!==o){var a=Pt(t,e);K(r,function(t){D(zt(a,t))&&i(t,a,n,o)}),ln(a,n,o,r,i)}};(function(t,e,n){var r=W(t),i=W(e);if(r||i)return n($,r?t.length:v,i?e.length:v),c})(e,n,o)||function(t,e,n){var r=U(t),i=U(e);if(r||i){var o=r?t.length:v,a=i?e.length:v;n($,o,a);for(var u=0,f=Math.max(o||0,a||0);u<f;u++)n(""+u,t?t[u]:v,e?e[u]:v);return c}}(e,n,o)||function(t,e,n){var r=M(t),i=M(e);(r||i)&&(t=r?t:j,e=i?e:j,r&&Mt(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Mt(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(e,n,o)}function dn(t,e,n,r,i,o){var a;Mt(r,function(r,u){if(jt(u))D(zt(t,u))?o(u,t,e,n):i&&(a?X(a,u):a=[u]);else{var f=Tt(u,t);if(f>=0){var c=ht(u,f),s=hn(e,c),p=hn(n,c);s!==p&&o(u,u,s,p)}}}),a&&ln(t,e,n,a,o)}function mn(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var yn={watcher:P};function gn(t,e){return R(t)?(yn.watcher=t,yn.immediate=e===c,yn):t&&t.watcher?t:void 0}var $n=function(){function t(t,e){this.data=t||{},this.context=e||this,this.nextTask=new le,this.syncEmitter=new ue,this.asyncEmitter=new ue,this.asyncChanges={}}return t.prototype.get=function(t,e,n){var r,i,o=pn.current,a=this.data,u=this.computed,f=this.reversedComputedKeys;if(t===N)return a;if(o&&!n&&o.add(t),u){if(i=u[t])return i.get();if(f){var c=vn(f,t);c&&c.prop&&(r=Yt(u[c.name].get(),c.prop))}}return r||(r=Yt(a,t)),r?r.value:e},t.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var u;if(i&&((u=i[e])&&u.set(t),o)){var f=vn(o,e);if(f&&f.prop&&(u=i[f.name])){var c=u.get();M(c)&&qt(c,f.prop,t)}}u||qt(r,e,t),n.diff(e,t,a)}};W(t)?a(e,t):M(t)&&Mt(t,a)},t.prototype.diff=function(t,e,n){var r=this,i=r.syncEmitter,o=r.asyncEmitter,a=r.asyncChanges,u=36!==yt(t);dn(t,e,n,i.listeners,u,function(t,e,n,r){i.fire(t,[n,r,e])}),dn(t,e,n,o.listeners,u,function(t,e,n,i){K(o.listeners[t],function(t){t.count++});var u=(a[e]||(a[e]={value:i,keypaths:[]})).keypaths;nt(u,t)||X(u,t),r.pending||(r.pending=c,r.nextTask.append(function(){r.pending&&(r.pending=v,r.diffAsync())}))})},t.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Mt(n,function(n,r){var i=[t.get(r),n.value,r];K(n.keypaths,function(t){e.fire(t,i,mn)})})},t.prototype.addComputed=function(t,e){var n,r,i=c,o=c,a=[];if(R(e))n=e;else if(M(e)){var u=e;I(u.cache)&&(i=u.cache),I(u.sync)&&(o=u.sync),U(u.deps)&&(a=Ht(u.deps)),R(u.get)&&(n=u.get),R(u.set)&&(r=u.set)}if(n){var f=new pn(t,o,i,a,this,n,r);return this.computed||(this.computed={}),this.computed[t]=f,this.reversedComputedKeys=Ut(this.computed,c),f}},t.prototype.removeComputed=function(t){var e=this.computed;e&&Ft(e,t)&&(delete e[t],this.reversedComputedKeys=Ut(e,c))},t.prototype.watch=function(t,e,n){var r=this,i=r.context,o=r.syncEmitter,a=r.asyncEmitter,u=function(t,e){var n=e.sync?o:a,u={fn:e.watcher,ctx:i,count:0};e.once&&(u.max=1),n.on(t,u),e.immediate&&q(e.watcher,i,[r.get(t),v,t])};W(t)?u(t,gn(e,n)):Mt(t,function(t,e){u(e,gn(t))})},t.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},t.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},t.prototype.increase=function(t,e,n){var r=We(this.get(t),0)+(e||1);if(!_(n)||r<=n)return this.set(t,r),r},t.prototype.decrease=function(t,e,n){var r=We(this.get(t),0)-(e||1);if(!_(n)||r>=n)return this.set(t,r),r},t.prototype.insert=function(t,e,n){var r=this.get(t),i=(r=U(r)?Ht(r):[]).length;if(n===c||n===i)r.push(e);else if(n===s||0===n)r.unshift(e);else{if(!(n>0&&n<i))return;r.splice(n,0,e)}return this.set(t,r),c},t.prototype.append=function(t,e){return this.insert(t,e,c)},t.prototype.prepend=function(t,e){return this.insert(t,e,s)},t.prototype.removeAt=function(t,e){var n=this.get(t);if(U(n)&&e>=0&&e<n.length)return(n=Ht(n)).splice(e,1),this.set(t,n),c},t.prototype.remove=function(t,e){var n=this.get(t);if(U(n)&&et(n=Ht(n),e))return this.set(t,n),c},t.prototype.copy=function(t,e){return Ht(t,e)},t.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Wt(this)},t}();function xn(t,e,n){var r;return function(){if(!r){var i=rt(arguments);n&&q(t,v,i),r=setTimeout(function(){r=v,n||q(t,v,i)},e)}}}var bn=Object.freeze({bind:function(t,e,n){var r=e.key,i=e.name,a=e.modifier,u=e.handler,f=n.lazy;if(u){if(f){var s=f[i]||f[N];s===c?i=T:s>0&&(u=xn(u,s,i===O||i===A))}var p;if(n.isComponent){var v=t;a===o?(fn(p=v.$el,i,u),n.data[r]=function(){cn(p,i,u)}):(a&&(i+=k+a),v.on(i,u),n.data[r]=function(){v.off(i,u)})}else fn(p=t,i,u),n.data[r]=function(){cn(p,i,u)}}},unbind:function(t,e,n){q(n.data[e.key])}});function kn(t,e){return e&&e!==c?xn(t,e):t}var wn={set:function(t,e){t.value=Gt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},Cn={set:function(t,e){t.checked=t.value===Gt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},En={set:function(t,e){t.checked=U(e)?nt(e,t.value,s):!!e},sync:function(t,e,n){var r=n.get(e);U(r)?t.checked?n.append(e,t.value):n.removeAt(e,J(r,t.value,s)):n.set(e,t.checked)},name:"checked"},An={set:function(t,e){K(rt(t.options),t.multiple?function(t){t.selected=nt(e,t.value,s)}:function(n,r){if(n.value==e)return t.selectedIndex=r,s})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];K(rt(r),function(t){t.selected&&X(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},On=c;var Tn=Object.freeze({once:On,bind:function(t,n,r){var i,o,a=r.context,u=r.lazy,f=r.isComponent,s=n.modifier,p=u&&(u[e]||u[N]);if(f){var h=t,l=h.$model,d=kn(function(t){a.set(s,t)},p);i=function(t){i&&h.set(l,t)},o=function(){h.unwatch(l,d)},h.watch(l,d)}else{var m=t,y="select"===r.tag?An:wn,g=T;if(y===wn){var $=t.type;"radio"===$?y=Cn:"checkbox"===$?y=En:p!==c&&(g=S)}i=function(t){i&&y.set(m,t)};var x=kn(function(){y.sync(m,s,a)},p);o=function(){cn(m,g,x)},fn(m,g,x),y.set(m,n.value)}a.watch(s,i),r.data[n.key]=function(){a.unwatch(s,i),i=v,o()}},unbind:function(t,e,n){q(n.data[e.key])}}),Sn=c;var Pn=Object.freeze({once:Sn,bind:function(t,e,n){var r=e.modifier,i=jt(r),o=function(a,u,f){if(o){var c=i?zt(f,r):e.name;if(n.isComponent){var s=t;s.checkProp(c,a),s.set(c,a)}else{var p=t;D(e.hint)?tn(p,c,a):en(p,c,a)}}};n.context.watch(r,o),n.data[e.key]=function(){n.context.unwatch(r,o),o=v}},unbind:function(t,e,n){q(n.data[e.key])}}),jn={},zn={},Nn={},Dn={},Ln={},Rn="$$",Un=/^[#.][-\w+]+$/,Mn=function(){function t(e){var n=this,r=e||j;n.$emitter=new ue(c),r.events&&n.on(r.events),r.parent&&(n.$parent=r.parent),q(r[u],n,r),n.fire(u+a,r);var i=r.data,o=r.props,f=r.vnode,p=r.propTypes,h=r.computed,$=r.methods,b=r.watchers,k=r.extensions;n.$options=r,k&&_t(n,k);var w=o?Ht(o):{};p&&Mt(p,function(t,e){var n=w[e];L(n)&&D(n=t.value)&&(w[e]=t.type===x?n:R(n)?n():n)});var C=n.$observer=new $n(w,n);h&&Mt(h,function(t,e){C.addComputed(e,t)});var E=R(i)?q(i,n,e):i;M(E)&&Mt(E,function(t,e){w[e]=t}),$&&Mt($,function(t,e){n[e]=t});var A=v,O=r.el,T=r.root,S=r.model,P=r.context,z=r.replace,U=r.template,_=r.transitions,I=r.components,H=r.directives,Y=r.partials,F=r.filters,K=r.slots;if(S&&(n.$model=S),K&&_t(w,K),W(U)&&Un.test(U)&&(A=rn(U))&&(U=on(A),A=v),O){if(W(O)){var B=O;Un.test(B)&&(A=rn(B))}else A=O;z||nn(A,A=Qe(N))}if(T&&(n.$root=T),P&&(n.$context=P),_n(n,g,_),_n(n,m,I),_n(n,y,H),_n(n,d,Y),_n(n,l,F),U){var G=b?Ht(b):{};return G[Rn]={sync:c,watcher:function(t){n.update(t,n.$vnode)}},C.addComputed(Rn,{sync:s,get:function(){return n.render()}}),Wn(n,G),n.$template=W(U)?t.compile(U):U,f||(f=function(t,e,n,r){return{tag:t.tag(e),data:Pe(),node:e,context:n,keypath:r}}(sn,A,n,N)),void n.update(n.get(Rn),f)}Wn(n,b)}return t.use=function(e){e.install(t)},t.define=function(t){return t},t.nextTick=function(t,e){le.shared().append(t,e)},t.compile=function(t,e){return N},t.directive=function(t,e){if(W(t)&&!e)return qn(jn,t);Fn(jn,t,e)},t.transition=function(t,e){if(W(t)&&!e)return qn(zn,t);Fn(zn,t,e)},t.component=function(t,e){if(W(t)&&!e)return qn(Nn,t);Fn(Nn,t,e)},t.partial=function(e,n){if(W(e)&&!n)return qn(Dn,e);Fn(Dn,e,n,t.compile)},t.filter=function(t,e){if(W(t)&&!e)return qn(Ln,t);Fn(Ln,t,e)},t.prototype.get=function(t,e){return this.$observer.get(t,e)},t.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},t.prototype.on=function(t,e){return Hn(this,t,e),this},t.prototype.once=function(t,e){return Hn(this,t,e,c),this},t.prototype.off=function(t,e){return this.$emitter.off(t,e),this},t.prototype.fire=function(t,e,n){var r,i=this.$emitter,o=this.$parent,a=this.$children,u=t instanceof F?t:new F(t),f=u.ns||(u.ns=i.parse(u.type)),s=[u];return u.target||(u.target=this),M(e)?X(s,e):e===c&&(n=c),(r=i.fire(f,s))&&(n?a&&(u.phase=F.PHASE_DOWNWARD,K(a,function(t){return r=t.fire(u,e,c)})):o&&(u.phase=F.PHASE_UPWARD,r=o.fire(u,e))),r},t.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},t.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},t.prototype.loadComponent=function(t,e){Yn(this.$components,t,e)||Yn(Nn,t,e)},t.prototype.createComponent=function(n,r){(n=Ht(n)).root=this.$root||this,n.parent=this,n.context=r.context,n.vnode=r,n.replace=c;var i=r.props,o=r.slots,a=r.directives,u=a&&a[e];if(u){i||(i={});var f=n.model||"value";i[f]=u.value,n.model=f}i&&(n.props=i),o&&(n.slots=o);var s=new t(n);X(this.$children||(this.$children=[]),s);var p=s.$el;return p&&(r.node=p),s},t.prototype.directive=function(e,n){var r=this.$directives;if(W(e)&&!n)return qn(r,e,t.directive);Fn(r||(this.$directives={}),e,n)},t.prototype.transition=function(e,n){var r=this.$transitions;if(W(e)&&!n)return qn(r,e,t.transition);Fn(r||(this.$transitions={}),e,n)},t.prototype.component=function(e,n){var r=this.$components;if(W(e)&&!n)return qn(r,e,t.component);Fn(r||(this.$components={}),e,n)},t.prototype.partial=function(e,n){var r=this.$partials;if(W(e)&&!n)return qn(r,e,t.partial);Fn(r||(this.$partials={}),e,n,t.compile)},t.prototype.filter=function(e,n){var r=this.$filters;if(W(e)&&!n)return qn(r,e,t.filter);Fn(r||(this.$filters={}),e,n)},t.prototype.forceUpdate=function(t){var e=this.$vnode,n=this.$observer,r=n.computed;if(e&&r){var i=r[Rn],o=i.get();t&&this.set(t),n.nextTask.run(),t||o!==i.get()||this.update(i.get(c),e)}},t.prototype.render=function(){var t,o,a,u,f,s,h,l,d,m,y,g,$,x,w,C,E,A,O,T,S,P,j,z,R,W,_,I,H,Y,B,G,V,J,et,nt,rt,ot;return t=this,o=this.$observer,a=this.$template,u=It(this.$filters,Ln),f=It(this.$partials,Dn),s=It(this.$directives,jn),h=It(this.$transitions,zn),m=[d={$keypath:N}],y=[],g={},$=function(t,e,n,r,i,a){var f=t[e],c=Pt(f.$keypath,n),s=t,h=Nt;if(L(a)&&(a=c),D(f[n])?s=f[n]:D(f.$item)&&(f=f.$item,n===N?s=f:f!=p&&D(f[n])&&(s=f[n])),s===t&&(s=o.get(c,t,i))===t){if(r&&e>0)return $(t,e-1,n,r,i,a);var l=Yt(u,n);return l?(h=l).keypath=n:(h.value=v,h.keypath=a),h}return h.value=s,h.keypath=c,h},x=function(e,n,r){return function(i,o){var a=t[e];if(i instanceof F){var u=v;if(n){var f=Q(r);f&&(f.$event=i,f.$data=o,u=q(a,t,n(r)),f.$event=f.$data=v)}else u=q(a,t,o?[i,o]:i);return u}q(a,t,n?n(r):v)}},w=function(t,e){return function(){return t(e)}},et=function(t,e,n,r,i,o){var a=d,u=m;d={$keypath:r},m=u.concat(d),D(o)&&(d.$length=o),i&&(d[i]=n),r||(d.$item=e),t(),d=a,m=u},a(I=function(t,e,n,r,i,o){var a=o||m,u=$(a,a.length-((n||0)+1),t,e,i);return r?u:u.value},H=function(t,e){return Z(e,t),it(e,k)},Y=function(t,e,n,r){D(n)&&(e=it(n,k));var i=Yt(t,e);return Nt.keypath=v,Nt.value=i?i.value:v,r?Nt:Nt.value},B=function(e,n,r){return Nt.keypath=v,Nt.value=q(e,t,n||v),r?Nt:Nt.value},C=function(e){var n=Q(y);if(n){var r=Q(n);r&&r.isText?r.text+=e:X(n,{isText:c,text:e,context:t,keypath:d.$keypath})}},E=function(t,e){l.isComponent?_e(l,"props",t,e):_e(l,"nativeAttrs",t,{name:t,value:e})},A=function(t,e,n){_e(l,"nativeProps",t,{name:t,value:n,hint:e})},O=function(t,e){_e(l,"lazy",t,e)},T=function(t){l.transition=h[t]},S=function(t,e,n){var i=Pt(r,t);return _e(l,Ie,i,{ns:r,name:t,key:i,modifier:e.keypath,hooks:s[r],hint:n}),e.value},P=function(t){_e(l,Ie,e,{ns:e,name:N,key:e,value:t.value,modifier:t.keypath,hooks:s[e]})},j=function(t,e,r,i,o,a){_e(l,Ie,e,{ns:n,name:t,key:e,value:i,modifier:r,hooks:s[n],handler:x(o,a,m)})},z=function(e,r,i,o,a){var u;_e(l,Ie,r,{ns:n,name:e,key:r,value:o,modifier:i,hooks:s[n],handler:(u=a,function(e,n){u!==e.type&&(e=new F(u,e)),t.fire(e,n)})})},R=function(t,e,n,r,o,a,u){var f=s[t];_e(l,Ie,e,{ns:i,name:t,key:e,value:r,hooks:f,modifier:n,getter:u?w(u,m):v,handler:o?x(o,a,m):v})},W=function(t){var e=t.value,n=t.keypath;if(e!=p&&M(e)&&!U(e)&&(Mt(e,function(t,e){_e(l,"props",e,t)}),n)){var i=Pt(r,n);_e(l,Ie,i,{ns:r,name:N,key:i,modifier:Pt(n,b),hooks:s[r]})}},_=function(e,n,r,i,a){if(n){var u=o.get(n);e.tag=u}if(r&&(l=e,r(),l=v),i)y.push(e.children=[]),i(),tt(y);else if(a){var f={};Mt(a,function(t,e){y.push([]),t();var n=tt(y);f[e]=n.length?n:v}),e.slots=f}e.context=t,e.keypath=d.$keypath;var c=Q(y);return c&&X(c,e),e},G=function(e,n){var r=Q(y),i=t.get(e);r&&(i?K(i,function(n){X(r,n),n.slot=e,n.parent=t}):n&&n())},V=function(t,e){g[t]=e},J=function(t){if(g[t])g[t]();else{var e=f[t];e&&e(I,H,Y,B,C,E,A,O,T,S,P,j,z,R,W,_,G,V,J,nt,rt,ot,Gt)}},nt=function(t,e,n){var r=e.keypath,i=e.value;if(U(i))for(var o=0,a=i.length;o<a;o++)et(t,i[o],o,r?Pt(r,N+o):N,n,a);else if(M(i))for(var u in i)et(t,i[u],u,r?Pt(r,u):N,n)},rt=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<n;o++)et(t,o,i++,N,r);else for(o=e;o>n;o--)et(t,o,i++,N,r)},ot=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<=n;o++)et(t,o,i++,N,r);else for(o=e;o>=n;o--)et(t,o,i++,N,r)},Gt)},t.prototype.update=function(e,n){var r,i=this,o=i.$vnode,u=i.$options;i.$refs={},o?(q(u.beforeUpdate,i),i.fire("beforeUpdate"+a),Me(sn,e,n),r="afterUpdate"):(q(u.beforeMount,i),i.fire("beforeMount"+a),Me(sn,e,n),i.$el=e.node,r="afterMount"),i.$vnode=e,t.nextTick(function(){i.$vnode&&(q(u[r],i),i.fire(r+a))})},t.prototype.checkProp=function(t,e){},t.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,r=this.$observer;q(e.beforeDestroy,this),this.fire("beforeDestroy"+a);var i=this.$vnode;t&&t.$children&&et(t.$children,this),i&&(this.$vnode=v,function(t,e,n){if(n){var r=t.parent(e.node);r&&Le(t,r,e)}else Re(t,e)}(sn,i,!t)),r.destroy(),q(e.afterDestroy,this),this.fire("afterDestroy"+a),n.off(),Wt(this)},t.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},t.prototype.toggle=function(t){return this.$observer.toggle(t)},t.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},t.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},t.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},t.prototype.append=function(t,e){return this.$observer.append(t,e)},t.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},t.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},t.prototype.remove=function(t,e){return this.$observer.remove(t,e)},t.prototype.copy=function(t,e){return this.$observer.copy(t,e)},t.version="1.0.0-alpha.88",t.is=Y,t.dom=sn,t.array=at,t.object=Bt,t.string=kt,t.logger=ae,t.Event=F,t.Emitter=ue,t}();function Wn(t,e){e&&t.watch(e),q(t.$options[f],t),t.fire(f+a)}function _n(t,e,n){R(n)?t[e](q(n,t)):M(n)&&t[e](n)}function In(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Hn(t,e,n,r){W(e)?In(t,e,n,r):Mt(e,function(e,n){In(t,n,e,r)})}function Yn(t,e,n){if(t&&t[e]){var r=t[e];if(R(r)){t[e]=[n];var i=function(n){var r=t[e],i=n.default||n;t[e]=i,K(r,function(t){t(i)})},o=r(i);o&&o.then(i)}else U(r)?X(r,n):n(r);return c}}function qn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Fn(t,e,n,r){W(e)?t[e]=r?r(n):n:Mt(e,function(e,n){t[n]=r?r(e):e})}return Mn.directive({event:bn,model:Tn,binding:Pn}),Mn.filter({hasSlot:function(t){return D(this.get("$slot_"+t))}}),Mn});
//# sourceMappingURL=yox.min.js.map
