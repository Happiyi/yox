!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,r=void 0,i=-1,o="filter",a="partial",u="component",f="directive",c="transition",s="length",p="function",v="*",h=".",l="undefined"!=typeof window?window:r,d="undefined"!=typeof document?document:r,m="undefined"!=typeof global?global:l,y="tap",g="click",$="change",x="model",b=function(){},k=Object.freeze({}),w=Object.freeze([]),C="",E=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=i,e}(),A=3,O="model",T="event",S="binding",P="o",j="native",z=".hook",N="beforeCreate",D="afterCreate";function L(t){return t!==r}function R(t){return t===r}function U(t){return typeof t===p}function M(t){return Array.isArray(t)}function W(t){return t!==n&&"object"==typeof t}function _(t){return"string"==typeof t}function I(t){return"number"==typeof t}function H(t){return"boolean"==typeof t}function Y(t){return I(t)||_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var q=Object.freeze({func:U,array:M,object:W,string:_,number:I,boolean:H,numeric:Y});function F(t,e,n){if(U(t))return M(n)?t.apply(e,n):L(e)?t.call(e,n):L(n)?t(n):t()}function K(t,n,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&n(t[o],o)!==e;o--);else for(o=0;o<i&&n(t[o],o)!==e;o++);}function B(t,e){t[t.length]=e}function G(t,e){t.unshift(e)}function V(t,e,n){M(e)?K(e,function(e){n(t,e)}):n(t,e)}function X(t,e){V(t,e,B)}function Z(t,e){V(t,e,G)}function J(t,n,r){var o=i;return K(t,function(t,i){if(r===e?t==n:t===n)return o=i,e}),o}function Q(t){var e=t.length;if(e>0)return t[e-1]}function tt(t){if(t.length>0)return t.pop()}function et(n,r,i){var o=0;return K(n,function(t,a){(i===e?t==r:t===r)&&(n.splice(a,1),o++)},t),o}function nt(t,e,n){return J(t,e,n)>=0}function rt(t){return M(t)?t:F(w.slice,t)}function it(t,e){return t.join(e)}function ot(t){return!M(t)||!t.length}var at=Object.freeze({each:K,push:X,unshift:Z,indexOf:J,last:Q,pop:tt,remove:et,has:nt,toArray:rt,toObject:function(t,e,n){var r={};return K(t,function(t){r[e?t[e]:t]=n||t}),r},join:it,falsy:ot}),ut=/-([a-z])/gi,ft=/\B([A-Z])/g,ct=/^[a-z]/,st={},pt={},vt={};function ht(t,e,n){return I(n)?e===n?C:t.slice(e,n):t.slice(e)}function lt(t,e,n){return t.indexOf(e,L(n)?n:0)}function dt(t,e,n){return t.lastIndexOf(e,L(n)?n:t.length)}function mt(t,e){return 0===lt(t,e)}function yt(t,e){return t.charCodeAt(e||0)}function gt(t){return t.toUpperCase()}function $t(t){return t.toLowerCase()}function xt(t,e){return lt(t,e)>=0}function bt(t){return!_(t)||!t.length}var kt=Object.freeze({camelize:function(t){return st[t]||(st[t]=t.replace(ut,function(t,e){return gt(e)})),st[t]},hyphenate:function(t){return pt[t]||(pt[t]=t.replace(ft,function(t,e){return"-"+$t(e)})),pt[t]},capitalize:function(t){return vt[t]||(vt[t]=t.replace(ct,gt)),vt[t]},trim:function(t){return bt(t)?C:t.trim()},slice:ht,indexOf:lt,lastIndexOf:dt,startsWith:mt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&dt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:yt,upper:gt,lower:$t,has:xt,falsy:bt}),wt=/\./g,Ct=/\*/g,Et=/\*\*/g,At={},Ot={};function Tt(t,e){return t===e?e.length:mt(t,e+=h)?e.length:i}function St(t,n){for(var r=At.hasOwnProperty(t)?At[t]:At[t]=t.split(h),i=0,o=r.length-1;i<=o&&n(r[i],i===o)!==e;i++);}function Pt(t,e){return t&&e?t+h+e:t||e}function jt(t){return xt(t,v)}function zt(t,e){var n=Ot[e];if(!n){var r=e.replace(wt,"\\.").replace(Ct,"(\\w+)").replace(Et,"([.\\w]+?)");n=Ot[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var Nt={value:r};function Dt(t){return Object.keys(t)}function Lt(t,e){return t.length-e.length}function Rt(t,e){return e.length-t.length}function Ut(t,e){return Dt(t).sort(e?Rt:Lt)}function Mt(t,n){for(var r in t)if(n(t[r],r)===e)break}function Wt(t){Mt(t,function(e,n){delete t[n]})}function _t(t,e){return Mt(e,function(e,n){t[n]=e}),t}function It(t,e){return t&&e?_t(_t({},t),e):t||e}function Ht(t,e){var n=t;return M(t)?e?(n=[],K(t,function(t,r){n[r]=Ht(t,e)})):n=t.slice():W(t)&&(n={},Mt(t,function(t,r){n[r]=e?Ht(t,e):t})),n}function Yt(t,i){return St(i,function(i,o){if(t==n)return t=r,e;var a=t[i],u=L(a);a&&U(a.get)&&(a=a.get()),o?u?(Nt.value=a,t=Nt):t=r:t=a}),t}function qt(t,n,r,i){St(n,function(n,o){if(o)t[n]=r;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function Ft(t,e){return L(t[e])}function Kt(t){return!W(t)||M(t)||!Dt(t).length}var Bt=Object.freeze({keys:Dt,sort:Ut,each:Mt,clear:Wt,extend:_t,merge:It,copy:Ht,get:Yt,set:qt,has:Ft,falsy:Kt});function Gt(t,e){return t!=n&&t.toString?t.toString():L(e)?e:C}var Vt=1,Xt=2,Zt=3,Jt=4,Qt=5,te="undefined"!=typeof console?console:n,ee=/yox/.test(Gt(b))?Xt:Zt,ne=l&&/edge|msie|trident/i.test(l.navigator.userAgent)?C:"%c",re=te?ne?function(t,e,n){te.log(ne+t,n,e)}:function(t,e){te.log(t,e)}:b;function ie(){if(m){var t=m.YOX_LOG_LEVEL;if(t>=Vt&&t<=Qt)return t}return ee}function oe(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var ae=Object.freeze({DEBUG:Vt,INFO:Xt,WARN:Zt,ERROR:Jt,FATAL:Qt,debug:function(t,e){ie()<=Vt&&re(e||"Yox debug",t,oe("#999"))},info:function(t,e){ie()<=Xt&&re(e||"Yox info",t,oe("#2db7f5"))},warn:function(t,e){ie()<=Zt&&re(e||"Yox warn",t,oe("#f90"))},error:function(t,e){ie()<=Jt&&re(e||"Yox error",t,oe("#ed4014"))},fatal:function(t,e){if(ie()<=Qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),ue=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,i,o){var a=this,u=_(n)?a.parse(n):n,f=a.listeners[u.type],c=t;if(f){f=Ht(f);var s=i&&i[0]instanceof E?i[0]:r;K(f,function(t){if(se(u.ns,t)&&nt(f,t)&&(!o||o(u,i,t))){s&&(s.listener=t.fn);var n=F(t.fn,t.ctx,i);return s&&(s.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&a.off(u,t.fn),s&&(n===e?s.prevent().stop():s.isStoped&&(n=e)),n===e?c=e:void 0}})}return c},n.prototype.on=function(t,e){var n=this.listeners,r=U(e)?{fn:e}:e;if(W(r)&&U(r.fn)){var i=_(t)?this.parse(t):t;r.ns=i.ns,X(n[i.type]||(n[i.type]=[]),r)}},n.prototype.off=function(e,n){var r=this.listeners;if(e){var i=_(e)?this.parse(e):e,o=i.type,a=i.ns,u=ce(n),f=function(e,n){K(e,function(t,n){u(t)&&se(a,t)&&e.splice(n,1)},t),e.length||delete r[n]};o?r[o]&&f(r[o],o):a&&Mt(r,f)}else this.listeners={}},n.prototype.has=function(n,r){var i=this.listeners,o=_(n)?this.parse(n):n,a=o.type,u=o.ns,f=t,c=ce(r),s=function(t){return K(t,function(t){if(c(t)&&se(u,t))return f=e}),f};return a?i[a]&&s(i[a]):u&&Mt(i,s),!f},n.prototype.parse=function(t){var e={type:t,ns:C};if(this.ns){var n=lt(t,h);n>=0&&(e.type=ht(t,0,n),e.ns=ht(t,n+1))}return e},n}();function fe(){return t}function ce(t){return U(t)?function(e){return t===e.fn}:fe}function se(e,n){var r=n.ns;return r&&e?r===e:t}function pe(t){return U(t)&&xt(Gt(t),"[native code]")}typeof setImmediate===p&&pe(setImmediate)&&setImmediate;var ve,he=typeof MessageChannel===p&&pe(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,le=function(){function t(){this.tasks=[]}return t.shared=function(){return ve||(ve=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;X(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;Z(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],K(t,function(t){F(t.fn,t.ctx)}))},t}(),de=0;var me="$id",ye="$vnode",ge="$loading",$e="$component",xe="$leaving";function be(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||k,u=o||k;Mt(a,function(e,n){u[n]&&e.value===u[n].value||t.attr(r,n,e.value)}),Mt(u,function(e,n){a[n]||t.removeAttr(r,n)})}}function ke(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||k,u=o||k;Mt(a,function(e,n){u[n]&&e.value===u[n].value||t.prop(r,n,e.value)}),Mt(u,function(e,n){a[n]||t.removeProp(r,n,e.hint)})}}function we(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[$e]||t.node,a=e&&t.keypath!==e.keypath,u=r||k,f=i||k;Mt(u,function(n,r){var i=n.hooks,u=i.once,c=i.bind,s=i.unbind;f[r]?(u||n.value!==f[r].value||a)&&(s&&s(o,f[r],e),c(o,n,t)):c(o,n,t)}),Mt(f,function(t,n){if(!u[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function Ce(t){var e=t.directives;if(e){var n=t.data[$e]||t.node;Mt(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ee(t,e){var n,r=t.data,i=t.ref,o=t.props,a=t.slots,u=t.directives,f=t.context;if(t.isComponent){if(n=r[$e],e){var c=u&&u[O];c&&(o||(o={}),o[n.$model]=c.value);var s=It(o,a);s&&n.forceUpdate(s)}}else n=t.node;if(i){var p=f.$refs;p&&(p[i]=n)}}function Ae(t,e){return t.tag===e.tag&&t.key===e.key}function Oe(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||k}function Te(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Se(t,n){var r=(t.parent||t.context).createComponent(n,t);return t.data[$e]=r,t.data[ge]=e,Ee(t),we(t),r}function Pe(){var t={};return t[me]=++de,t}function je(e,n){var i=n.tag,o=n.node,a=n.data,f=n.isComponent,c=n.isComment,s=n.isText,p=n.isStyle,v=n.isOption,h=n.children,l=n.text,d=n.html,m=n.context;if(!o||!a)if(a=Pe(),n.data=a,s)n.node=e.createText(l);else if(c)n.node=e.createComment(l);else if(f){var y=r;i&&m.loadComponent(i,function(t){Ft(a,ge)?a[ge]&&(a[ye]&&(n=a[ye],delete a[ye]),Ue(n,Se(n,t))):y=t}),n.node=e.createComment(u),y?Se(n,y):a[ge]=t}else o=n.node=e.createElement(n.tag,n.isSvg),h?ze(e,o,h):l?e.text(o,l,p,v):d&&e.html(o,d,p,v),be(e,n),ke(e,n),Ee(n),we(n)}function ze(t,e,n,r,i,o){for(var a,u=r||0,f=L(i)?i:n.length-1;u<=f;)je(t,a=n[u]),Ne(t,e,a,o),u++}function Ne(t,e,n,i){var o=n.node,a=n.data,u=n.context,f=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!f){var c=r;if(n.isComponent){var s=a[$e];s&&(c=function(){Ue(n,s)})}else n.isStatic||n.isText||n.isComment||(c=function(){Ue(n)});c&&u.$observer.nextTask.prepend(c)}}function De(t,e,n,r,i){for(var o,a=r||0,u=L(i)?i:n.length-1;a<=u;)(o=n[a])&&Le(t,e,o),a++}function Le(t,e,n){var i=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{var o,a=function(){Re(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[$e]))return void a();!function(t,e,n){var i=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var a=o.leave;if(a)return void a(t.node,i[xe]=function(){i[xe]&&(n(),i[xe]=r)})}n()}(n,o,a)}}function Re(t,n){var r=n.data,i=n.children,o=n.parent,a=n.slot;if(a&&o&&o.$vnode){var u=o.get(a);if(u&&nt(u,n))return}if(n.isComponent){var f=r[$e];f?(Ce(n),f.destroy()):r[ge]=e}else Ce(n),i&&K(i,function(e){Re(t,e)})}function Ue(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),F(n[xe]),r){var i=r.enter;if(i)return void i(t.node)}}function Me(t,e,n){if(e!==n){var i=n.node,o=n.data;if(!Ae(e,n)){var a=t.parent(i);return je(t,e),void(a&&(Ne(t,a,e,n),Le(t,a,n)))}if(e.node=i,e.data=o,n.isComponent&&o[ge])o[ye]=e;else if(!e.isStatic||!n.isStatic){be(t,e,n),ke(t,e,n),Ee(e,n),we(e,n);var u=e.text,f=e.html,c=e.children,s=e.isStyle,p=e.isOption,v=n.text,h=n.html,l=n.children;_(u)?u!==v&&t.text(i,u,s,p):_(f)?f!==h&&t.html(i,f,s,p):c&&l?c!==l&&function(t,e,n,i){for(var o,a,u=0,f=n.length-1,c=n[u],s=n[f],p=0,v=i.length-1,h=i[p],l=i[v];p<=v&&u<=f;)c?s?h?l?Ae(c,h)?(Me(t,c,h),c=n[++u],h=i[++p]):Ae(s,l)?(Me(t,s,l),s=n[--f],l=i[--v]):Ae(s,h)?(Me(t,s,h),Te(t,e,h.node,t.next(l.node)),s=n[--f],h=i[++p]):Ae(c,l)?(Me(t,c,l),Te(t,e,l.node,h.node),c=n[++u],l=i[--v]):(o||(o=Oe(i,p,v)),L(a=c.key?o[c.key]:r)?(Me(t,c,i[a]),i[a]=r):je(t,c),Ne(t,e,c,h),c=n[++u]):l=i[--v]:h=i[++p]:s=n[--f]:c=n[++u];p>v?ze(t,e,n,u,f,n[f+1]):u>f&&De(t,e,i,p,v)}(t,i,c,l):c?((_(v)||_(h))&&t.text(i,C,s),ze(t,i,c)):l?De(t,i,l):(_(v)||_(h))&&t.text(i,C,s)}}}function We(t,e){return Y(t)?+t:L(e)?e:0}function _e(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var Ie="directives";var He="textContent",Ye="innerHTML",qe=function(t,n,r){t.addEventListener(n,r,e)},Fe=function(t,n,r){t.removeEventListener(n,r,e)},Ke=function(t,e){t.classList.add(e)},Be=function(t,e){t.classList.remove(e)},Ge=function(t,e){return t};d&&(d.documentElement.classList||(Ke=function(t,e){var n=t.className.split(Ve);nt(n,e)||(X(n,e),t.className=it(n,Ve))},Be=function(t,e){var n=t.className.split(Ve);et(n,e)&&(t.className=it(n,Ve))}));var Ve=" ",Xe="$emitter",Ze={svg:"http://www.w3.org/2000/svg"},Je={};function Qe(t){return d.createComment(t)}function tn(t,n,r){if(L(r))qt(t,n,r,e);else{var i=Yt(t,n);if(i)return i.value}}function en(t,e,r){if(L(r))t.setAttribute(e,r);else{var i=t.getAttribute(e);if(i!=n)return i}}function nn(t,e){t.appendChild(e)}Je[x]={on:function(n,r){var i=e;fn(n,"compositionstart",r.compositionstart=function(){i=t}),fn(n,"compositionend",r.compositionend=function(t){i=e,r(t)}),qe(n,"input",r.input=function(t){i||r(t)})},off:function(t,e){cn(t,"compositionstart",e.compositionstart),cn(t,"compositionend",e.compositionend),Fe(t,"input",e.input),e.compositionstart=e.compositionend=e.input=r}};var rn=function(t){var e=d.querySelector(t);if(e)return e};function on(t,e,n,r){if(!L(e))return t[Ye];t[Ye]=e}var an=Ke,un=Be;function fn(t,e,n,r){var i=t[Xe]||(t[Xe]=new ue),o=i.nativeListeners||(i.nativeListeners={});if(!o[e]){var a=Je[e],u=function(n){var r=n instanceof E?n:new E(n.type,Ge(n,t));r.type!==e&&(r.type=e),i.fire(e,[r])};o[e]=u,a?a.on(t,u):qe(t,e,u)}i.on(e,{fn:n,ctx:r})}function cn(t,e,n){var i=t[Xe],o=i.listeners,a=i.nativeListeners;if(i.off(e,n),a&&!i.has(e)){var u=Je[e],f=a[e];u?u.off(t,f):Fe(t,e,f),delete a[e]}Kt(o)&&(t[Xe]=r)}var sn=Object.freeze({createElement:function(t,e){return e?d.createElementNS(Ze.svg,t):d.createElement(t)},createText:function(t){return d.createTextNode(t)},createComment:Qe,prop:tn,removeProp:function(t,n,r){qt(t,n,r===A?e:C,e)},attr:en,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:nn,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:rn,tag:function(t){if(1===t.nodeType)return $t(t.tagName)},text:function(t,e,n,r){if(!L(e))return t[He];t[He]=e},html:on,addClass:an,removeClass:un,on:fn,off:cn,addSpecialEvent:function(t,e){Je[t]=e}}),pn=function(){function e(e,n,r,i,o,a,u){var f=this;f.keypath=e,f.cache=r,f.deps=i,f.context=o.context,f.observer=o,f.getter=a,f.setter=u,f.unique={},f.watcher=function(n,r,i){var a=f.value,u=f.get(t);u!==a&&o.diff(e,u,a)},f.watcherOptions={sync:n,watcher:f.watcher},(f.fixed=!ot(i))&&K(i,function(t){o.watch(t,f.watcherOptions)})}return e.prototype.get=function(t){var n=this.getter,r=this.context;if(this.cache){if(t||!Ft(this,"value"))if(this.fixed)this.value=F(n,r);else{this.unbind();var i=e.current;e.current=this,this.value=F(n,r),this.bind(),e.current=i}}else this.value=F(n,r);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Mt(t,function(t,i){X(e,i),n.watch(i,r)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,r=this.watcher;K(e,function(t){n.unwatch(t,r)},t),e.length=0},e}();function vn(t,n){var r;return K(t,function(t){var i=Tt(n,t);if(i>=0)return r={name:t,prop:ht(n,i)},e}),r}function hn(t,e){if(t==n||e===C)return t;var r=Yt(t,e);return r?r.value:void 0}function ln(e,n,i,o,a){var u=function(t,n,r){if(n!==r){var i=Pt(e,t);K(o,function(t){L(zt(i,t))&&a(t,i,n,r)}),ln(i,n,r,o,a)}};(function(e,n,i){var o=_(e),a=_(n);if(o||a)return i(s,o?e.length:r,a?n.length:r),t})(n,i,u)||function(e,n,i){var o=M(e),a=M(n);if(o||a){var u=o?e.length:r,f=a?n.length:r;i(s,u,f);for(var c=0,p=Math.max(u||0,f||0);c<p;c++)i(""+c,e?e[c]:r,n?n[c]:r);return t}}(n,i,u)||function(t,e,n){var r=W(t),i=W(e);(r||i)&&(t=r?t:k,e=i?e:k,r&&Mt(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Mt(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(n,i,u)}function dn(t,e,n,r,i,o){var a;Mt(r,function(r,u){if(jt(u))L(zt(t,u))?o(u,t,e,n):i&&(a?X(a,u):a=[u]);else{var f=Tt(u,t);if(f>=0){var c=ht(u,f),s=hn(e,c),p=hn(n,c);s!==p&&o(u,u,s,p)}}}),a&&ln(t,e,n,a,o)}function mn(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var yn={watcher:b};function gn(e,n){return U(e)?(yn.watcher=e,yn.immediate=n===t,yn):e&&e.watcher?e:void 0}var $n=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new le,this.syncEmitter=new ue,this.asyncEmitter=new ue,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var r,i,o=pn.current,a=this.data,u=this.computed,f=this.reversedComputedKeys;if(t===C)return a;if(o&&!n&&o.add(t),u){if(i=u[t])return i.get();if(f){var c=vn(f,t);c&&c.prop&&(r=Yt(u[c.name].get(),c.prop))}}return r||(r=Yt(a,t)),r?r.value:e},n.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var u;if(i&&((u=i[e])&&u.set(t),o)){var f=vn(o,e);if(f&&f.prop&&(u=i[f.name])){var c=u.get();W(c)&&qt(c,f.prop,t)}}u||qt(r,e,t),n.diff(e,t,a)}};_(t)?a(e,t):W(t)&&Mt(t,a)},n.prototype.diff=function(e,n,i){var o=this,a=o.syncEmitter,u=o.asyncEmitter,f=o.asyncChanges,c=36!==yt(e);dn(e,n,i,a.listeners,c,function(t,e,n,r){a.fire(t,[n,r,e])}),dn(e,n,i,u.listeners,c,function(e,n,i,a){K(u.listeners[e],function(t){t.count++});var c=(f[n]||(f[n]={value:a,keypaths:[]})).keypaths;nt(c,e)||X(c,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Mt(n,function(n,r){var i=[t.get(r),n.value,r];K(n.keypaths,function(t){e.fire(t,i,mn)})})},n.prototype.addComputed=function(e,n){var r,i,o=t,a=t,u=[];if(U(n))r=n;else if(W(n)){var f=n;H(f.cache)&&(o=f.cache),H(f.sync)&&(a=f.sync),M(f.deps)&&(u=Ht(f.deps)),U(f.get)&&(r=f.get),U(f.set)&&(i=f.set)}if(r){var c=new pn(e,a,o,u,this,r,i);return this.computed||(this.computed={}),this.computed[e]=c,this.reversedComputedKeys=Ut(this.computed,t),c}},n.prototype.removeComputed=function(e){var n=this.computed;n&&Ft(n,e)&&(delete n[e],this.reversedComputedKeys=Ut(n,t))},n.prototype.watch=function(t,e,n){var i=this,o=i.context,a=i.syncEmitter,u=i.asyncEmitter,f=function(t,e){var n=e.sync?a:u,f={fn:e.watcher,ctx:o,count:0};e.once&&(f.max=1),n.on(t,f),e.immediate&&F(e.watcher,o,[i.get(t),r,t])};_(t)?f(t,gn(e,n)):Mt(t,function(t,e){f(e,gn(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var r=We(this.get(t),0)+(e||1);if(!I(n)||r<=n)return this.set(t,r),r},n.prototype.decrease=function(t,e,n){var r=We(this.get(t),0)-(e||1);if(!I(n)||r>=n)return this.set(t,r),r},n.prototype.insert=function(n,r,i){var o=this.get(n),a=(o=M(o)?Ht(o):[]).length;if(i===t||i===a)o.push(r);else if(i===e||0===i)o.unshift(r);else{if(!(i>0&&i<a))return;o.splice(i,0,r)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var r=this.get(e);if(M(r)&&n>=0&&n<r.length)return(r=Ht(r)).splice(n,1),this.set(e,r),t},n.prototype.remove=function(e,n){var r=this.get(e);if(M(r)&&et(r=Ht(r),n))return this.set(e,r),t},n.prototype.copy=function(t,e){return Ht(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Wt(this)},n}();function xn(t,e,n){var i;return function(){if(!i){var o=rt(arguments);n&&F(t,r,o),i=setTimeout(function(){i=r,n||F(t,r,o)},e)}}}var bn=Object.freeze({bind:function(e,n,r){var i=n.key,o=n.name,a=n.modifier,u=n.handler,f=r.lazy;if(u){if(f){var c=f[o]||f[C];c===t?o=$:c>0&&(u=xn(u,c,o===g||o===y))}var s;if(r.isComponent){var p=e;a===j?(fn(s=p.$el,o,u),r.data[i]=function(){cn(s,o,u)}):(a&&(o+=h+a),p.on(o,u),r.data[i]=function(){p.off(o,u)})}else fn(s=e,o,u),r.data[i]=function(){cn(s,o,u)}}},unbind:function(t,e,n){F(n.data[e.key])}});function kn(e,n){return n&&n!==t?xn(e,n):e}var wn={set:function(t,e){t.value=Gt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},Cn={set:function(t,e){t.checked=t.value===Gt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},En={set:function(t,n){t.checked=M(n)?nt(n,t.value,e):!!n},sync:function(t,n,r){var i=r.get(n);M(i)?t.checked?r.append(n,t.value):r.removeAt(n,J(i,t.value,e)):r.set(n,t.checked)},name:"checked"},An={set:function(t,n){K(rt(t.options),t.multiple?function(t){t.selected=nt(n,t.value,e)}:function(r,i){if(r.value==n)return t.selectedIndex=i,e})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];K(rt(r),function(t){t.selected&&X(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},On=t;var Tn=Object.freeze({once:On,bind:function(e,n,i){var o,a,u=i.context,f=i.lazy,c=i.isComponent,s=n.modifier,p=f&&(f[O]||f[C]);if(c){var v=e,h=v.$model,l=kn(function(t){u.set(s,t)},p);o=function(t){o&&v.set(h,t)},a=function(){v.unwatch(h,l)},v.watch(h,l)}else{var d=e,m="select"===i.tag?An:wn,y=$;if(m===wn){var g=e.type;"radio"===g?m=Cn:"checkbox"===g?m=En:p!==t&&(y=x)}o=function(t){o&&m.set(d,t)};var b=kn(function(){m.sync(d,s,u)},p);a=function(){cn(d,y,b)},fn(d,y,b),m.set(d,n.value)}u.watch(s,o),i.data[n.key]=function(){u.unwatch(s,o),o=r,a()}},unbind:function(t,e,n){F(n.data[e.key])}}),Sn=t;var Pn=Object.freeze({once:Sn,bind:function(t,e,n){var i=e.modifier,o=jt(i),a=function(r,u,f){if(a){var c=o?zt(f,i):e.name;if(n.isComponent){var s=t;s.checkProp(c,r),s.set(c,r)}else{var p=t;L(e.hint)?tn(p,c,r):en(p,c,r)}}};n.context.watch(i,a),n.data[e.key]=function(){n.context.unwatch(i,a),a=r}},unbind:function(t,e,n){F(n.data[e.key])}}),jn={},zn={},Nn={},Dn={},Ln={},Rn="$$",Un=/^[#.][-\w+]+$/,Mn=function(){function i(n){var s=this,v=n||k;s.$emitter=new ue(t),v.events&&s.on(v.events),v.parent&&(s.$parent=v.parent),F(v[N],s,v),s.fire(N+z,v);var h=v.data,l=v.props,d=v.vnode,m=v.propTypes,y=v.computed,g=v.methods,$=v.watchers,x=v.extensions;s.$options=v,x&&_t(s,x);var b=l?Ht(l):{};m&&Mt(m,function(t,e){var n=b[e];R(n)&&L(n=t.value)&&(b[e]=t.type===p?n:U(n)?n():n)});var w=s.$observer=new $n(b,s);y&&Mt(y,function(t,e){w.addComputed(e,t)});var E=U(h)?F(h,s,n):h;W(E)&&Mt(E,function(t,e){b[e]=t}),g&&Mt(g,function(t,e){s[e]=t});var A=r,O=v.el,T=v.root,S=v.model,P=v.context,j=v.replace,D=v.template,M=v.transitions,I=v.components,H=v.directives,Y=v.partials,q=v.filters,K=v.slots;if(S&&(s.$model=S),K&&_t(b,K),_(D)&&Un.test(D)&&(A=rn(D))&&(D=on(A),A=r),O){if(_(O)){var B=O;Un.test(B)&&(A=rn(B))}else A=O;j||nn(A,A=Qe(C))}if(T&&(s.$root=T),P&&(s.$context=P),_n(s,c,M),_n(s,u,I),_n(s,f,H),_n(s,a,Y),_n(s,o,q),D){var G=$?Ht($):{};return G[Rn]={sync:t,watcher:function(t){s.update(t,s.$vnode)}},w.addComputed(Rn,{sync:e,get:function(){return s.render()}}),Wn(s,G),s.$template=_(D)?i.compile(D):D,d||(d=function(t,e,n,r){return{tag:t.tag(e),data:Pe(),node:e,context:n,keypath:r}}(sn,A,s,C)),void s.update(s.get(Rn),d)}Wn(s,$)}return i.define=function(t){return t},i.use=function(t){t.install(i)},i.nextTick=function(t,e){le.shared().append(t,e)},i.compile=function(t,e){return C},i.directive=function(t,e){if(_(t)&&!e)return qn(jn,t);Fn(jn,t,e)},i.transition=function(t,e){if(_(t)&&!e)return qn(zn,t);Fn(zn,t,e)},i.component=function(t,e){if(_(t)&&!e)return qn(Nn,t);Fn(Nn,t,e)},i.partial=function(t,e){if(_(t)&&!e)return qn(Dn,t);Fn(Dn,t,e,i.compile)},i.filter=function(t,e){if(_(t)&&!e)return qn(Ln,t);Fn(Ln,t,e)},i.prototype.get=function(t,e){return this.$observer.get(t,e)},i.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},i.prototype.on=function(t,e){return Hn(this,t,e),this},i.prototype.once=function(e,n){return Hn(this,e,n,t),this},i.prototype.off=function(t,e){return this.$emitter.off(t,e),this},i.prototype.fire=function(e,n,r){var i,o=this.$emitter,a=this.$parent,u=this.$children,f=e instanceof E?e:new E(e),c=[f];if(R(f.ns)){var s=o.parse(f.type);f.type=s.type,f.ns=s.ns}return f.target||(f.target=this),W(n)?X(c,n):n===t&&(r=t),(i=o.fire(f,c))&&(r?u&&(f.phase=E.PHASE_DOWNWARD,K(u,function(e){return i=e.fire(f,n,t)})):a&&(f.phase=E.PHASE_UPWARD,i=a.fire(f,n))),i},i.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},i.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},i.prototype.loadComponent=function(t,e){Yn(this.$components,t,e)||Yn(Nn,t,e)},i.prototype.createComponent=function(e,n){(e=Ht(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=t;var r=n.props,o=n.slots,a=n.directives,u=a&&a[O];if(u){r||(r={});var f=e.model||"value";r[f]=u.value,e.model=f}r&&(e.props=r),o&&(e.slots=o);var c=new i(e);X(this.$children||(this.$children=[]),c);var s=c.$el;return s&&(n.node=s),c},i.prototype.directive=function(t,e){var n=this.$directives;if(_(t)&&!e)return qn(n,t,i.directive);Fn(n||(this.$directives={}),t,e)},i.prototype.transition=function(t,e){var n=this.$transitions;if(_(t)&&!e)return qn(n,t,i.transition);Fn(n||(this.$transitions={}),t,e)},i.prototype.component=function(t,e){var n=this.$components;if(_(t)&&!e)return qn(n,t,i.component);Fn(n||(this.$components={}),t,e)},i.prototype.partial=function(t,e){var n=this.$partials;if(_(t)&&!e)return qn(n,t,i.partial);Fn(n||(this.$partials={}),t,e,i.compile)},i.prototype.filter=function(t,e){var n=this.$filters;if(_(t)&&!e)return qn(n,t,i.filter);Fn(n||(this.$filters={}),t,e)},i.prototype.forceUpdate=function(e){var n=this.$vnode,r=this.$observer,i=r.computed;if(n&&i){var o=i[Rn],a=o.get();e&&this.set(e),r.nextTask.run(),e||a!==o.get()||this.update(o.get(t),n)}},i.prototype.render=function(){var e,i,o,a,u,f,c,s,p,l,d,m,y,g,$,x,b,k,w,A,j,z,N,D,U,_,I,H,Y,q,B,G,V,J,et,nt,rt,ot;return e=this,i=this.$observer,o=this.$template,a=It(this.$filters,Ln),u=It(this.$partials,Dn),f=It(this.$directives,jn),c=It(this.$transitions,zn),l=[p={$keypath:C}],d=[],m={},y=function(t,e,o,u,f,c){var s=t[e],p=Pt(s.$keypath,o),v=t,h=Nt;if(R(c)&&(c=p),L(s[o])?v=s[o]:L(s.$item)&&(s=s.$item,o===C?v=s:s!=n&&L(s[o])&&(v=s[o])),v===t&&(v=i.get(p,t,f))===t){if(u&&e>0)return y(t,e-1,o,u,f,c);var l=Yt(a,o);return l?(h=l).keypath=o:(h.value=r,h.keypath=c),h}return h.value=v,h.keypath=p,h},g=function(t,n,i){return function(o,a){var u=e[t];if(o instanceof E){var f=r;if(n){var c=Q(i);c&&(c.$event=o,c.$data=a,f=F(u,e,n(i)),c.$event=c.$data=r)}else f=F(u,e,a?[o,a]:o);return f}F(u,e,n?n(i):r)}},$=function(t,e){return function(){return t(e)}},et=function(t,e,n,r,i,o){var a=p,u=l;p={$keypath:r},l=u.concat(p),L(o)&&(p.$length=o),i&&(p[i]=n),r||(p.$item=e),t(),p=a,l=u},o(H=function(t,e,n,r,i,o){var a=o||l,u=y(a,a.length-((n||0)+1),t,e,i);return r?u:u.value},Y=function(t,e){return Z(e,t),it(e,h)},q=function(t,e,n,i){L(n)&&(e=it(n,h));var o=Yt(t,e);return Nt.keypath=r,Nt.value=o?o.value:r,i?Nt:Nt.value},B=function(t,n,i){return Nt.keypath=r,Nt.value=F(t,e,n||r),i?Nt:Nt.value},x=function(n){var r=Q(d);if(r){var i=Q(r);i&&i.isText?i.text+=n:X(r,{isText:t,text:n,context:e,keypath:p.$keypath})}},b=function(t,e){s.isComponent?_e(s,"props",t,e):_e(s,"nativeAttrs",t,{name:t,value:e})},k=function(t,e,n){_e(s,"nativeProps",t,{name:t,value:n,hint:e})},w=function(t,e){_e(s,"lazy",t,e)},A=function(t){s.transition=c[t]},j=function(t,e,n){var r=Pt(S,t);return _e(s,Ie,r,{ns:S,name:t,key:r,modifier:e.keypath,hooks:f[S],hint:n}),e.value},z=function(t){_e(s,Ie,O,{ns:O,name:C,key:O,value:t.value,modifier:t.keypath,hooks:f[O]})},N=function(t,e,n,r,i,o){_e(s,Ie,e,{ns:T,name:t,key:e,value:r,modifier:n,hooks:f[T],handler:g(i,o,l)})},D=function(t,n,r,i,o){var a;_e(s,Ie,n,{ns:T,name:t,key:n,value:i,modifier:r,hooks:f[T],handler:(a=o,function(t,n){a!==t.type&&(t=new E(a,t)),e.fire(t,n)})})},U=function(t,e,n,i,o,a,u){var c=f[t];_e(s,Ie,e,{ns:P,name:t,key:e,value:i,hooks:c,modifier:n,getter:u?$(u,l):r,handler:o?g(o,a,l):r})},_=function(t){var e=t.value,r=t.keypath;if(e!=n&&W(e)&&!M(e)&&(Mt(e,function(t,e){_e(s,"props",e,t)}),r)){var i=Pt(S,r);_e(s,Ie,i,{ns:S,name:C,key:i,modifier:Pt(r,v),hooks:f[S]})}},I=function(t,n,o,a,u){if(n){var f=i.get(n);t.tag=f}if(o&&(s=t,o(),s=r),a)d.push(t.children=[]),a(),tt(d);else if(u){var c={};Mt(u,function(t,e){d.push([]),t();var n=tt(d);c[e]=n.length?n:r}),t.slots=c}t.context=e,t.keypath=p.$keypath;var v=Q(d);return v&&X(v,t),t},G=function(t,n){var r=Q(d),i=e.get(t);r&&(i?K(i,function(n){X(r,n),n.slot=t,n.parent=e}):n&&n())},V=function(t,e){m[t]=e},J=function(t){if(m[t])m[t]();else{var e=u[t];e&&e(H,Y,q,B,x,b,k,w,A,j,z,N,D,U,_,I,G,V,J,nt,rt,ot,Gt)}},nt=function(t,e,n){var r=e.keypath,i=e.value;if(M(i))for(var o=0,a=i.length;o<a;o++)et(t,i[o],o,r?Pt(r,C+o):C,n,a);else if(W(i))for(var u in i)et(t,i[u],u,r?Pt(r,u):C,n)},rt=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<n;o++)et(t,o,i++,C,r);else for(o=e;o>n;o--)et(t,o,i++,C,r)},ot=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<=n;o++)et(t,o,i++,C,r);else for(o=e;o>=n;o--)et(t,o,i++,C,r)},Gt)},i.prototype.update=function(t,e){var n,r=this,o=r.$vnode,a=r.$options;r.$refs={},o?(F(a.beforeUpdate,r),r.fire("beforeUpdate"+z),Me(sn,t,e),n="afterUpdate"):(F(a.beforeMount,r),r.fire("beforeMount"+z),Me(sn,t,e),r.$el=t.node,n="afterMount"),r.$vnode=t,i.nextTick(function(){r.$vnode&&(F(a[n],r),r.fire(n+z))})},i.prototype.checkProp=function(t,e){},i.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,i=this.$observer;F(e.beforeDestroy,this),this.fire("beforeDestroy"+z);var o=this.$vnode;t&&t.$children&&et(t.$children,this),o&&(this.$vnode=r,function(t,e,n){if(n){var r=t.parent(e.node);r&&Le(t,r,e)}else Re(t,e)}(sn,o,!t)),i.destroy(),F(e.afterDestroy,this),this.fire("afterDestroy"+z),n.off(),Wt(this)},i.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},i.prototype.toggle=function(t){return this.$observer.toggle(t)},i.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},i.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},i.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},i.prototype.append=function(t,e){return this.$observer.append(t,e)},i.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},i.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},i.prototype.remove=function(t,e){return this.$observer.remove(t,e)},i.prototype.copy=function(t,e){return this.$observer.copy(t,e)},i.version="1.0.0-alpha.92",i.is=q,i.dom=sn,i.array=at,i.object=Bt,i.string=kt,i.logger=ae,i.Event=E,i.Emitter=ue,i}();function Wn(t,e){e&&t.watch(e),F(t.$options[D],t),t.fire(D+z)}function _n(t,e,n){U(n)?t[e](F(n,t)):W(n)&&t[e](n)}function In(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Hn(t,e,n,r){_(e)?In(t,e,n,r):Mt(e,function(e,n){In(t,n,e,r)})}function Yn(e,n,r){if(e&&e[n]){var i=e[n];if(U(i)){e[n]=[r];var o=function(t){var r=e[n],i=t.default||t;e[n]=i,K(r,function(t){t(i)})},a=i(o);a&&a.then(o)}else M(i)?X(i,r):r(i);return t}}function qn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Fn(t,e,n,r){_(e)?t[e]=r?r(n):n:Mt(e,function(e,n){t[n]=r?r(e):e})}return Mn.directive({event:bn,model:Tn,binding:Pn}),Mn.filter({hasSlot:function(t){return L(this.get("$slot_"+t))}}),Mn});
//# sourceMappingURL=yox.min.js.map
