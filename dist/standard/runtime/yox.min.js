!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).Yox=n()}(this,function(){"use strict";var t=!0,n=!1,e=null,r=void 0,i="filter",o="partial",a="component",u="directive",f="transition",c="length",s="function",p="*",v=-1,h="undefined"!=typeof window?window:r,l="undefined"!=typeof document?document:r,d="undefined"!=typeof global?global:h,m="tap",y="click",g="change",$="model",x=function(){},b=Object.freeze({}),k=Object.freeze([]),w="";function C(t){return t!==r}function E(t){return t===r}function A(t){return typeof t===s}function O(t){return Array.isArray(t)}function T(t){return t!==e&&"object"==typeof t}function S(t){return"string"==typeof t}function P(t){return"number"==typeof t}function j(t){return"boolean"==typeof t}function z(t){return P(t)||S(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var N=Object.freeze({func:A,array:O,object:T,string:S,number:P,boolean:j,numeric:z});function D(t,n,e){if(A(t))return O(e)?t.apply(n,e):C(n)?t.call(n,e):C(e)?t(e):t()}var L=function(){function n(t,e){this.type=t,this.phase=n.PHASE_CURRENT,e&&(this.originalEvent=e)}return n.prototype.preventDefault=function(){if(!this.isPrevented){var n=this.originalEvent;n&&n.preventDefault(),this.isPrevented=t}return this},n.prototype.stopPropagation=function(){if(!this.isStoped){var n=this.originalEvent;n&&n.stopPropagation(),this.isStoped=t}return this},n.prototype.prevent=function(){return this.preventDefault()},n.prototype.stop=function(){return this.stopPropagation()},n.PHASE_CURRENT=0,n.PHASE_UPWARD=1,n.PHASE_DOWNWARD=v,n}();function R(t,e,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&e(t[o],o,i)!==n;o--);else for(o=0;o<i&&e(t[o],o,i)!==n;o++);}function U(t,n){t[t.length]=n}function M(t,n){t.unshift(n)}function W(t,n,e){O(n)?R(n,function(n){e(t,n)}):e(t,n)}function _(t,n){W(t,n,U)}function I(t,n){W(t,n,M)}function H(t,e,r){var i=v;return R(t,function(t,o){if(r===n?t==e:t===e)return i=o,n}),i}function Y(t){var n=t.length;if(n>0)return t[n-1]}function q(t){if(t.length>0)return t.pop()}function F(e,r,i){var o=0;return R(e,function(t,a){(i===n?t==r:t===r)&&(e.splice(a,1),o++)},t),o}function K(t,n,e){return H(t,n,e)>=0}function B(t){return O(t)?t:D(k.slice,t)}function G(t,n){return t.join(n)}function V(t){return!O(t)||!t.length}var X=Object.freeze({each:R,push:_,unshift:I,indexOf:H,last:Y,pop:q,remove:F,has:K,toArray:B,toObject:function(t,n,e){var r={};return R(t,function(t){r[n?t[n]:t]=e||t}),r},join:G,falsy:V}),Z=/-([a-z])/gi,J=/\B([A-Z])/g,Q=/^[a-z]/,tt={},nt={},et={};function rt(t,n,e){return P(e)?n===e?w:t.slice(n,e):t.slice(n)}function it(t,n,e){return t.indexOf(n,C(e)?e:0)}function ot(t,n,e){return t.lastIndexOf(n,C(e)?e:t.length)}function at(t,n){return 0===it(t,n)}function ut(t,n){return t.charCodeAt(n||0)}function ft(t){return t.toUpperCase()}function ct(t){return t.toLowerCase()}function st(t,n){return it(t,n)>=0}function pt(t){return!S(t)||!t.length}var vt=Object.freeze({camelize:function(t){return tt[t]||(tt[t]=t.replace(Z,function(t,n){return ft(n)})),tt[t]},hyphenate:function(t){return nt[t]||(nt[t]=t.replace(J,function(t,n){return"-"+ct(n)})),nt[t]},capitalize:function(t){return et[t]||(et[t]=t.replace(Q,ft)),et[t]},trim:function(t){return pt(t)?w:t.trim()},slice:rt,indexOf:it,lastIndexOf:ot,startsWith:at,endsWith:function(t,n){var e=t.length-n.length;return e>=0&&ot(t,n)===e},charAt:function(t,n){return t.charAt(n||0)},codeAt:ut,upper:ft,lower:ct,has:st,falsy:pt}),ht=/\./g,lt=/\*/g,dt=/\*\*/g,mt={},yt={},gt=".";function $t(t,n){return t===n?n.length:at(t,n+=gt)?n.length:v}function xt(t,e){for(var r=C(mt[t])?mt[t]:mt[t]=t.split(gt),i=0,o=r.length-1;i<=o&&e(r[i],i===o)!==n;i++);}function bt(t,n){return t&&n?t+gt+n:t||n}function kt(t){return st(t,p)}function wt(t,n){var e=yt[n];if(!e){var r=n.replace(ht,"\\.").replace(lt,"(\\w+)").replace(dt,"([.\\w]+?)");e=yt[n]=new RegExp("^"+r+"$")}var i=t.match(e);if(i)return i[1]}var Ct={value:r};function Et(t){return Object.keys(t)}function At(t,n){return t.length-n.length}function Ot(t,n){return n.length-t.length}function Tt(t,n){return Et(t).sort(n?Ot:At)}function St(t,e){for(var r in t)if(e(t[r],r)===n)break}function Pt(t){St(t,function(n,e){delete t[e]})}function jt(t,n){return St(n,function(n,e){t[e]=n}),t}function zt(t,n){return t&&n?jt(jt({},t),n):t||n}function Nt(t,n){var e=t;return O(t)?n?(e=[],R(t,function(t,r){e[r]=Nt(t,n)})):e=t.slice():T(t)&&(e={},St(t,function(t,r){e[r]=n?Nt(t,n):t})),e}function Dt(t,i){return xt(i,function(i,o){if(t==e)return t=r,n;var a=t[i],u=C(a);a&&A(a.get)&&(a=a.get()),o?u?(Ct.value=a,t=Ct):t=r:t=a}),t}function Lt(t,e,r,i){xt(e,function(e,o){if(o)t[e]=r;else if(t[e])t=t[e];else{if(!i)return n;t=t[e]={}}})}function Rt(t,n){return C(t[n])}function Ut(t){return!T(t)||O(t)||!Et(t).length}var Mt=Object.freeze({keys:Et,sort:Tt,each:St,clear:Pt,extend:jt,merge:zt,copy:Nt,get:Dt,set:Lt,has:Rt,falsy:Ut});function Wt(t,n){return t!=e&&t.toString?t.toString():C(n)?n:w}var _t=1,It=2,Ht=3,Yt=4,qt=5,Ft="undefined"!=typeof console?console:e,Kt=/yox/.test(Wt(x))?_t:Ht,Bt=h&&/edge|msie|trident/i.test(h.navigator.userAgent)?w:"%c",Gt=Ft?Bt?function(t,n,e){Ft.log(Bt+t,e,n)}:function(t,n){Ft.log(t,n)}:x;function Vt(){if(d){var t=d.YOX_LOG_LEVEL;if(t>=_t&&t<=qt)return t}return Kt}function Xt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Zt=Object.freeze({DEBUG:_t,INFO:It,WARN:Ht,ERROR:Yt,FATAL:qt,debug:function(t,n){Vt()<=_t&&Gt(n||"Yox debug",t,Xt("#999"))},info:function(t,n){Vt()<=It&&Gt(n||"Yox info",t,Xt("#2db7f5"))},warn:function(t,n){Vt()<=Ht&&Gt(n||"Yox warn",t,Xt("#f90"))},error:function(t,n){Vt()<=Yt&&Gt(n||"Yox error",t,Xt("#ed4014"))},fatal:function(t,n){if(Vt()<=qt)throw new Error("["+(n||"Yox fatal")+"]: "+t)}}),Jt=function(){function e(t){this.ns=t||n,this.listeners={}}return e.prototype.fire=function(e,i,o){var a=this,u=Qt(a.ns,e),f=u.name,c=u.ns,s=a.listeners[f],p=t;if(s){s=Nt(s);var v=i&&i[0]instanceof L?i[0]:r;R(s,function(t,u){if(en(c,t)&&K(s,t)&&(!o||o(e,i,t))){v&&(v.listener=t.fn);var f=D(t.fn,t.ctx,i);return v&&(v.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&a.off(e,t.fn),v&&(f===n?v.prevent().stop():v.isStoped&&(f=n)),f===n?p=n:void 0}})}return p},e.prototype.on=function(t,n){var e=this.listeners,r=A(n)?{fn:n}:n;if(T(r)&&A(r.fn)){var i=Qt(this.ns,t),o=i.name,a=i.ns;r.ns=a,_(e[o]||(e[o]=[]),r)}},e.prototype.off=function(n,e){var r=this.listeners;if(n){var i=Qt(this.ns,n),o=i.name,a=i.ns,u=nn(e),f=function(n,e){R(n,function(t,e){u(t)&&en(a,t)&&n.splice(e,1)},t),n.length||delete r[e]};o?r[o]&&f(r[o],o):a&&St(r,f)}else this.listeners={}},e.prototype.has=function(e,r){var i=this.listeners,o=Qt(this.ns,e),a=o.name,u=o.ns,f=t,c=nn(r),s=function(t){return R(t,function(t){if(c(t)&&en(u,t))return f=n}),f};return a?i[a]&&s(i[a]):u&&St(i,s),!f},e}();function Qt(t,n){var e={name:n,ns:w};if(t){var r=it(n,".");r>=0&&(e.name=rt(n,0,r),e.ns=rt(n,r+1))}return e}function tn(n){return t}function nn(t){return A(t)?function(n){return t===n.fn}:tn}function en(n,e){var r=e.ns;return r&&n?r===n:t}function rn(t){return A(t)&&/native code/.test(Wt(t))}typeof setImmediate===s&&rn(setImmediate)&&setImmediate;var on,an=typeof MessageChannel===s&&rn(MessageChannel)?function(t){var n=new MessageChannel;n.port1.onmessage=t,n.port2.postMessage(1)}:setTimeout,un=function(){function t(){this.tasks=[]}return t.shared=function(){return on||(on=new t)},t.prototype.append=function(t,n){var e=this,r=e.tasks;_(r,{fn:t,ctx:n}),1===r.length&&an(function(){e.run()})},t.prototype.prepend=function(t,n){var e=this,r=e.tasks;I(r,{fn:t,ctx:n}),1===r.length&&an(function(){e.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],R(t,function(t){D(t.fn,t.ctx)}))},t}(),fn=3,cn="model",sn="event",pn="binding",vn="o",hn=".hook",ln="beforeCreate",dn="afterCreate",mn=0;var yn="$id",gn="$vnode",$n="$loading",xn="$component",bn="$leaving";function kn(t,n,e){var r=n.node,i=n.nativeAttrs,o=e&&e.nativeAttrs;if(i||o){var a=i||b,u=o||b;St(a,function(n,e){u[e]&&n.value===u[e].value||t.attr(r,e,n.value)}),St(u,function(n,e){a[e]||t.removeAttr(r,e)})}}function wn(t,n,e){var r=n.node,i=n.nativeProps,o=e&&e.nativeProps;if(i||o){var a=i||b,u=o||b;St(a,function(n,e){u[e]&&n.value===u[e].value||t.prop(r,e,n.value)}),St(u,function(n,e){a[e]||t.removeProp(r,e,n.hint)})}}function Cn(t,n){var e=t.data,r=t.directives,i=n&&n.directives;if(r||i){var o=e[xn]||t.node,a=n&&t.keypath!==n.keypath,u=r||b,f=i||b;St(u,function(e,r){var i=e.hooks,u=i.once,c=i.bind,s=i.unbind;f[r]?(u||e.value!==f[r].value||a)&&(s&&s(o,f[r],n),c(o,e,t)):c(o,e,t)}),St(f,function(t,e){if(!u[e]){var r=t.hooks.unbind;r&&r(o,t,n)}})}}function En(t){var n=t.directives;if(n){var e=t.data[xn]||t.node;St(n,function(n){var r=n.hooks.unbind;r&&r(e,n,t)})}}function An(t,n){var e,r=t.data,i=t.ref,o=t.props,a=t.slots,u=t.directives,f=t.context;if(t.isComponent){if(e=r[xn],n){var c=u&&u[cn];c&&(o||(o={}),o[e.$model]=c.value),o&&e.checkProps(o);var s=zt(o,a);s&&e.forceUpdate(s)}}else e=t.node;if(i){var p=f.$refs;p&&(p[i]=e)}}function On(t,n){return t.tag===n.tag&&t.key===n.key}function Tn(t,n,e){for(var r,i,o;n<=e;)(i=t[n])&&(o=i.key)&&(r||(r={}),r[o]=n),n++;return r||b}function Sn(t,n,e,r){r?t.before(n,e,r):t.append(n,e)}function Pn(t,e){var r=(t.parent||t.context).createComponent(e,t);return t.data[xn]=r,t.data[$n]=n,An(t),Cn(t),r}function jn(){var t={};return t[yn]=++mn,t}function zn(n,e){var i=e.tag,o=e.node,u=e.data,f=e.isComponent,c=e.isComment,s=e.isText,p=e.isStyle,v=e.isOption,h=e.children,l=e.text,d=e.html,m=e.context;if(!o||!u)if(u=jn(),e.data=u,s)e.node=n.createText(l);else if(c)e.node=n.createComment(l);else if(f){var y=r;i&&m.loadComponent(i,function(t){Rt(u,$n)?u[$n]&&(u[gn]&&(e=u[gn],delete u[gn]),Mn(e,Pn(e,t))):y=t}),e.node=n.createComment(a),y?Pn(e,y):u[$n]=t}else o=e.node=n.createElement(e.tag,e.isSvg),h?Nn(n,o,h):l?n.text(o,l,p,v):d&&n.html(o,d,p,v),kn(n,e),wn(n,e),An(e),Cn(e)}function Nn(t,n,e,r,i,o){for(var a,u=r||0,f=C(i)?i:e.length-1;u<=f;)zn(t,a=e[u]),Dn(t,n,a,o),u++}function Dn(t,n,e,i){var o=e.node,a=e.data,u=e.context,f=t.parent(o);if(i?t.before(n,o,i.node):t.append(n,o),!f){var c=r;if(e.isComponent){var s=a[xn];s&&(c=function(){Mn(e,s)})}else e.isStatic||e.isText||e.isComment||(c=function(){Mn(e)});c&&u.$observer.nextTask.prepend(c)}}function Ln(t,n,e,r,i){for(var o,a=r||0,u=C(i)?i:e.length-1;a<=u;)(o=e[a])&&Rn(t,n,o),a++}function Rn(t,n,e){var i=e.node;if(e.isStatic||e.isText||e.isComment)t.remove(n,i);else{var o,a=function(){Un(t,e),t.remove(n,i)};if(e.isComponent&&!(o=e.data[xn]))return void a();!function(t,n,e){var i=t.data,o=t.transition;n&&!o&&(o=n.$vnode.transition);if(o){var a=o.leave;if(a)return void a(t.node,i[bn]=function(){i[bn]&&(e(),i[bn]=r)})}e()}(e,o,a)}}function Un(t,e){var r=e.data,i=e.children,o=e.parent,a=e.slot;if(a&&o&&o.$vnode){var u=o.get(a);if(u&&K(u,e))return}if(e.isComponent){var f=r[xn];f?(En(e),f.destroy()):r[$n]=n}else En(e),i&&R(i,function(n){Un(t,n)})}function Mn(t,n){var e=t.data,r=t.transition;if(n&&!r&&(r=n.$vnode.transition),D(e[bn]),r){var i=r.enter;if(i)return void i(t.node)}}function Wn(t,n,e){if(n!==e){var i=e.node,o=e.data;if(!On(n,e)){var a=t.parent(i);return zn(t,n),void(a&&(Dn(t,a,n,e),Rn(t,a,e)))}if(n.node=i,n.data=o,e.isComponent&&o[$n])o[gn]=n;else if(!n.isStatic||!e.isStatic){kn(t,n,e),wn(t,n,e),An(n,e),Cn(n,e);var u=n.text,f=n.html,c=n.children,s=n.isStyle,p=n.isOption,v=e.text,h=e.html,l=e.children;S(u)?u!==v&&t.text(i,u,s,p):S(f)?f!==h&&t.html(i,f,s,p):c&&l?c!==l&&function(t,n,e,i){for(var o,a,u=0,f=e.length-1,c=e[u],s=e[f],p=0,v=i.length-1,h=i[p],l=i[v];p<=v&&u<=f;)c?s?h?l?On(c,h)?(Wn(t,c,h),c=e[++u],h=i[++p]):On(s,l)?(Wn(t,s,l),s=e[--f],l=i[--v]):On(s,h)?(Wn(t,s,h),Sn(t,n,h.node,t.next(l.node)),s=e[--f],h=i[++p]):On(c,l)?(Wn(t,c,l),Sn(t,n,l.node,h.node),c=e[++u],l=i[--v]):(o||(o=Tn(i,p,v)),C(a=c.key?o[c.key]:r)?(Wn(t,c,i[a]),i[a]=r):zn(t,c),Dn(t,n,c,h),c=e[++u]):l=i[--v]:h=i[++p]:s=e[--f]:c=e[++u];p>v?Nn(t,n,e,u,f,e[f+1]):u>f&&Ln(t,n,i,p,v)}(t,i,c,l):c?((S(v)||S(h))&&t.text(i,w,s),Nn(t,i,c)):l?Ln(t,i,l):(S(v)||S(h))&&t.text(i,w,s)}}}function _n(t,n){return z(t)?+t:C(n)?n:0}function In(t,n,e,r){(t[n]||(t[n]={}))[e]=r}var Hn="directives";var Yn="textContent",qn="innerHTML",Fn=function(t,e,r){t.addEventListener(e,r,n)},Kn=function(t,e,r){t.removeEventListener(e,r,n)},Bn=function(t,n){t.classList.add(n)},Gn=function(t,n){t.classList.remove(n)},Vn=function(t,n){return t};l&&(l.documentElement.classList||(Bn=function(t,n){var e=t.className.split(Xn);K(e,n)||(_(e,n),t.className=G(e,Xn))},Gn=function(t,n){var e=t.className.split(Xn);F(e,n)&&(t.className=G(e,Xn))}));var Xn=" ",Zn="$emitter",Jn={svg:"http://www.w3.org/2000/svg"},Qn={};function te(t){return l.createComment(t)}function ne(t,e,r){if(C(r))Lt(t,e,r,n);else{var i=Dt(t,e);if(i)return i.value}}function ee(t,n,r){if(C(r))t.setAttribute(n,r);else{var i=t.getAttribute(n);if(i!=e)return i}}function re(t,n){t.appendChild(n)}Qn[$]={on:function(e,r){var i=n;fe(e,"compositionstart",r.compositionstart=function(){i=t}),fe(e,"compositionend",r.compositionend=function(t){i=n,r(t)}),Fn(e,"input",r.input=function(t){i||r(t)})},off:function(t,n){ce(t,"compositionstart",n.compositionstart),ce(t,"compositionend",n.compositionend),Kn(t,"input",n.input),n.compositionstart=n.compositionend=n.input=r}};var ie=function(t){var n=l.querySelector(t);if(n)return n};function oe(t,n,e,r){if(!C(n))return t[qn];t[qn]=n}var ae=Bn,ue=Gn;function fe(t,n,e,r){var i=t[Zn]||(t[Zn]=new Jt),o=i.nativeListeners||(i.nativeListeners={});if(!o[n]){var a=Qn[n],u=function(e){var r=e instanceof L?e:new L(e.type,Vn(e,t));r.type!==n&&(r.type=n),i.fire(n,[r])};o[n]=u,a?a.on(t,u):Fn(t,n,u)}i.on(n,{fn:e,ctx:r})}function ce(t,n,e){var i=t[Zn],o=i.listeners,a=i.nativeListeners;if(i.off(n,e),a&&!i.has(n)){var u=Qn[n],f=a[n];u?u.off(t,f):Kn(t,n,f),delete a[n]}Ut(o)&&(t[Zn]=r)}var se=Object.freeze({createElement:function(t,n){return n?l.createElementNS(Jn.svg,t):l.createElement(t)},createText:function(t){return l.createTextNode(t)},createComment:te,prop:ne,removeProp:function(t,e,r){Lt(t,e,r===fn?n:w,n)},attr:ee,removeAttr:function(t,n){t.removeAttribute(n)},before:function(t,n,e){t.insertBefore(n,e)},append:re,replace:function(t,n,e){t.replaceChild(n,e)},remove:function(t,n){t.removeChild(n)},parent:function(t){var n=t.parentNode;if(n)return n},next:function(t){var n=t.nextSibling;if(n)return n},find:ie,tag:function(t){if(1===t.nodeType)return ct(t.tagName)},text:function(t,n,e,r){if(!C(n))return t[Yn];t[Yn]=n},html:oe,addClass:ae,removeClass:ue,on:fe,off:ce,addSpecialEvent:function(t,n){Qn[t]=n}}),pe=function(){function n(n,e,r,i,o,a,u){var f=this;f.keypath=n,f.cache=r,f.deps=i,f.context=o.context,f.observer=o,f.getter=a,f.setter=u,f.unique={},f.watcher=function(e,r,i){var a=f.value,u=f.get(t);u!==a&&o.diff(n,u,a)},f.watcherOptions={sync:e,watcher:f.watcher},(f.fixed=!V(i))&&R(i,function(t){o.watch(t,f.watcherOptions)})}return n.prototype.get=function(t){var e=this.getter,r=this.context;if(this.cache){if(t||!Rt(this,"value"))if(this.fixed)this.value=D(e,r);else{this.unbind();var i=n.current;n.current=this,this.value=D(e,r),this.bind(),n.current=i}}else this.value=D(e,r);return this.value},n.prototype.set=function(t){var n=this.setter,e=this.context;n&&n.call(e,t)},n.prototype.add=function(n){this.unique[n]=t},n.prototype.bind=function(){var t=this.unique,n=this.deps,e=this.observer,r=this.watcherOptions;St(t,function(t,i){_(n,i),e.watch(i,r)}),this.unique={}},n.prototype.unbind=function(){var n=this.deps,e=this.observer,r=this.watcher;R(n,function(t){e.unwatch(t,r)},t),n.length=0},n}();function ve(t,e){var r;return R(t,function(t){var i=$t(e,t);if(i>=0)return r={name:t,prop:rt(e,i)},n}),r}function he(t,n){if(t==e||n===w)return t;var r=Dt(t,n);return r?r.value:void 0}function le(n,e,i,o,a){var u=function(t,e,r){if(e!==r){var i=bt(n,t);R(o,function(t){C(wt(i,t))&&a(t,i,e,r)}),le(i,e,r,o,a)}};(function(n,e,i){var o=S(n),a=S(e);if(o||a)return i(c,o?n.length:r,a?e.length:r),t})(e,i,u)||function(n,e,i){var o=O(n),a=O(e);if(o||a){var u=o?n.length:r,f=a?e.length:r;i(c,u,f);for(var s=0,p=Math.max(u||0,f||0);s<p;s++)i(""+s,n?n[s]:r,e?e[s]:r);return t}}(e,i,u)||function(t,n,e){var r=T(t),i=T(n);(r||i)&&(t=r?t:b,n=i?n:b,r&&St(t,function(t,r){t!==n[r]&&e(r,t,n[r])}),i&&St(n,function(n,r){n!==t[r]&&e(r,t[r],n)}))}(e,i,u)}function de(t,n,e,r,i,o){var a;St(r,function(r,u){if(kt(u))C(wt(t,u))?o(u,t,n,e):i&&(a?_(a,u):a=[u]);else{var f=$t(u,t);if(f>=0){var c=rt(u,f),s=he(n,c),p=he(e,c);s!==p&&o(u,u,s,p)}}}),a&&le(t,n,e,a,o)}function me(t,n,e){if(e.count&&n)return e.count--,n[0]!==n[1]}var ye={watcher:x};function ge(n,e){return A(n)?(ye.watcher=n,ye.immediate=e===t,ye):n&&n.watcher?n:void 0}var $e=function(){function e(t,n){this.data=t||{},this.context=n||this,this.nextTask=new un,this.syncEmitter=new Jt,this.asyncEmitter=new Jt,this.asyncChanges={}}return e.prototype.get=function(t,n,e){var r,i,o=pe.current,a=this.data,u=this.computed,f=this.reversedComputedKeys;if(t===w)return a;if(o&&!e&&o.add(t),u){if(i=u[t])return i.get();if(f){var c=ve(f,t);c&&c.prop&&(r=Dt(u[c.name].get(),c.prop))}}return r||(r=Dt(a,t)),r?r.value:n},e.prototype.set=function(t,n){var e=this,r=e.data,i=e.computed,o=e.reversedComputedKeys,a=function(t,n){var a=e.get(n);if(t!==a){var u;if(i&&((u=i[n])&&u.set(t),o)){var f=ve(o,n);if(f&&f.prop&&(u=i[f.name])){var c=u.get();T(c)&&Lt(c,f.prop,t)}}u||Lt(r,n,t),e.diff(n,t,a)}};S(t)?a(n,t):T(t)&&St(t,a)},e.prototype.diff=function(n,e,i){var o=this,a=o.syncEmitter,u=o.asyncEmitter,f=o.asyncChanges,c=36!==ut(n);de(n,e,i,a.listeners,c,function(t,n,e,r){a.fire(t,[e,r,n])}),de(n,e,i,u.listeners,c,function(n,e,i,a){R(u.listeners[n],function(t){t.count++});var c=(f[e]||(f[e]={value:a,keypaths:[]})).keypaths;K(c,n)||_(c,n),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},e.prototype.diffAsync=function(){var t=this,n=t.asyncEmitter,e=t.asyncChanges;t.asyncChanges={},St(e,function(e,r){var i=[t.get(r),e.value,r];R(e.keypaths,function(t){n.fire(t,i,me)})})},e.prototype.addComputed=function(n,e){var r,i,o=t,a=t,u=[];if(A(e))r=e;else if(T(e)){var f=e;j(f.cache)&&(o=f.cache),j(f.sync)&&(a=f.sync),O(f.deps)&&(u=Nt(f.deps)),A(f.get)&&(r=f.get),A(f.set)&&(i=f.set)}if(r){var c=new pe(n,a,o,u,this,r,i);return this.computed||(this.computed={}),this.computed[n]=c,this.reversedComputedKeys=Tt(this.computed,t),c}},e.prototype.removeComputed=function(n){var e=this.computed;e&&Rt(e,n)&&(delete e[n],this.reversedComputedKeys=Tt(e,t))},e.prototype.watch=function(t,n,e){var i=this,o=i.context,a=i.syncEmitter,u=i.asyncEmitter,f=function(t,n){var e=n.sync?a:u,f={fn:n.watcher,ctx:o,count:0};n.once&&(f.max=1),e.on(t,f),n.immediate&&D(n.watcher,o,[i.get(t),r,t])};S(t)?f(t,ge(n,e)):St(t,function(t,n){f(n,ge(t))})},e.prototype.unwatch=function(t,n){this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)},e.prototype.toggle=function(t){var n=!this.get(t);return this.set(t,n),n},e.prototype.increase=function(t,n,e){var r=_n(this.get(t),0)+(n||1);if(!P(e)||r<=e)return this.set(t,r),r},e.prototype.decrease=function(t,n,e){var r=_n(this.get(t),0)-(n||1);if(!P(e)||r>=e)return this.set(t,r),r},e.prototype.insert=function(e,r,i){var o=this.get(e),a=(o=O(o)?Nt(o):[]).length;if(i===t||i===a)o.push(r);else if(i===n||0===i)o.unshift(r);else{if(!(i>0&&i<a))return;o.splice(i,0,r)}return this.set(e,o),t},e.prototype.append=function(n,e){return this.insert(n,e,t)},e.prototype.prepend=function(t,e){return this.insert(t,e,n)},e.prototype.removeAt=function(n,e){var r=this.get(n);if(O(r)&&e>=0&&e<r.length)return(r=Nt(r)).splice(e,1),this.set(n,r),t},e.prototype.remove=function(n,e){var r=this.get(n);if(O(r)&&F(r=Nt(r),e))return this.set(n,r),t},e.prototype.copy=function(t,n){return Nt(t,n)},e.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Pt(this)},e}();function xe(t,n,e){var i;return function(){if(!i){var o=B(arguments);e&&D(t,r,o),i=setTimeout(function(){i=r,e||D(t,r,o)},n)}}}var be=Object.freeze({bind:function(n,e,r){var i=e.name,o=e.handler,a=r.lazy;if(o){if(a){var u=a[i]||a[w];u===t?i=g:u>0&&(o=xe(o,u,i===y||i===m))}r.isComponent?(n.on(i,o),r.data[e.key]=function(){n.off(i,o)}):(fe(n,i,o),r.data[e.key]=function(){ce(n,i,o)})}},unbind:function(t,n,e){D(e.data[n.key])}});function ke(n,e){return e&&e!==t?xe(n,e):n}var we={set:function(t,n){t.value=Wt(n)},sync:function(t,n,e){e.set(n,t.value)},name:"value"},Ce={set:function(t,e){R(B(t.options),t.multiple?function(t){t.selected=K(e,t.value,n)}:function(r,i){if(r.value==e)return t.selectedIndex=i,n})},sync:function(t,n,e){var r=t.options;if(t.multiple){var i=[];R(B(r),function(t){t.selected&&_(i,t.value)}),e.set(n,i)}else e.set(n,r[t.selectedIndex].value)},name:"value"},Ee={radio:{set:function(t,n){t.checked=t.value===Wt(n)},sync:function(t,n,e){t.checked&&e.set(n,t.value)},name:"checked"},checkbox:{set:function(t,e){t.checked=O(e)?K(e,t.value,n):!!e},sync:function(t,e,r){var i=r.get(e);O(i)?t.checked?r.append(e,t.value):r.removeAt(e,H(i,t.value,n)):r.set(e,t.checked)},name:"checked"}},Ae=t;var Oe=Object.freeze({once:Ae,bind:function(n,e,i){var o,a,u=i.context,f=i.lazy,c=i.isComponent,s=e.binding,p=f&&(f[cn]||f[w]);if(c){var v=n,h=v.$model,l=ke(function(t){u.set(s,t)},p);o=function(t){o&&v.set(h,t)},a=function(){v.unwatch(h,l)},v.watch(h,l)}else{var d=n,m="select"===i.tag?Ce:we,y=g;if(m===we){var x=n.type;Ee[x]?m=Ee[x]:p!==t&&(y=$)}o=function(t){o&&m.set(d,t)};var b=ke(function(){m.sync(d,s,u)},p);a=function(){ce(d,y,b)},fe(d,y,b),m.set(d,e.value)}u.watch(s,o),i.data[e.key]=function(){u.unwatch(s,o),o=r,a()}},unbind:function(t,n,e){D(e.data[n.key])}}),Te=t;var Se=Object.freeze({once:Te,bind:function(t,n,e){var i=n.binding,o=kt(i),a=function(r,u,f){if(a){var c=o?wt(f,i):n.name;if(e.isComponent){var s=t;s.checkProp(c,r),s.set(c,r)}else{var p=t;C(n.hint)?ne(p,c,r):ee(p,c,r)}}};e.context.watch(i,a),e.data[n.key]=function(){e.context.unwatch(i,a),a=r}},unbind:function(t,n,e){D(e.data[n.key])}}),Pe={},je={},ze={},Ne={},De={},Le="$$",Re=/^[#.][-\w+]+$/,Ue=function(){function c(e){var p=this,v=e||b;p.$emitter=new Jt(t),v.events&&p.on(v.events),v.parent&&(p.$parent=v.parent),D(v[ln],p,v),p.fire(ln+hn,v);var h=v.data,l=v.props,d=v.vnode,m=v.propTypes,y=v.computed,g=v.methods,$=v.watchers,x=v.extensions;p.$options=v,x&&jt(p,x);var k=l?Nt(l):{};m&&St(m,function(t,n){var e=k[n];E(e)&&C(e=t.value)&&(k[n]=t.type===s?e:A(e)?e():e)});var O=p.$observer=new $e(k,p);y&&St(y,function(t,n){O.addComputed(n,t)});var P=A(h)?D(h,p,e):h;T(P)&&St(P,function(t,n){k[n]=t}),g&&St(g,function(t,n){p[n]=t});var j=r,z=v.el,N=v.root,L=v.model,R=v.context,U=v.replace,M=v.template,W=v.transitions,_=v.components,I=v.directives,H=v.partials,Y=v.filters,q=v.slots;if(L&&(p.$model=L),q&&jt(k,q),S(M)&&Re.test(M)&&(j=ie(M))&&(M=oe(j),j=r),z){if(S(z)){var F=z;Re.test(F)&&(j=ie(F))}else j=z;U||re(j,j=te(w))}if(N&&(p.$root=N),R&&(p.$context=R),We(p,f,W),We(p,a,_),We(p,u,I),We(p,o,H),We(p,i,Y),M){var K=$?Nt($):{};return K[Le]={sync:t,watcher:function(t){p.update(t,p.$vnode)}},O.addComputed(Le,{sync:n,get:function(){return p.render()}}),Me(p,K),p.$template=S(M)?c.compile(M):M,d||(d=function(t,n,e,r){return{tag:t.tag(n),data:jn(),node:n,context:e,keypath:r}}(se,j,p,w)),void p.update(p.get(Le),d)}Me(p,$)}return c.use=function(t){t.install(c)},c.define=function(t){return t},c.nextTick=function(t,n){un.shared().append(t,n)},c.compile=function(t,n){return w},c.directive=function(t,n){if(S(t)&&!n)return Ye(Pe,t);qe(Pe,t,n)},c.transition=function(t,n){if(S(t)&&!n)return Ye(je,t);qe(je,t,n)},c.component=function(t,n){if(S(t)&&!n)return Ye(ze,t);qe(ze,t,n)},c.partial=function(t,n){if(S(t)&&!n)return Ye(Ne,t);qe(Ne,t,n,c.compile)},c.filter=function(t,n){if(S(t)&&!n)return Ye(De,t);qe(De,t,n)},c.prototype.get=function(t,n,e){return this.$observer.get(t,n,e)},c.prototype.set=function(t,n){var e=this.$observer;e&&e.set(t,n)},c.prototype.on=function(t,n){return Ie(this,t,n)},c.prototype.once=function(n,e){return Ie(this,n,e,t)},c.prototype.off=function(t,n){return this.$emitter.off(t,n),this},c.prototype.fire=function(n,e,r){var i,o=n instanceof L?n:new L(n),a=[o];if(o.target||(o.target=this),T(e)?_(a,e):e===t&&(r=t),i=this.$emitter.fire(o.type,a)){var u=this.$parent,f=this.$children;r?f&&(o.phase=L.PHASE_DOWNWARD,R(f,function(n){return i=n.fire(o,e,t)})):u&&(o.phase=L.PHASE_UPWARD,i=u.fire(o,e))}return i},c.prototype.watch=function(t,n,e){return this.$observer.watch(t,n,e),this},c.prototype.unwatch=function(t,n){return this.$observer.unwatch(t,n),this},c.prototype.loadComponent=function(t,n){He(this.$components,t,n)||He(ze,t,n)},c.prototype.createComponent=function(n,e){(n=Nt(n)).root=this.$root||this,n.parent=this,n.context=e.context,n.vnode=e,n.replace=t;var r=e.props,i=e.slots,o=e.directives,a=o&&o[cn];if(a){r||(r={});var u=n.model||"value";r[u]=a.value,n.model=u}r&&(n.props=r),i&&(n.slots=i);var f=new c(n);_(this.$children||(this.$children=[]),f);var s=f.$el;return s&&(e.node=s),f},c.prototype.directive=function(t,n){var e=this.$directives;if(S(t)&&!n)return Ye(e,t,c.directive);qe(e||(this.$directives={}),t,n)},c.prototype.transition=function(t,n){var e=this.$transitions;if(S(t)&&!n)return Ye(e,t,c.transition);qe(e||(this.$transitions={}),t,n)},c.prototype.component=function(t,n){var e=this.$components;if(S(t)&&!n)return Ye(e,t,c.component);qe(e||(this.$components={}),t,n)},c.prototype.partial=function(t,n){var e=this.$partials;if(S(t)&&!n)return Ye(e,t,c.partial);qe(e||(this.$partials={}),t,n,c.compile)},c.prototype.filter=function(t,n){var e=this.$filters;if(S(t)&&!n)return Ye(e,t,c.filter);qe(e||(this.$filters={}),t,n)},c.prototype.forceUpdate=function(n){var e=this.$vnode,r=this.$observer,i=r.computed;if(e&&i){var o=i[Le],a=o.get();n&&this.set(n),r.nextTask.run(),n||a!==o.get()||this.update(o.get(t),e)}},c.prototype.render=function(){var n,i,o,a,u,f,c,s,v,h,l,d,m,y,g,$,x,b,k,A,S,P,j,z,N,U,M,W,H,F,K,B,V,X,Z,J;return n=this,i=this.$template,o=zt(this.$filters,De),a=zt(this.$partials,Ne),u=zt(this.$directives,Pe),f=zt(this.$transitions,je),v=[s={$keypath:w}],h=[],l={},d=function(t,i,a,u,f,c){var s=t[i],p=bt(s.$keypath,a),v=t,h=Ct;if(E(c)&&(c=p),C(s[a])?v=s[a]:C(s.$item)&&(s=s.$item,a===w?v=s:s!=e&&C(s[a])&&(v=s[a])),v===t&&(v=n.get(p,t,f))===t){if(u&&i>0)return d(t,i-1,a,u,f,c);var l=Dt(o,a);return l?(h=l).keypath=a:(h.value=r,h.keypath=c),h}return h.value=v,h.keypath=p,h},m=function(t,e,i){return function(o,a){var u=n[t];if(o instanceof L){var f=r;if(e){var c=Y(i);c&&(c.$event=o,c.$data=a,f=D(u,n,e(i)),c.$event=c.$data=r)}else f=D(u,n,a?[o,a]:o);return f}D(u,n,e?e(i):r)}},y=function(t,n){return function(){return t(n)}},X=function(t,n,e,r,i,o){var a=s,u=v;s={$keypath:r},v=u.concat(s),C(o)&&(s.$length=o),i&&(s[i]=e),r||(s.$item=n),t(),s=a,v=u},i(M=function(t,n,e,r,i,o){var a=o||v,u=d(a,a.length-((e||0)+1),t,n,i);return r?u:u.value},W=function(t,n){return I(n,t),G(n,gt)},H=function(t,n,e,i){C(e)&&(n=G(e,gt));var o=Dt(t,n);return Ct.keypath=r,Ct.value=o?o.value:r,i?Ct:Ct.value},F=function(t,e,i){return Ct.keypath=r,Ct.value=D(t,n,e||r),i?Ct:Ct.value},g=function(e){var r=Y(h);if(r){var i=Y(r);i&&i.isText?i.text+=e:_(r,{isText:t,text:e,context:n,keypath:s.$keypath})}},$=function(t,n){c.isComponent?In(c,"props",t,n):In(c,"nativeAttrs",t,{name:t,value:n})},x=function(t,n,e){In(c,"nativeProps",t,{name:t,value:e,hint:n})},b=function(t,n){In(c,"lazy",t,n)},k=function(t){c.transition=f[t]},A=function(t,n,e){var r=bt(pn,t);return In(c,Hn,r,{ns:pn,name:t,key:r,hooks:u[pn],binding:n.keypath,hint:e}),n.value},S=function(t){In(c,Hn,cn,{ns:cn,name:w,key:cn,value:t.value,binding:t.keypath,hooks:u[cn]})},P=function(t,n,e,r,i){In(c,Hn,n,{ns:sn,name:t,key:n,value:e,hooks:u[sn],handler:m(r,i,v)})},j=function(t,e,r,i){var o;In(c,Hn,e,{ns:sn,name:t,key:e,value:r,hooks:u[sn],handler:(o=i,function(t,e){o!==t.type&&(t=new L(o,t)),n.fire(t,e)})})},z=function(t,n,e,i,o,a){var f=u[t];In(c,Hn,n,{ns:vn,name:t,key:n,value:e,hooks:f,getter:a?y(a,v):r,handler:i?m(i,o,v):r})},N=function(t){var n=t.value,r=t.keypath;if(n!=e&&T(n)&&!O(n)&&(St(n,function(t,n){In(c,"props",n,t)}),r)){var i=bt(pn,r);In(c,Hn,i,{ns:pn,name:w,key:i,hooks:u[pn],binding:bt(r,p)})}},U=function(t,e,i,o,a){if(e){var u=n.get(e);t.tag=u}if(i&&(c=t,i(),c=r),o)h.push(t.children=[]),o(),q(h);else if(a){var f={};St(a,function(t,n){h.push([]),t();var e=q(h);f[n]=e.length?e:r}),t.slots=f}t.context=n,t.keypath=s.$keypath;var p=Y(h);return p&&_(p,t),t},K=function(t,e){var r=Y(h),i=n.get(t);r&&(i?R(i,function(e){_(r,e),e.slot=t,e.parent=n}):e&&e())},B=function(t,n){l[t]=n},V=function(t){if(l[t])l[t]();else{var n=a[t];n&&n(M,W,H,F,g,$,x,b,k,A,S,P,j,z,N,U,K,B,V,Z,J,Wt)}},Z=function(t,n,e){var r=n.keypath,i=n.value;if(O(i))for(var o=0,a=i.length;o<a;o++)X(t,i[o],o,r?bt(r,w+o):w,e,a);else if(T(i))for(var u in i)X(t,i[u],u,r?bt(r,u):w,e)},J=function(t,n,e,r,i){var o=0;if(n<e)if(r)for(var a=n;a<=e;a++)X(t,a,o++,w,i);else for(a=n;a<e;a++)X(t,a,o++,w,i);else if(r)for(a=n;a>=e;a--)X(t,a,o++,w,i);else for(a=n;a>e;a--)X(t,a,o++,w,i)},Wt)},c.prototype.update=function(t,n){var e,r=this,i=r.$vnode,o=r.$options;r.$refs={},i?(D(o.beforeUpdate,r),r.fire("beforeUpdate"+hn),Wn(se,t,n),e="afterUpdate"):(D(o.beforeMount,r),r.fire("beforeMount"+hn),Wn(se,t,n),r.$el=t.node,e="afterMount"),r.$vnode=t,c.nextTick(function(){r.$vnode&&(D(o[e],r),r.fire(e+hn))})},c.prototype.checkProps=function(t){},c.prototype.checkProp=function(t,n){},c.prototype.destroy=function(){var t=this.$parent,n=this.$options,e=this.$emitter,i=this.$observer;D(n.beforeDestroy,this),this.fire("beforeDestroy"+hn);var o=this.$vnode;t&&t.$children&&F(t.$children,this),o&&(this.$vnode=r,function(t,n,e){if(e){var r=t.parent(n.node);r&&Rn(t,r,n)}else Un(t,n)}(se,o,!t)),i.destroy(),D(n.afterDestroy,this),this.fire("afterDestroy"+hn),e.off(),Pt(this)},c.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},c.prototype.toggle=function(t){return this.$observer.toggle(t)},c.prototype.increase=function(t,n,e){return this.$observer.increase(t,n,e)},c.prototype.decrease=function(t,n,e){return this.$observer.decrease(t,n,e)},c.prototype.insert=function(t,n,e){return this.$observer.insert(t,n,e)},c.prototype.append=function(t,n){return this.$observer.append(t,n)},c.prototype.prepend=function(t,n){return this.$observer.prepend(t,n)},c.prototype.removeAt=function(t,n){return this.$observer.removeAt(t,n)},c.prototype.remove=function(t,n){return this.$observer.remove(t,n)},c.prototype.copy=function(t,n){return this.$observer.copy(t,n)},c.version="1.0.0-alpha.84",c.is=N,c.dom=se,c.array=X,c.object=Mt,c.string=vt,c.logger=Zt,c.Event=L,c.Emitter=Jt,c}();function Me(t,n){n&&t.watch(n),D(t.$options[dn],t),t.fire(dn+hn)}function We(t,n,e){A(e)?t[n](D(e,t)):T(e)&&t[n](e)}function _e(t,n,e,r){var i={fn:e,ctx:t};r&&(i.max=1),t.$emitter.on(n,i)}function Ie(t,n,e,r){return S(n)?_e(t,n,e,r):St(n,function(n,e){_e(t,e,n,r)}),t}function He(n,e,r){if(n&&n[e]){var i=n[e];if(A(i)){n[e]=[r];var o=function(t){var r=n[e],i=t.default||t;n[e]=i,R(r,function(t){t(i)})},a=i(o);a&&a.then(o)}else O(i)?_(i,r):r(i);return t}}function Ye(t,n,e){return t&&t[n]?t[n]:e?e(n):void 0}function qe(t,n,e,r){S(n)?t[n]=r?r(e):e:St(n,function(n,e){t[e]=r?r(n):n})}return Ue.directive({event:be,model:Oe,binding:Se}),Ue.filter({hasSlot:function(t){return C(this.get("$slot_"+t))}}),Ue});
//# sourceMappingURL=yox.min.js.map
