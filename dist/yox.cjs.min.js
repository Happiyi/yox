"use strict";var TRUE=!0,FALSE=!1,NULL=null,UNDEFINED=void 0,RAW_TRUE="true",RAW_FALSE="false",RAW_NULL="null",RAW_UNDEFINED="undefined",RAW_KEY="key",RAW_REF="ref",RAW_TAG="tag",RAW_SLOT="slot",RAW_NAME="name",RAW_FILTER="filter",RAW_PARTIAL="partial",RAW_COMPONENT="component",RAW_DIRECTIVE="directive",RAW_TRANSITION="transition",RAW_THIS="this",RAW_FUNCTION="function",RAW_TEMPLATE="template",RAW_STATIC_KEYPATH="staticKeypath",RAW_ABSOLUTE_KEYPATH="absoluteKeypath",KEYPATH_PARENT="..",KEYPATH_CURRENT=RAW_THIS,win=typeof window!==RAW_UNDEFINED?window:UNDEFINED,doc=typeof document!==RAW_UNDEFINED?document:UNDEFINED;function EMPTY_FUNCTION(){}var EMPTY_OBJECT={},EMPTY_ARRAY=[],EMPTY_STRING="",env={TRUE:TRUE,FALSE:FALSE,NULL:NULL,UNDEFINED:UNDEFINED,RAW_TRUE:RAW_TRUE,RAW_FALSE:RAW_FALSE,RAW_NULL:RAW_NULL,RAW_UNDEFINED:RAW_UNDEFINED,RAW_KEY:RAW_KEY,RAW_REF:RAW_REF,RAW_TAG:RAW_TAG,RAW_SLOT:RAW_SLOT,RAW_NAME:RAW_NAME,RAW_FILTER:RAW_FILTER,RAW_PARTIAL:RAW_PARTIAL,RAW_COMPONENT:RAW_COMPONENT,RAW_DIRECTIVE:RAW_DIRECTIVE,RAW_TRANSITION:RAW_TRANSITION,RAW_THIS:RAW_THIS,RAW_FUNCTION:RAW_FUNCTION,RAW_TEMPLATE:RAW_TEMPLATE,RAW_STATIC_KEYPATH:RAW_STATIC_KEYPATH,RAW_ABSOLUTE_KEYPATH:RAW_ABSOLUTE_KEYPATH,KEYPATH_PARENT:KEYPATH_PARENT,KEYPATH_CURRENT:KEYPATH_CURRENT,win:win,doc:doc,EMPTY_FUNCTION:EMPTY_FUNCTION,EMPTY_OBJECT:EMPTY_OBJECT,EMPTY_ARRAY:EMPTY_ARRAY,EMPTY_STRING:EMPTY_STRING};function isDef(e){return e!==UNDEFINED}var ref=Object.prototype,toString=ref.toString;function is(e,t){return"numeric"===t?numeric(e):toString.call(e).toLowerCase()==="[object "+t+"]"}function func(e){return typeof e===RAW_FUNCTION}function array(e){return Array.isArray(e)}function object(e){return e!==NULL&&"object"==typeof e}function string(e){return"string"==typeof e}function number(e){return"number"==typeof e}function boolean(e){return"boolean"==typeof e}function numeric(e){return number(e)||string(e)&&!isNaN(parseFloat(e))&&isFinite(e)}var is$1={is:is,func:func,array:array,object:object,string:string,number:number,boolean:boolean,numeric:numeric};function execute(e,t,n){if(func(e))return array(n)?e.apply(t,n):isDef(t)?e.call(t,n):isDef(n)?e(n):e()}var CustomEvent=function(e,t){this.type=e,this.originalEvent=t};function each(e,t,n){var r=e.length;if(r)if(n)for(var o=r-1;o>=0&&t(e[o],o,e)!==FALSE;o--);else for(var i=0;i<r&&t(e[i],i,e)!==FALSE;i++);}function join(e,t){return e.join(t)}function nativePush(e,t){e[e.length]=t}function nativeUnshift(e,t){e.unshift(t)}function addItem(e,t,n){array(t)?each(t,function(t){n(e,t)}):n(e,t)}function push(e,t){addItem(e,t,nativePush)}function unshift(e,t){addItem(e,t,nativeUnshift)}function toArray(e){return array(e)?e:execute([].slice,e)}function toObject(e,t,n){var r={};return each(e,function(e){r[t?e[t]:e]=n||e}),r}function indexOf(e,t,n){var r=-1;return each(e,function(e,o){if(n===FALSE?e==t:e===t)return r=o,FALSE}),r}function has(e,t,n){return indexOf(e,t,n)>=0}function last(e){var t=e.length;if(t>0)return e[t-1]}function pop(e){return e.pop()}function remove(e,t,n){var r=0;return each(e,function(o,i){(n===FALSE?o==t:o===t)&&(e.splice(i,1),r++)},TRUE),r}function falsy(e){return!array(e)||!e.length}CustomEvent.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=TRUE}return this},CustomEvent.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=TRUE}return this},CustomEvent.prototype.prevent=function(){return this.preventDefault()},CustomEvent.prototype.stop=function(){return this.stopPropagation()};var array$1={each:each,join:join,push:push,unshift:unshift,toArray:toArray,toObject:toObject,indexOf:indexOf,has:has,last:last,pop:pop,remove:remove,falsy:falsy},camelizePattern=/-([a-z])/gi,hyphenatePattern=/\B([A-Z])/g,camelizeCache={},hyphenateCache={};function camelize(e){return camelizeCache[e]||(camelizeCache[e]=e.replace(camelizePattern,function(e,t){return t.toUpperCase()})),camelizeCache[e]}function hyphenate(e){return hyphenateCache[e]||(hyphenateCache[e]=e.replace(hyphenatePattern,function(e,t){return"-"+t.toLowerCase()})),hyphenateCache[e]}function trim(e){return falsy$1(e)?EMPTY_STRING:e.trim()}function slice(e,t,n){return number(n)?t===n?EMPTY_STRING:e.slice(t,n):e.slice(t)}function indexOf$1(e,t,n){return e.indexOf(t,isDef(n)?n:0)}function lastIndexOf(e,t,n){return e.lastIndexOf(t,isDef(n)?n:e.length)}function has$1(e,t){return indexOf$1(e,t)>=0}function startsWith(e,t){return 0===indexOf$1(e,t)}function endsWith(e,t){var n=e.length-t.length;return n>=0&&lastIndexOf(e,t)===n}function charAt(e,t){return e.charAt(t||0)}function codeAt(e,t){return e.charCodeAt(t||0)}function falsy$1(e){return!string(e)||!e.length}var string$1={camelize:camelize,hyphenate:hyphenate,trim:trim,slice:slice,indexOf:indexOf$1,lastIndexOf:lastIndexOf,has:has$1,startsWith:startsWith,endsWith:endsWith,charAt:charAt,codeAt:codeAt,falsy:falsy$1};function toString$1(e,t){return t===UNDEFINED&&(t=EMPTY_STRING),e!=NULL&&e.toString?e.toString():t}var SEPARATOR=".",patternCache={};function match(e,t){return e===t?t.length:startsWith(e,t+=SEPARATOR)?t.length:-1}function each$1(e,t){if(falsy$1(e))t(e,TRUE);else for(var n=0,r=0;TRUE;){if(!((r=indexOf$1(e,SEPARATOR,n))>0)){t(slice(e,n),TRUE);break}if(t(slice(e,n,r),FALSE)===FALSE)break;n=r+1}}function formatKeypath(e){return string(e)?e:number(e)?toString$1(e):EMPTY_STRING}function join$1(e,t){return e=formatKeypath(e),t=formatKeypath(t),e===EMPTY_STRING?t:t!==EMPTY_STRING?e+SEPARATOR+t:e}function isFuzzy(e){return has$1(e,"*")}function matchFuzzy(e,t){var n=patternCache[t];n||(n=t.replace(/\./g,"\\.").replace(/\*\*/g,"([.\\w]+?)").replace(/\*/g,"(\\w+)"),n=patternCache[t]=new RegExp("^"+n+"$"));var r=e.match(n);if(r)return r[1]}function keys(e){return Object.keys(e)}function falsy$2(e){return!object(e)||array(e)||!keys(e).length}function sortKeyByAsc(e,t){return e.length-t.length}function sortKeyByDesc(e,t){return t.length-e.length}function sort(e,t){return keys(e).sort(t?sortKeyByDesc:sortKeyByAsc)}function each$2(e,t){for(var n in e)if(t(e[n],n)===FALSE)break}function has$2(e,t){return isDef(e[t])||e.hasOwnProperty(t)}function clear(e){each$2(e,function(t,n){delete e[n]})}function extend(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return each(t,function(t){each$2(t,function(t,n){e[n]=t})}),e}function copy(e,t){var n=e;return array(e)?t?(n=[],each(e,function(e,r){n[r]=copy(e,t)})):n=e.slice():object(e)&&(n={},each$2(e,function(e,r){n[r]=t?copy(e,t):e})),n}var valueHolder={};function get(e,t){return each$1(t,function(t,n){if(e==NULL)return e=UNDEFINED,FALSE;var r=e[t],o=isDef(r)||e.hasOwnProperty(t);r&&func(r.get)&&(r=r.get()),n?o?(valueHolder.value=r,e=valueHolder):e=UNDEFINED:e=r}),e}function set(e,t,n,r){each$1(t,function(t,o){if(o)e[t]=n;else if(e[t])e=e[t];else{if(!r)return FALSE;e=e[t]={}}})}var object$1={keys:keys,falsy:falsy$2,sort:sort,each:each$2,has:has$2,clear:clear,extend:extend,copy:copy,get:get,set:set},nativeConsole=typeof console!==RAW_UNDEFINED?console:NULL,useSource=/yox/.test(toString$1(EMPTY_FUNCTION));function isDebug(){if(win){var e=win.DEBUG;if(boolean(e))return e}return useSource}function log(e){nativeConsole&&isDebug()&&nativeConsole.log("[Yox log]: "+e)}function warn(e){nativeConsole&&isDebug()&&nativeConsole.warn("[Yox warn]: "+e)}function error(e){nativeConsole&&nativeConsole.error("[Yox error]: "+e)}function fatal(e){throw new Error("[Yox fatal]: "+e)}var nextTick,logger={log:log,warn:warn,error:error,fatal:fatal},Emitter=function(e){this.ns=e||FALSE,this.listeners={}};function parseNamespace(e,t){var n={name:t,ns:EMPTY_STRING};if(e){var r=indexOf$1(t,".");r>=0&&(n.name=slice(t,0,r),n.ns=slice(t,r+1))}return n}function createMatchListener(e){return object(e)?function(t){return e===t}:func(e)?function(t){return e===t.fn}:function(e){return TRUE}}function matchNamespace(e,t){return!e.length||e===t.ns}function isNative(e){return func(e)&&/native code/.test(toString$1(e))}Emitter.prototype.fire=function(e,t,n){var r,o,i;e instanceof CustomEvent?(r=e,o=e.type,i=object(t)?[r,t]:r):(o=e,t&&(i=t));var a=this,c=parseNamespace(a.ns,o),s=c.name,u=c.ns,f=a.listeners[s],p=TRUE;return f&&each(copy(f),function(e,c,s){if((n?n(e,t):matchNamespace(u,e))&&has(s,e)){r&&(r.listener=e.fn);var f=execute(e.fn,e.ctx,i);return e.num=e.num?e.num+1:1,e.num===e.max&&a.off(o,e),r&&(f===FALSE?r.prevent().stop():r.isStoped&&(f=FALSE)),f===FALSE?p=FALSE:void 0}}),p},Emitter.prototype.has=function(e,t){var n=this.listeners,r=parseNamespace(this.ns,e),o=r.name,i=r.ns,a=TRUE,c=createMatchListener(t),s=function(e){return each(e,function(e){if(c(e)&&matchNamespace(i,e))return a=FALSE}),a};return o?n[o]&&s(n[o]):i&&each$2(n,s),!a},Emitter.prototype.on=function(e,t,n){var r=this,o=r.listeners,i=function(e,t){if(e){var i=func(e)?{fn:e}:e;if(object(i)&&func(i.fn)){n&&extend(i,n);var a=parseNamespace(r.ns,t),c=a.name,s=a.ns;return i.ns=s,void push(o[c]||(o[c]=[]),i)}}fatal("注册 "+t+" 事件失败")};string(e)?i(t,e):each$2(e,i)},Emitter.prototype.off=function(e,t){var n=this.listeners;if(e){var r=parseNamespace(this.ns,e),o=r.name,i=r.ns,a=createMatchListener(t),c=function(e,t){each(e,function(e,t,n){a(e)&&matchNamespace(i,e)&&n.splice(t,1)},TRUE),e.length||delete n[t]};o?n[o]&&c(n[o],o):i&&each$2(n,c)}else this.listeners={}},typeof setImmediate===RAW_FUNCTION&&isNative(setImmediate)&&(nextTick=setImmediate);var shared,nextTick$1=nextTick=typeof MessageChannel===RAW_FUNCTION&&isNative(MessageChannel)?function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(1)}:setTimeout,NextTask=function(){this.nextTasks=[]};NextTask.shared=function(){return shared||(shared=new NextTask),shared},NextTask.prototype.append=function(e){push(this.nextTasks,e),this.start()},NextTask.prototype.prepend=function(e){unshift(this.nextTasks,e),this.start()},NextTask.prototype.start=function(){var e=this;1===e.nextTasks.length&&nextTick$1(function(){e.run()})},NextTask.prototype.clear=function(){this.nextTasks.length=0},NextTask.prototype.run=function(){var e=this.nextTasks;e.length&&(this.nextTasks=[],each(e,execute))};var SLOT_DATA_PREFIX="$slot_",HINT_BOOLEAN=3,DIRECTIVE_LAZY="lazy",DIRECTIVE_MODEL="model",DIRECTIVE_EVENT="event",DIRECTIVE_BINDING="binding",HOOK_BEFORE_CREATE="beforeCreate",HOOK_AFTER_CREATE="afterCreate",HOOK_BEFORE_MOUNT="beforeMount",HOOK_AFTER_MOUNT="afterMount",HOOK_BEFORE_UPDATE="beforeUpdate",HOOK_AFTER_UPDATE="afterUpdate",HOOK_BEFORE_DESTROY="beforeDestroy",HOOK_AFTER_DESTROY="afterDestroy",ID="$id",VNODE="$vnode",LOADING="$loading",COMPONENT="$component",LEAVING="$leaving";function update(e,t,n){var r=t.node,o=t.nativeAttrs,i=n&&n.nativeAttrs;if(o||i){var a=o||EMPTY_OBJECT,c=i||EMPTY_OBJECT;each$2(a,function(t,n){c[n]&&t.value===c[n].value||e.attr(r,n,t.value)}),each$2(c,function(t,n){a[n]||e.removeAttr(r,n)})}}function update$1(e,t,n){var r=t.node,o=t.nativeProps,i=n&&n.nativeProps;if(o||i){var a=o||EMPTY_OBJECT,c=i||EMPTY_OBJECT;each$2(a,function(t,n){c[n]&&t.value===c[n].value||e.prop(r,n,t.value)}),each$2(c,function(t,n){a[n]||e.removeProp(r,n,t.hint)})}}function update$2(e,t){var n=e.data,r=e.directives,o=t&&t.directives;if(r||o){var i=n[COMPONENT]||e.node,a=t&&e.keypath!==t.keypath,c=r||EMPTY_OBJECT,s=o||EMPTY_OBJECT;each$2(c,function(n,r){var o=n.hooks,c=o.bind,u=o.unbind;s[r]?(n.value!==s[r].value||a)&&(u&&u(i,s[r],t),c(i,n,e)):c(i,n,e)}),each$2(s,function(e,n){if(!c[n]){var r=e.hooks.unbind;r&&r(i,e,t)}})}}function remove$1(e){var t=e.directives;if(t){var n=e.data[COMPONENT]||e.node;each$2(t,function(t){var r=t.hooks.unbind;r&&r(n,t,e)})}}function update$3(e,t){var n,r=e.data,o=e.ref,i=e.props,a=e.slots,c=e.context;if(e.isComponent?(n=r[COMPONENT],t&&(i&&n.set(n.checkPropTypes(i)),a&&n.set(a))):n=e.node,o){var s=c.$refs;s&&(s[o]=n)}}function isPatchable(e,t){return e.tag===t.tag&&e.key===t.key}function createKeyToIndex(e,t,n){for(var r,o,i;t<=n;)(o=e[t])&&(i=o.key)&&(r||(r={}),r[i]=t),t++;return r||EMPTY_OBJECT}function insertBefore(e,t,n,r){r?e.before(t,n,r):e.append(t,n)}function createComponent(e,t){if(t){var n=(e.parent||e.context).create(t,e,e.node),r=n.$el;return r?e.node=r:fatal("子组件没有创建元素，那还玩个毛啊"),e.data[COMPONENT]=n,e.data[LOADING]=FALSE,update$3(e),update$2(e),n}fatal("component ["+e.tag+"] is not found.")}var guid=0;function createData(){var e={};return e[ID]=++guid,e}function createVnode(e,t){var n=t.tag,r=t.node,o=t.data,i=t.isComponent,a=t.isComment,c=t.isText,s=t.children,u=t.text,f=t.html,p=t.context;if(!r||!o)if(o=createData(),t.data=o,c)t.node=e.createText(u);else if(a)t.node=e.createComment(u);else if(i){var E=TRUE;p.component(n,function(e){isDef(o[LOADING])?o[LOADING]&&(o[VNODE]&&(t=o[VNODE],delete o[VNODE]),enterVnode(t,createComponent(t,e))):(createComponent(t,e),E=FALSE)}),E&&(t.node=e.createComment(RAW_COMPONENT),o[LOADING]=TRUE)}else r=t.node=e.createElement(t.tag),s?addVnodes(e,r,s):u?e.append(r,e.createText(u)):f&&e.html(r,f),update(e,t),update$1(e,t),update$3(t),update$2(t)}function addVnodes(e,t,n,r,o,i){for(var a,c=r||0,s=isDef(o)?o:n.length-1;c<=s;)createVnode(e,a=n[c]),insertVnode(e,t,a,i),c++}function insertVnode(e,t,n,r){var o=n.node,i=n.data,a=n.context,c=e.parent(o);if(r?e.before(t,o,r.node):e.append(t,o),!c){var s;if(n.isComponent){var u=i[COMPONENT];u&&(s=function(){enterVnode(n,u)})}else n.isStatic||n.isText||n.isComment||(s=function(){enterVnode(n)});s&&a.nextTick(s,TRUE)}}function removeVnodes(e,t,n,r,o){for(var i,a=r||0,c=isDef(o)?o:n.length-1;a<=c;)(i=n[a])&&removeVnode(e,t,i),a++}function removeVnode(e,t,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)e.remove(t,r);else{var o,i=function(){destroyVnode(e,n),e.remove(t,r)};if(n.isComponent&&!(o=n.data[COMPONENT]))return void i();leaveVnode(n,o,i)}}function destroyVnode(e,t){var n=t.data,r=t.children;if(t.isComponent){var o=n[COMPONENT];o?t.context===t.parent&&(remove$1(t),o.destroy()):n[LOADING]=FALSE}else remove$1(t),r&&each(r,function(t){destroyVnode(e,t)})}function enterVnode(e,t){var n=e.data,r=e.transition;if(t&&!r&&(r=t.$vnode.transition),execute(n[LEAVING]),r){var o=r.enter;if(o)return void o(e.node,EMPTY_FUNCTION)}}function leaveVnode(e,t,n){var r=e.data,o=e.transition;if(t&&!o&&(o=t.$vnode.transition),o){var i=o.leave;if(i)return void i(e.node,r[LEAVING]=function(){r[LEAVING]&&(n(),r[LEAVING]=UNDEFINED)})}n()}function updateChildren(e,t,n,r){for(var o,i,a=0,c=n.length-1,s=n[a],u=n[c],f=0,p=r.length-1,E=r[f],d=r[p];f<=p&&a<=c;)s?u?E?d?isPatchable(s,E)?(patch(e,s,E),s=n[++a],E=r[++f]):isPatchable(u,d)?(patch(e,u,d),u=n[--c],d=r[--p]):isPatchable(u,E)?(patch(e,u,E),insertBefore(e,t,E.node,e.next(d.node)),u=n[--c],E=r[++f]):isPatchable(s,d)?(patch(e,s,d),insertBefore(e,t,d.node,E.node),s=n[++a],d=r[--p]):(o||(o=createKeyToIndex(r,f,p)),isDef(i=s.key?o[s.key]:UNDEFINED)?(patch(e,s,r[i]),r[i]=UNDEFINED):createVnode(e,s),insertVnode(e,t,s,E),s=n[++a]):d=r[--p]:E=r[++f]:u=n[--c]:s=n[++a];f>p?addVnodes(e,t,n,a,c,n[c+1]):a>c&&removeVnodes(e,t,r,f,p)}function patch(e,t,n){if(t!==n){var r=n.node,o=n.data;if(!isPatchable(t,n)){var i=e.parent(r);return createVnode(e,t),void(i&&(insertVnode(e,i,t,n),removeVnode(e,i,n)))}if(t.node=r,t.data=o,n.isComponent&&o[LOADING])o[VNODE]=t;else if(!t.isStatic||!n.isStatic){update(e,t,n),update$1(e,t,n),update$3(t,n),update$2(t,n);var a=t.text,c=t.html,s=t.children,u=n.text,f=n.html,p=n.children;string(a)?a!==u&&e.text(r,a):string(c)?c!==f&&e.html(r,c):s&&p?s!==p&&updateChildren(e,r,s,p):s?((string(u)||string(f))&&e.text(r,EMPTY_STRING),addVnodes(e,r,s)):p?removeVnodes(e,r,p):(string(u)||string(f))&&e.text(r,EMPTY_STRING)}}}function create(e,t,n,r,o){return{tag:e.tag(t),data:createData(),isComment:n,node:t,context:r,keypath:o}}function destroy(e,t,n){if(n){var r=e.parent(t.node);r?removeVnode(e,r,t):fatal("没有 parentNode 无法销毁 vnode")}else destroyVnode(e,t)}function toNumber(e,t){return t===UNDEFINED&&(t=0),numeric(e)?+e:t}var LITERAL=1,IDENTIFIER=2,MEMBER=3,UNARY=4,BINARY=5,TERNARY=6,ARRAY=7,OBJECT=8,CALL=9,unary={"+":{exec:function(e){return+e}},"-":{exec:function(e){return-e}},"~":{exec:function(e){return~e}},"!":{exec:function(e){return!e}},"!!":{exec:function(e){return!!e}}},binary={"*":{prec:14,exec:function(e,t){return e*t}},"/":{prec:14,exec:function(e,t){return e/t}},"%":{prec:14,exec:function(e,t){return e%t}},"+":{prec:13,exec:function(e,t){return e+t}},"-":{prec:13,exec:function(e,t){return e-t}},"<<":{prec:12,exec:function(e,t){return e<<t}},">>":{prec:12,exec:function(e,t){return e>>t}},">>>":{prec:12,exec:function(e,t){return e>>>t}},"<":{prec:11,exec:function(e,t){return e<t}},"<=":{prec:11,exec:function(e,t){return e<=t}},">":{prec:11,exec:function(e,t){return e>t}},">=":{prec:11,exec:function(e,t){return e>=t}},"==":{prec:10,exec:function(e,t){return e==t}},"!=":{prec:10,exec:function(e,t){return e!=t}},"===":{prec:10,exec:function(e,t){return e===t}},"!==":{prec:10,exec:function(e,t){return e!==t}},"&":{prec:9,exec:function(e,t){return e&t}},"^":{prec:8,exec:function(e,t){return e^t}},"|":{prec:7,exec:function(e,t){return e|t}},"&&":{prec:6,exec:function(e,t){return e&&t}},"||":{prec:5,exec:function(e,t){return e||t}},"->":{prec:0,exec:function(e,t){return e>t?function(n){for(var r=e,o=0;r>t;r--)n(r,o++)}:function(n){for(var r=e,o=0;r<t;r++)n(r,o++)}}},"=>":{prec:0,exec:function(e,t){return e>t?function(n){for(var r=e,o=0;r>=t;r--)n(r,o++)}:function(n){for(var r=e,o=0;r<=t;r++)n(r,o++)}}}},ATTRIBUTE=2,DIRECTIVE=3,PROPERTY=4,SPREAD=13;function toJSON(e){return JSON.stringify(e)}var RENDER_SLOT="a",RENDER_EACH="b",RENDER_EXPRESSION="c",RENDER_EXPRESSION_ARG="d",RENDER_EXPRESSION_VNODE="e",RENDER_TEXT_VNODE="f",RENDER_ELEMENT_VNODE="g",RENDER_PARTIAL="h",RENDER_IMPORT="i",SEP_COMMA=",",STRING_EMPTY=toJSON(EMPTY_STRING),CODE_PREFIX="function("+join([RENDER_EXPRESSION,RENDER_EXPRESSION_ARG,RENDER_EXPRESSION_VNODE,RENDER_TEXT_VNODE,RENDER_ELEMENT_VNODE,RENDER_SLOT,RENDER_PARTIAL,RENDER_IMPORT,RENDER_EACH],SEP_COMMA)+"){return ";function isUndef(e){return e===UNDEFINED}var nodeExecutor={};function execute$1(e,t,n){return nodeExecutor[e.type](e,t,n)}function setPair(e,t,n,r){(e[t]||(e[t]={}))[n]=r}function render(e,t,n,r,o,i){var a,c=EMPTY_STRING,s={$keypath:c},u=[c,s],f=[],p={},E=function(n,r,o,i,c,s){var u=join$1(n[r],o),f=n[r+1];if(i.absoluteKeypath=u,isUndef(s)&&(s=u),a&&has$2(a,o))return a[o];if(has$2(f,o))return f[o];if(has$2(f,"$item")){if(f=f.$item,o===EMPTY_STRING)return f;if(f&&has$2(f,o))return f[o]}var p=e.get(u,E,c);if(p===E){if(i.lookup!==FALSE&&r>1)return E(n,r-=2,o,i,c,s);if(!(p=get(t,o)))return i.absoluteKeypath=s,void warn("data ["+i.raw+"] is not found.");p=p.value}return p},d=function(t,n,r){var o=r||u,i=o.length;return execute$1(t,function(e,t){return E(o,i-2*((t.offset||0)+1),e,t,n)},e)},h=function(e,t){var n=t.expr,o=d(n,TRUE),i=join$1(DIRECTIVE_BINDING,t.name),a=r[DIRECTIVE_BINDING];return a&&setPair(e,"directives",i,{type:DIRECTIVE_BINDING,name:t.name,key:i,hooks:a,binding:n.absoluteKeypath,hint:t.hint}),o},l=function(t){return function(n,r){n.type!==t&&(n=new CustomEvent(t,n)),e.fire(n,r)}},v=function(t,n,r){return function(o,i){var c,s=e[t];o instanceof CustomEvent?(n?(a={$event:o,$data:i},c=execute(s,e,n(r)),a=UNDEFINED):c=execute(s,e,i?[o,i]:o),c===FALSE&&o.prevent().stop()):execute(s,e,n?n(r):UNDEFINED)}},T=function(e,t){return function(){return e(t)}},m=function(e,t){var n=d(e);return t?toString$1(n):n},R=function(e,t){return d(e,UNDEFINED,t)},N=function(e,t){A(m(e,t))},A=function(t){var n=last(f);if(n){var r=last(n);r&&r.isText?r.text+=t:push(n,{isText:TRUE,text:t,context:e,keypath:c})}},y=function(t,n,i,a){if(n&&(each(n,function(e){var n=e.name,i=e.value;switch(e.type){case ATTRIBUTE:e.binding&&(i=h(t,e)),t.isComponent?setPair(t,"props",n,i):setPair(t,"nativeAttrs",n,{name:n,value:i});break;case PROPERTY:setPair(t,"nativeProps",n,{name:n,value:e.binding?h(t,e):i,hint:e.hint});break;case DIRECTIVE:!function(e,t){var n,i,a,c,s,f=t.name,p=t.modifier,E=t.value,h=join$1(f,p);switch(f){case DIRECTIVE_EVENT:i=r[DIRECTIVE_EVENT],c=t.event?l(t.event):v(t.method,t.args,u);break;case RAW_TRANSITION:return void((s=o[E])?e.transition=s:fatal("transition ["+E+"] is not found."));case DIRECTIVE_MODEL:i=r[DIRECTIVE_MODEL],e.model=d(t.expr,TRUE),n=t.expr.absoluteKeypath;break;case DIRECTIVE_LAZY:return void setPair(e,"lazy",p,E);default:i=r[p],t.method?c=v(t.method,t.args,u):a=T(t.getter,u)}i?setPair(e,"directives",h,{type:f,name:p,key:h,value:E,binding:n,hooks:i,getter:a,handler:c}):fatal("directive ["+h+"] is not found.")}(t,e);break;case SPREAD:!function(e,t){var n=t.expr,o=d(n,t.binding);if(object(o)&&!array(o)){each$2(o,function(t,n){setPair(e,"props",n,t)});var i=n[RAW_ABSOLUTE_KEYPATH];if(i){var a=join$1(DIRECTIVE_BINDING,i),c=r[DIRECTIVE_BINDING];c&&setPair(e,"directives",a,{type:DIRECTIVE_BINDING,name:EMPTY_STRING,key:a,hooks:c,binding:join$1(i,"*")})}}else warn("["+n.raw+"] 不是对象，延展个毛啊")}(t,e)}}),t.directives&&!t.lazy&&(t.lazy=EMPTY_OBJECT)),i)f.push(t.children=[]),i(),pop(f);else if(a){var s={};each$2(a,function(e,t){f.push([]),e(),s[t]=pop(f)}),t.slots=s}t.context=e,t.keypath=c;var p=last(f);return p&&push(p,t),t},x=function(t,n){var r=last(f),o=e.get(t);o?each(o,function(t){push(r,t),t.isComponent&&(t.parent=e)}):n&&n()},O=function(e,t){p[e]=t},I=function(e){if(p[e])p[e]();else{var t=n[e];t?t(m,R,N,A,y,x,O,I,g):fatal('partial "'+e+'" is not found.')}},g=function(e,t,n){var r,o;func(t)?(o=t,r=UNDEFINED):(o=n,r=t);var i=d(e),a=e[RAW_ABSOLUTE_KEYPATH],f=a||join$1(c,e.raw),p=function(e,t){var n=c,i=s,p=u;c=join$1(f,t),s={},push(u=copy(u),c),push(u,s),s.$keypath=c,a||(s.$item=e),r&&(s[r]=t),o(e,t),c=n,s=i,u=p};array(i)?each(i,p):object(i)?each$2(i,p):func(i)&&i(p)};return i(m,R,N,A,y,x,O,I,g)}nodeExecutor[LITERAL]=function(e){return e.value},nodeExecutor[IDENTIFIER]=function(e,t){return t(e.name,e)},nodeExecutor[MEMBER]=function(e,t,n){var r,o,i=e.props,a=e.staticKeypath;if(isUndef(a)){(r=i[0]).type===IDENTIFIER?a=r.name:o=execute$1(r,t,n);for(var c=1,s=i.length;c<s;c++)a=join$1(a,execute$1(i[c],t,n))}return isDef(o)?(o=get(o,a))?o.value:UNDEFINED:t?t(a,e):void 0},nodeExecutor[UNARY]=function(e,t,n){return unary[e.operator].exec(execute$1(e.arg,t,n))},nodeExecutor[BINARY]=function(e,t,n){return binary[e.operator].exec(execute$1(e.left,t,n),execute$1(e.right,t,n))},nodeExecutor[TERNARY]=function(e,t,n){return execute$1(e.test,t,n)?execute$1(e.yes,t,n):execute$1(e.no,t,n)},nodeExecutor[ARRAY]=function(e,t,n){return e.elements.map(function(e){return execute$1(e,t,n)})},nodeExecutor[OBJECT]=function(e,t,n){var r={};return each(e.keys,function(o,i){r[o]=execute$1(e.values[i],t,n)}),r},nodeExecutor[CALL]=function(e,t,n){return execute(execute$1(e.callee,t,n),n,e.args.map(function(e){return execute$1(e,t,n)}))};var syncWatcherOptions={sync:TRUE},asyncWatcherOptions={sync:FALSE},Computed=function(e,t,n,r,o,i,a){var c=this;c.keypath=e,c.sync=t,c.cache=n,c.deps=[],c.context=o.context,c.observer=o,c.getter=i,c.setter=a,c.unique={},c.callback=function(t,n,r){var i=c.value,a=c.get(TRUE);a!==i&&o.diff(e,a,i)},(c.fixed=!falsy(r))&&(each(r,function(e){c.add(e)}),c.bind())};function matchBest(e,t){var n;return each(e,function(e){var r=match(t,e);if(r>=0)return n={name:e,prop:slice(t,r)},FALSE}),n}function readValue(e,t){if(e==NULL||t===EMPTY_STRING)return e;var n=get(e,t);return n?n.value:void 0}function diffString(e,t,n){var r=string(e),o=string(t);if(r||o)return n("length",r?e.length:UNDEFINED,o?t.length:UNDEFINED),TRUE}function diffArray(e,t,n){var r=array(e),o=array(t);if(r||o){var i=r?e.length:UNDEFINED,a=o?t.length:UNDEFINED;n("length",i,a);for(var c=0,s=Math.max(i||0,a||0);c<s;c++)n(c,e?e[c]:UNDEFINED,t?t[c]:UNDEFINED);return TRUE}}function diffObject(e,t,n){var r=object(e),o=object(t);(r||o)&&(e=r?e:EMPTY_OBJECT,t=o?t:EMPTY_OBJECT,r&&each$2(e,function(e,r){e!==t[r]&&n(r,e,t[r])}),o&&each$2(t,function(t,r){t!==e[r]&&n(r,e[r],t)}))}function diffRecursion(e,t,n,r,o){var i=function(t,n,i){if(n!==i){var a=join$1(e,t);each(r,function(e){isDef(matchFuzzy(a,e))&&o(e,a,n,i)}),diffRecursion(a,n,i,r,o)}};diffString(t,n,i)||diffArray(t,n,i)||diffObject(t,n,i)}function diffWatcher(e,t,n,r,o,i){var a;each$2(r,function(r,c){if(isFuzzy(c))isDef(matchFuzzy(e,c))?i(c,e,t,n):o&&(a?push(a,c):a=[c]);else{var s=match(c,e);if(s>=0){var u=slice(c,s),f=readValue(t,u),p=readValue(n,u);f!==p&&i(c,c,f,p)}}}),a&&diffRecursion(e,t,n,a,i)}function filterWatcher(e,t){if(e.count&&t)return e.count--,t[0]!==t[1]}function formatWatcherOptions(e){return e===TRUE?{immediate:TRUE}:object(e)?copy(e):{}}Computed.build=function(e,t,n){var r,o,i=TRUE,a=TRUE,c=EMPTY_ARRAY;if(func(n)?r=n:object(n)&&(boolean(n.cache)&&(i=n.cache),boolean(n.sync)&&(a=n.sync),array(n.deps)&&(c=n.deps),func(n.get)&&(r=n.get),func(n.set)&&(o=n.set)),r)return new Computed(e,a,i,c,t,r,o)},Computed.prototype.get=function(e){var t=this.getter,n=this.context;if(this.cache){if(e||!has$2(this,"value"))if(this.fixed)this.value=execute(t,n);else{this.unbind();var r=Computed.current;Computed.current=this,this.value=execute(t,n),this.bind(),Computed.current=r}}else this.value=execute(t,n);return this.value},Computed.prototype.set=function(e){var t=this.setter,n=this.context;t&&t.call(n,e)},Computed.prototype.add=function(e){this.unique[e]=TRUE},Computed.prototype.bind=function(){var e=this.unique,t=this.deps,n=this.observer,r=this.callback,o=this.sync;each$2(e,function(e,i){push(t,i),n.watch(i,r,o?syncWatcherOptions:asyncWatcherOptions)}),this.unique={}},Computed.prototype.unbind=function(){var e=this.deps,t=this.observer,n=this.callback;each(e,function(e){t.unwatch(e,n)},TRUE),e.length=0};var Observer=function(e,t){this.data=e||{},this.context=t||this,this.nextTask=new NextTask,this.syncEmitter=new Emitter,this.asyncEmitter=new Emitter,this.asyncChanges={}};Observer.prototype.get=function(e,t,n){var r,o,i=Computed.current,a=this.data,c=this.computed,s=this.reversedComputedKeys;if(e===EMPTY_STRING)return a;if(i&&!n&&i.add(e),c){if(o=c[e])return o.get();if(s){var u=matchBest(s,e);u&&u.prop&&(r=get(c[u.name].get(),u.prop))}}return r||(r=get(a,e)),r?r.value:t},Observer.prototype.set=function(e,t){var n=this,r=n.data,o=n.computed,i=n.reversedComputedKeys,a=function(e,t){var a=n.get(t);if(e!==a){var c;if(o&&((c=o[t])&&c.set(e),i)){var s=matchBest(i,t);if(s&&s.prop&&(c=o[s.name])){var u=c.get();(object(u)||array(u))&&set(u,s.prop,e)}}c||set(r,t,e),n.diff(t,e,a)}};string(e)?a(t,e):object(e)&&each$2(e,a)},Observer.prototype.diff=function(e,t,n){var r=this,o=r.syncEmitter,i=r.asyncEmitter,a=r.asyncChanges,c=36!==codeAt(e);diffWatcher(e,t,n,o.listeners,c,function(e,t,n,r){o.fire(e,[n,r,t])}),diffWatcher(e,t,n,i.listeners,c,function(e,t,n,o){each(i.listeners[e],function(e){e.count++});var c=(a[t]||(a[t]={value:o,list:[]})).list;has(c,e)||push(c,e),r.pending||(r.pending=TRUE,r.nextTask.append(function(){r.pending&&(r.pending=UNDEFINED,r.diffAsync())}))})},Observer.prototype.diffAsync=function(){var e=this,t=e.asyncEmitter,n=e.asyncChanges;e.asyncChanges={},each$2(n,function(n,r){var o=[e.get(r),n.value,r];each(n.list,function(e){t.fire(e,o,filterWatcher)})})},Observer.prototype.addComputed=function(e,t){var n=Computed.build(e,this,t);if(n)return this.computed||(this.computed={}),this.computed[e]=n,this.reversedComputedKeys=sort(this.computed,TRUE),n},Observer.prototype.removeComputed=function(e){var t=this.computed;t&&has$2(t,e)&&(delete t[e],this.reversedComputedKeys=sort(t,TRUE))},Observer.prototype.watch=function(e,t,n){var r=this,o=r.context,i=r.syncEmitter,a=r.asyncEmitter,c=function(e,t,n){object(t)&&(boolean(t.immediate)&&(n.immediate=t.immediate),boolean(t.sync)&&(n.sync=t.sync),boolean(t.once)&&(n.once=t.once),func(t.watcher)&&(t=t.watcher));var c=n.sync?i:a;if(func(t)){var s={fn:t,ctx:o,count:0};n.once&&(s.max=1),c.on(e,s)}else fatal("watcher should be a function.");n.immediate&&execute(t,o,[r.get(e),UNDEFINED,e])};string(e)?func(t)||object(t)?c(e,t,formatWatcherOptions(n)):fatal("watcher should be a function or object."):each$2(e,function(e,t){c(t,e,{})})},Observer.prototype.unwatch=function(e,t){this.syncEmitter.off(e,t),this.asyncEmitter.off(e,t)},Observer.prototype.toggle=function(e){var t=!this.get(e);return this.set(e,t),t},Observer.prototype.increase=function(e,t,n){var r=toNumber(this.get(e),0)+(t||1);if(!number(n)||r<=n)return this.set(e,r),r},Observer.prototype.decrease=function(e,t,n){var r=toNumber(this.get(e),0)-(t||1);if(!number(n)||r>=n)return this.set(e,r),r},Observer.prototype.insert=function(e,t,n){var r=this.get(e),o=(r=array(r)?copy(r):[]).length;if(n===TRUE||n===o)r.push(t);else if(n===FALSE||0===n)r.unshift(t);else{if(!(n>0&&n<o))return;r.splice(n,0,t)}return this.set(e,r),TRUE},Observer.prototype.append=function(e,t){return this.insert(e,t,TRUE)},Observer.prototype.prepend=function(e,t){return this.insert(e,t,FALSE)},Observer.prototype.removeAt=function(e,t){var n=this.get(e);if(array(n)&&t>=0&&t<n.length)return(n=copy(n)).splice(t,1),this.set(e,n),TRUE},Observer.prototype.remove=function(e,t){var n=this.get(e);if(array(n)&&remove(n=copy(n),t))return this.set(e,n),TRUE},Observer.prototype.copy=function(e,t){return copy(e,t)},Observer.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),clear(this)};var doc$1=doc,innerText="textContent",addEventListener=EMPTY_FUNCTION,removeEventListener=EMPTY_FUNCTION,addClass=EMPTY_FUNCTION,removeClass=EMPTY_FUNCTION,findElement=EMPTY_FUNCTION;doc$1&&(isUndef(doc$1.body[innerText])&&(innerText="innerText"),doc$1.addEventListener?(addEventListener=function(e,t,n){e.addEventListener(t,n,FALSE)},removeEventListener=function(e,t,n){e.removeEventListener(t,n,FALSE)}):(addEventListener=function(e,t,n){e.attachEvent("on"+t,n)},removeEventListener=function(e,t,n){e.detachEvent("on"+t,n)}),doc$1.body.classList?(addClass=function(e,t){e.classList.add(t)},removeClass=function(e,t){e.classList.remove(t)}):(addClass=function(e,t){var n=e.className.split(CHAR_WHITESPACE);has(n,t)||(push(n,t),e.className=join(n,CHAR_WHITESPACE))},removeClass=function(e,t){var n=e.className.split(CHAR_WHITESPACE);remove(n,t)&&(e.className=join(n,CHAR_WHITESPACE))}),findElement=doc$1.querySelector?function(e){var t=doc$1.querySelector(e);if(t)return t}:function(e){35===codeAt(e,0)&&(e=slice(e,1));var t=doc$1.getElementById(e);if(t)return t});var CHAR_WHITESPACE=" ",EMITTER="$emitter",INPUT="input",COMPOSITION_START="compositionstart",COMPOSITION_END="compositionend",domain="http://www.w3.org/",namespaces={svg:domain+"2000/svg"},specialEvents={},domApi={createElement:function(e,t){return t?doc$1.createElementNS(namespaces.svg,e):doc$1.createElement(e)},createText:function(e){return doc$1.createTextNode(e)},createComment:function(e){return doc$1.createComment(e)},createEvent:function(e,t){return e},prop:function(e,t,n){if(!isDef(n))return get(e,t);set(e,t,n,FALSE)},removeProp:function(e,t,n){set(e,t,n===HINT_BOOLEAN?FALSE:EMPTY_STRING,FALSE)},attr:function(e,t,n){if(isDef(n))e.setAttribute(t,n);else{var r=e.getAttribute(t);if(r!=NULL)return r}},removeAttr:function(e,t){e.removeAttribute(t)},before:function(e,t,n){e.insertBefore(t,n)},append:function(e,t){e.appendChild(t)},replace:function(e,t,n){e.replaceChild(t,n)},remove:function(e,t){e.removeChild(t)},parent:function(e){var t=e.parentNode;if(t)return t},next:function(e){var t=e.nextSibling;if(t)return t},find:findElement,tag:function(e){if(1===e.nodeType)return e.tagName.toLowerCase()},text:function(e,t){if(!isDef(t))return e[innerText];e[innerText]=t},html:function(e,t){if(!isDef(t))return e.innerHTML;e.innerHTML=t},addClass:addClass,removeClass:removeClass,on:function(e,t,n,r){var o=e[EMITTER]||(e[EMITTER]=new Emitter),i=o.nativeListeners||(o.nativeListeners={});if(!i[t]){var a=specialEvents[t],c=function(t){o.fire(t instanceof CustomEvent?t:new CustomEvent(t.type,domApi.createEvent(t,e)))};i[t]=c,a?a.on(e,c):addEventListener(e,t,c)}o.on(t,{fn:n,ctx:r})},off:function(e,t,n){var r=e[EMITTER],o=r.listeners,i=r.nativeListeners;if(r.off(t,n),i&&!r.has(t)){var a=specialEvents[t],c=i[t];a?a.off(e,c):removeEventListener(e,t,c),delete i[t]}falsy$2(o)&&(e[EMITTER]=UNDEFINED)},specialEvents:specialEvents};function debounce(e,t,n){var r;return function(){if(!r){var o=toArray(arguments);n&&execute(e,NULL,o),r=setTimeout(function(){r=0,n||execute(e,NULL,o)},t)}}}specialEvents[INPUT]={on:function(e,t){var n=FALSE;domApi.on(e,COMPOSITION_START,t[COMPOSITION_START]=function(){n=TRUE}),domApi.on(e,COMPOSITION_END,t[COMPOSITION_END]=function(e){n=FALSE,e.type=INPUT,t(e)}),addEventListener(e,INPUT,t[INPUT]=function(e){n||t(e)})},off:function(e,t){domApi.off(e,COMPOSITION_START,t[COMPOSITION_START]),domApi.off(e,COMPOSITION_END,t[COMPOSITION_END]),removeEventListener(e,INPUT,t[INPUT]),t[COMPOSITION_START]=t[COMPOSITION_END]=t[INPUT]=UNDEFINED}};var TAP="tap",CLICK="click",INPUT$1="input",CHANGE="change",syncTypes=toObject([CLICK,TAP]),directive={bind:function(e,t,n){var r=t.name,o=t.handler,i=n.lazy[r]||n.lazy[EMPTY_STRING];if(o)if(i&&(i===TRUE?r=CHANGE:o=debounce(o,i,syncTypes[r])),n.isComponent){var a=e;a.on(r,o),n.data[t.key]=function(){a.off(r,o)}}else{var c=e;domApi.on(c,r,o),n.data[t.key]=function(){domApi.off(c,r,o)}}},unbind:function(e,t,n){execute(n.data[t.key])}};function getOptionValue(e){return isDef(e.value)?e.value:e.text}var syncWatcherOptions$1={sync:TRUE},inputControl={set:function(e,t,n){e.value=toString$1(n.get(t))},sync:function(e,t,n){n.set(t,e.value)},name:"value"},selectControl={set:function(e,t,n){var r=n.get(t);each(toArray(e.options),e.multiple?function(e){e.selected=has(r,getOptionValue(e),FALSE)}:function(t,n){if(getOptionValue(t)==r)return e.selectedIndex=n,FALSE})},sync:function(e,t,n){var r=toArray(e.options);if(e.multiple){var o=[];each(r,function(e){e.selected&&push(o,getOptionValue(e))}),falsy(o)&&falsy(n.get(t))||n.set(t,o)}else n.set(t,getOptionValue(r[e.selectedIndex]))},name:"value"},radioControl={set:function(e,t,n){e.checked=e.value===toString$1(n.get(t))},sync:function(e,t,n){e.checked&&n.set(t,e.value)},name:"checked"},checkboxControl={set:function(e,t,n){var r=n.get(t);e.checked=array(r)?has(r,e.value,FALSE):boolean(r)?r:!!r},sync:function(e,t,n){var r=n.get(t);array(r)?e.checked?n.append(t,e.value):n.removeAt(t,indexOf(r,e.value,FALSE)):n.set(t,e.checked)},name:"checked"},componentControl={set:function(e,t,n){e.set(e.$model,n.get(t))},sync:function(e,t,n){n.set(t,e.get(e.$model))},name:"value"},specialControls={radio:radioControl,checkbox:checkboxControl,select:selectControl},directive$1={bind:function(e,t,n){var r,o,i,a,c=t.binding,s=n.context,u=n.nativeProps,f=n.lazy[DIRECTIVE_MODEL]||n.lazy[EMPTY_STRING],p=function(){d||i.set(r||o,c,s)},E=function(){d=TRUE,i.sync(r||o,c,s),d=FALSE},d=FALSE;f&&f!==TRUE&&(E=debounce(E,f)),n.isComponent?(i=componentControl,(r=e).watch(r.$model,E)):(i=specialControls[(o=e).type]||specialControls[domApi.tag(o)],a=CHANGE,i||(i=inputControl,f!==TRUE&&(a=INPUT$1)),u&&has$2(u,i.name)||p(),domApi.on(o,a,E)),s.watch(c,p,syncWatcherOptions$1),n.data[t.key]=function(){n.isComponent?r.unwatch(r.$model,E):domApi.off(o,a,E),s.unwatch(c,p)}},unbind:function(e,t,n){execute(n.data[t.key])}},directive$2={bind:function(e,t,n){var r=t.binding;if(r){var o=isFuzzy(r),i=function(i,a,c){var s=o?matchFuzzy(c,r):t.name;n.isComponent?e.set(s,i):isDef(t.hint)?domApi.prop(e,s,i):domApi.attr(e,s,i)};n.context.watch(r,i),n.data[t.key]=function(){n.context.unwatch(r,i)}}},unbind:function(e,t,n){execute(n.data[t.key])}};function hasSlot(e){return isDef(this.get(SLOT_DATA_PREFIX+e))}var globalDirectives={},globalTransitions={},globalComponents={},globalPartials={},globalFilters={},TEMPLATE_COMPUTED="$"+RAW_TEMPLATE,selectorPattern=/^[#.][-\w+]+$/,Yox=function e(t){var n=this;object(t)||(t=EMPTY_OBJECT),n.$options=t,execute(t[HOOK_BEFORE_CREATE],n,t);var r=t.el,o=t.data,i=t.props,a=t.model,c=t.parent,s=t.replace,u=t.computed,f=t.template,p=t.transitions,E=t.components,d=t.directives,h=t.partials,l=t.filters,v=t.slots,T=t.events,m=t.methods,R=t.watchers,N=t.extensions;N&&extend(n,N),a&&(n.$model=a);var A=i?n.checkPropTypes(i):{};v&&extend(A,v),i&&object(o)&&warn('"data" option expected to be a function.');var y=n.$observer=new Observer(A,n);u&&each$2(u,function(e,t){y.addComputed(t,e)});var x=func(o)?execute(o,n,t):o;object(x)&&each$2(x,function(e,t){has$2(A,t)?warn('"'+t+'" is already defined as a prop. Use prop default value instead.'):A[t]=e}),n.$emitter=new Emitter(TRUE);var O,I=FALSE;if(string(f)?selectorPattern.test(f)&&((O=domApi.find(f))?(f=domApi.html(O),O=UNDEFINED):fatal('"'+f+'" 选择器找不到对应的元素')):f=UNDEFINED,r)if(string(r)){var g=r;selectorPattern.test(g)?(O=domApi.find(g))||fatal('"'+g+'" 选择器找不到对应的元素'):fatal('"el" option 格式错误')}else O=r;O&&!s&&(I=TRUE,domApi.append(O,O=domApi.createComment(EMPTY_STRING))),c&&(n.$parent=c),m&&each$2(m,function(e,t){n[t]&&fatal('"'+t+'" method is conflicted with built-in methods.'),n[t]=e}),setFlexibleOptions(n,RAW_TRANSITION,p),setFlexibleOptions(n,RAW_COMPONENT,E),setFlexibleOptions(n,RAW_DIRECTIVE,d),setFlexibleOptions(n,RAW_PARTIAL,h),setFlexibleOptions(n,RAW_FILTER,l),execute(t[HOOK_AFTER_CREATE],n),f?(n.$template=e.compile(f),y.addComputed(TEMPLATE_COMPUTED,{sync:FALSE,get:function(){return n.render()}}),(R=R?copy(R):{})[TEMPLATE_COMPUTED]=function(e){n.update(e,n.$vnode)},O||(I=TRUE,O=domApi.createComment(EMPTY_STRING)),n.update(n.get(TEMPLATE_COMPUTED),create(domApi,O,I,n,EMPTY_STRING))):O&&fatal("有 el 没 template 是几个意思？"),T&&n.on(T),R&&y.nextTask.prepend(function(){n.$observer&&n.watch(R)})};function setFlexibleOptions(e,t,n){func(n)?e[t](execute(n,e)):object(n)&&e[t](n)}function getComponentAsync(e,t,n){if(e&&has$2(e,t)){var r=e[t];if(func(r)){var o=r.$queue;o?push(o,n):(o=r.$queue=[n],r(function(n){r.$queue=UNDEFINED,e[t]=n,each(o,function(e){e(n)})}))}else n(r);return TRUE}}function getResource(e,t,n){return e&&e[t]?e[t]:n?n(t):void 0}function setResource(e,t,n,r){string(t)?e[t]=r?r(n):n:each$2(t,function(t,n){e[n]=r?r(t):t})}function mergeResource(e,t){return e&&t?extend({},t,e):e||t}Yox.use=function(e){e.install(Yox)},Yox.nextTick=function(e){NextTask.shared().append(e)},Yox.compile=function(e,t){return new Function("return "+e)()},Yox.directive=function(e,t){if(string(e)&&!t)return getResource(globalDirectives,e);setResource(globalDirectives,e,t)},Yox.transition=function(e,t){if(string(e)&&!t)return getResource(globalTransitions,e);setResource(globalTransitions,e,t)},Yox.component=function(e,t){if(string(e)){if(!t)return getResource(globalComponents,e);if(func(t))return void getComponentAsync(globalComponents,e,t)}setResource(globalComponents,e,t)},Yox.partial=function(e,t){if(string(e)&&!t)return getResource(globalPartials,e);setResource(globalPartials,e,t,Yox.compile)},Yox.filter=function(e,t){if(string(e)&&!t)return getResource(globalFilters,e);setResource(globalFilters,e,t)},Yox.checkPropTypes=function(e,t){var n=copy(e);return each$2(t,function(t,r){var o,i=t.type,a=t.value,c=t.required,s=e[r];(func(c)&&(c=c(e)),isDef(s))?i?(falsy$1(i)?falsy(i)||each(i,function(e){if(is(s,e))return o=TRUE,FALSE}):o=is(s,i),o!==TRUE&&warn('The prop "'+r+'" type is not matched.')):warn('The prop "'+r+'" in propTypes has no type.'):c?warn('The prop "'+r+'" is marked as required, but its value is not found.'):isDef(a)&&(n[r]=i===RAW_FUNCTION?a:func(a)?a(e):a)}),n},Yox.prototype.addComputed=function(e,t){return this.$observer.addComputed(e,t)},Yox.prototype.removeComputed=function(e){this.$observer.removeComputed(e)},Yox.prototype.get=function(e,t,n){return this.$observer.get(e,t,n)},Yox.prototype.set=function(e,t){var n=this.$observer;n&&n.set(e,t)},Yox.prototype.on=function(e,t){return this.$emitter.on(e,t,{ctx:this}),this},Yox.prototype.once=function(e,t){return this.$emitter.on(e,t,{ctx:this,max:1}),this},Yox.prototype.off=function(e,t){return this.$emitter.off(e,t),this},Yox.prototype.fire=function(e,t,n){var r,o,i=e instanceof CustomEvent?e:new CustomEvent(e);return i.target||(i.target=this),object(t)?r=t:t===TRUE&&(n=TRUE),(o=this.$emitter.fire(i,r))&&(n?this.$children&&each(this.$children,function(e){return o=e.fire(i,t,TRUE)}):this.$parent&&(o=this.$parent.fire(i,t))),o},Yox.prototype.watch=function(e,t,n){return this.$observer.watch(e,t,n),this},Yox.prototype.watchOnce=function(e,t,n){var r=formatWatcherOptions(n);return r.once=TRUE,this.$observer.watch(e,t,r),this},Yox.prototype.unwatch=function(e,t){return this.$observer.unwatch(e,t),this},Yox.prototype.directive=function(e,t){var n=this.$directives;if(string(e)&&!t)return getResource(n,e,Yox.directive);setResource(n||(this.$directives={}),e,t)},Yox.prototype.transition=function(e,t){var n=this.$transitions;if(string(e)&&!t)return getResource(n,e,Yox.transition);setResource(n||(this.$transitions={}),e,t)},Yox.prototype.component=function(e,t){var n=this.$components;if(string(e)){if(!t)return getResource(n,e,Yox.component);if(func(t))return void(getComponentAsync(n,e,t)||getComponentAsync(globalComponents,e,t))}setResource(n||(this.$components={}),e,t)},Yox.prototype.partial=function(e,t){var n=this.$partials;if(string(e)&&!t)return getResource(n,e,Yox.partial);setResource(n||(this.$partials={}),e,t,Yox.compile)},Yox.prototype.filter=function(e,t){var n=this.$filters;if(string(e)&&!t)return getResource(n,e,Yox.filter);setResource(n||(this.$filters={}),e,t)},Yox.prototype.forceUpdate=function(){var e=this.$vnode,t=this.$observer;if(e){var n=t.computed[TEMPLATE_COMPUTED],r=n.get();t.nextTask.run(),r===n.get()&&this.update(n.get(TRUE),e)}},Yox.prototype.render=function(){return render(this,mergeResource(this.$filters,globalFilters),mergeResource(this.$partials,globalPartials),mergeResource(this.$directives,globalDirectives),mergeResource(this.$transitions,globalTransitions),this.$template)},Yox.prototype.update=function(e,t){var n,r=this,o=r.$vnode,i=r.$options;r.$refs={},o?(execute(i[HOOK_BEFORE_UPDATE],r),patch(domApi,e,t),n=i[HOOK_AFTER_UPDATE]):(execute(i[HOOK_BEFORE_MOUNT],r),patch(domApi,e,t),r.$el=e.node,n=i[HOOK_AFTER_MOUNT]),r.$vnode=e,n&&r.nextTick(function(){r.$vnode&&execute(n,r)})},Yox.prototype.checkPropTypes=function(e){var t=this.$options.propTypes;return t?Yox.checkPropTypes(e,t):e},Yox.prototype.create=function(e,t,n){if((e=copy(e)).parent=this,t){n&&(e.el=n,e.replace=TRUE);var r=t.slots,o=t.props,i=t.model;if(r&&(e.slots=r),isDef(i)){o||(o={});var a=e.model||"value";has$2(o,a)||(o[a]=i),e.model=a}e.props=o}var c=new Yox(e);return push(this.$children||(this.$children=[]),c),c},Yox.prototype.destroy=function(){var e=this.$options,t=this.$vnode,n=this.$parent,r=this.$emitter,o=this.$observer;execute(e[HOOK_BEFORE_DESTROY],this),n&&n.$children&&remove(n.$children,this),t&&destroy(domApi,t,!n),r.off(),o.destroy(),clear(this),execute(e[HOOK_AFTER_DESTROY],this)},Yox.prototype.nextTick=function(e,t){var n=this.$observer.nextTask;t?n.prepend(e):n.append(e)},Yox.prototype.toggle=function(e){return this.$observer.toggle(e)},Yox.prototype.increase=function(e,t,n){return this.$observer.increase(e,t,n)},Yox.prototype.decrease=function(e,t,n){return this.$observer.decrease(e,t,n)},Yox.prototype.insert=function(e,t,n){return this.$observer.insert(e,t,n)},Yox.prototype.append=function(e,t){return this.$observer.append(e,t)},Yox.prototype.prepend=function(e,t){return this.$observer.prepend(e,t)},Yox.prototype.removeAt=function(e,t){return this.$observer.removeAt(e,t)},Yox.prototype.remove=function(e,t){return this.$observer.remove(e,t)},Yox.prototype.copy=function(e,t){return this.$observer.copy(e,t)},Yox.version="1.0.0-alpha",Yox.is=is$1,Yox.dom=domApi,Yox.array=array$1,Yox.object=object$1,Yox.string=string$1,Yox.logger=logger,Yox.Event=CustomEvent,Yox.Emitter=Emitter,Yox.directive({event:directive,model:directive$1,binding:directive$2}),Yox.filter({hasSlot:hasSlot}),module.exports=Yox;
