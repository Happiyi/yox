"use strict";var TRUE=!0,FALSE=!1,NULL=null,UNDEFINED=void 0,RAW_TRUE="true",RAW_FALSE="false",RAW_NULL="null",RAW_UNDEFINED="undefined",RAW_KEY="key",RAW_REF="ref",RAW_TAG="tag",RAW_SLOT="slot",RAW_NAME="name",RAW_FILTER="filter",RAW_PARTIAL="partial",RAW_COMPONENT="component",RAW_DIRECTIVE="directive",RAW_TRANSITION="transition",RAW_THIS="this",RAW_TYPE="type",RAW_VALUE="value",RAW_LENGTH="length",RAW_FUNCTION="function",RAW_TEMPLATE="template",RAW_STATIC_KEYPATH="staticKeypath",RAW_ABSOLUTE_KEYPATH="absoluteKeypath",KEYPATH_PARENT="..",KEYPATH_CURRENT=RAW_THIS,EVENT_TAP="tap",EVENT_CLICK="click",EVENT_INPUT="input",EVENT_CHANGE="change",win=typeof window!==RAW_UNDEFINED?window:UNDEFINED,doc=typeof document!==RAW_UNDEFINED?document:UNDEFINED,EMPTY_FUNCTION=function(){},EMPTY_OBJECT={},EMPTY_ARRAY=[],EMPTY_STRING="",env=Object.freeze({TRUE:TRUE,FALSE:FALSE,NULL:NULL,UNDEFINED:UNDEFINED,RAW_TRUE:RAW_TRUE,RAW_FALSE:RAW_FALSE,RAW_NULL:RAW_NULL,RAW_UNDEFINED:RAW_UNDEFINED,RAW_KEY:RAW_KEY,RAW_REF:RAW_REF,RAW_TAG:RAW_TAG,RAW_SLOT:RAW_SLOT,RAW_NAME:RAW_NAME,RAW_FILTER:RAW_FILTER,RAW_PARTIAL:RAW_PARTIAL,RAW_COMPONENT:RAW_COMPONENT,RAW_DIRECTIVE:RAW_DIRECTIVE,RAW_TRANSITION:RAW_TRANSITION,RAW_THIS:RAW_THIS,RAW_TYPE:RAW_TYPE,RAW_VALUE:RAW_VALUE,RAW_LENGTH:RAW_LENGTH,RAW_FUNCTION:RAW_FUNCTION,RAW_TEMPLATE:RAW_TEMPLATE,RAW_STATIC_KEYPATH:RAW_STATIC_KEYPATH,RAW_ABSOLUTE_KEYPATH:RAW_ABSOLUTE_KEYPATH,KEYPATH_PARENT:KEYPATH_PARENT,KEYPATH_CURRENT:KEYPATH_CURRENT,EVENT_TAP:EVENT_TAP,EVENT_CLICK:EVENT_CLICK,EVENT_INPUT:EVENT_INPUT,EVENT_CHANGE:EVENT_CHANGE,win:win,doc:doc,EMPTY_FUNCTION:EMPTY_FUNCTION,EMPTY_OBJECT:EMPTY_OBJECT,EMPTY_ARRAY:EMPTY_ARRAY,EMPTY_STRING:EMPTY_STRING});function isDef(e){return e!==UNDEFINED}var toString=Object.prototype.toString;function is(e,t){return"numeric"===t?numeric(e):toString.call(e).toLowerCase()==="[object "+t+"]"}function func(e){return typeof e===RAW_FUNCTION}function array(e){return Array.isArray(e)}function object(e){return e!==NULL&&"object"==typeof e}function string(e){return"string"==typeof e}function number(e){return"number"==typeof e}function boolean(e){return"boolean"==typeof e}function numeric(e){return number(e)||string(e)&&!isNaN(parseFloat(e))&&isFinite(e)}var is$1=Object.freeze({is:is,func:func,array:array,object:object,string:string,number:number,boolean:boolean,numeric:numeric});function execute(e,t,n){if(func(e))return array(n)?e.apply(t,n):isDef(t)?e.call(t,n):isDef(n)?e(n):e()}var CustomEvent=function(e,t){this.type=e,this.originalEvent=t};function each(e,t,n){var r=e.length;if(r)if(n)for(var i=r-1;i>=0&&t(e[i],i,e)!==FALSE;i--);else for(var o=0;o<r&&t(e[o],o,e)!==FALSE;o++);}function join(e,t){return e.join(t)}function nativePush(e,t){e[e.length]=t}function nativeUnshift(e,t){e.unshift(t)}function addItem(e,t,n){array(t)?each(t,function(t){n(e,t)}):n(e,t)}function push(e,t){addItem(e,t,nativePush)}function unshift(e,t){addItem(e,t,nativeUnshift)}function toArray(e){return array(e)?e:execute([].slice,e)}function toObject(e,t,n){var r={};return each(e,function(e){r[t?e[t]:e]=n||e}),r}function indexOf(e,t,n){var r=-1;return each(e,function(e,i){if(n===FALSE?e==t:e===t)return r=i,FALSE}),r}function has(e,t,n){return indexOf(e,t,n)>=0}function last(e){var t=e.length;if(t>0)return e[t-1]}function pop(e){return e.pop()}function remove(e,t,n){var r=0;return each(e,function(i,o){(n===FALSE?i==t:i===t)&&(e.splice(o,1),r++)},TRUE),r}function falsy(e){return!array(e)||!e.length}CustomEvent.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=TRUE}return this},CustomEvent.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=TRUE}return this},CustomEvent.prototype.prevent=function(){return this.preventDefault()},CustomEvent.prototype.stop=function(){return this.stopPropagation()};var array$1=Object.freeze({each:each,join:join,push:push,unshift:unshift,toArray:toArray,toObject:toObject,indexOf:indexOf,has:has,last:last,pop:pop,remove:remove,falsy:falsy}),camelizePattern=/-([a-z])/gi,hyphenatePattern=/\B([A-Z])/g,camelizeCache={},hyphenateCache={};function camelize(e){return camelizeCache[e]||(camelizeCache[e]=e.replace(camelizePattern,function(e,t){return t.toUpperCase()})),camelizeCache[e]}function hyphenate(e){return hyphenateCache[e]||(hyphenateCache[e]=e.replace(hyphenatePattern,function(e,t){return"-"+t.toLowerCase()})),hyphenateCache[e]}function trim(e){return falsy$1(e)?EMPTY_STRING:e.trim()}function slice(e,t,n){return number(n)?t===n?EMPTY_STRING:e.slice(t,n):e.slice(t)}function indexOf$1(e,t,n){return e.indexOf(t,isDef(n)?n:0)}function lastIndexOf(e,t,n){return e.lastIndexOf(t,isDef(n)?n:e.length)}function has$1(e,t){return indexOf$1(e,t)>=0}function startsWith(e,t){return 0===indexOf$1(e,t)}function endsWith(e,t){var n=e.length-t.length;return n>=0&&lastIndexOf(e,t)===n}function charAt(e,t){return e.charAt(t||0)}function codeAt(e,t){return e.charCodeAt(t||0)}function falsy$1(e){return!string(e)||!e.length}var string$1=Object.freeze({camelize:camelize,hyphenate:hyphenate,trim:trim,slice:slice,indexOf:indexOf$1,lastIndexOf:lastIndexOf,has:has$1,startsWith:startsWith,endsWith:endsWith,charAt:charAt,codeAt:codeAt,falsy:falsy$1});function toString$1(e,t){return e!=NULL&&e.toString?e.toString():isDef(t)?t:EMPTY_STRING}var SEPARATOR=".",patternCache={};function match(e,t){return e===t?t.length:startsWith(e,t+=SEPARATOR)?t.length:-1}function each$1(e,t){if(falsy$1(e))t(e,TRUE);else for(var n=0,r=0;TRUE;){if(!((r=indexOf$1(e,SEPARATOR,n))>0)){t(slice(e,n),TRUE);break}if(t(slice(e,n,r),FALSE)===FALSE)break;n=r+1}}function formatKeypath(e){return string(e)?e:number(e)?toString$1(e):EMPTY_STRING}function join$1(e,t){return e=formatKeypath(e),t=formatKeypath(t),e===EMPTY_STRING?t:t!==EMPTY_STRING?e+SEPARATOR+t:e}function isFuzzy(e){return has$1(e,"*")}function matchFuzzy(e,t){var n=patternCache[t];n||(n=t.replace(/\./g,"\\.").replace(/\*\*/g,"([.\\w]+?)").replace(/\*/g,"(\\w+)"),n=patternCache[t]=new RegExp("^"+n+"$"));var r=e.match(n);if(r)return r[1]}function keys(e){return Object.keys(e)}function falsy$2(e){return!object(e)||array(e)||!keys(e).length}function sortKeyByAsc(e,t){return e.length-t.length}function sortKeyByDesc(e,t){return t.length-e.length}function sort(e,t){return keys(e).sort(t?sortKeyByDesc:sortKeyByAsc)}function each$2(e,t){for(var n in e)if(t(e[n],n)===FALSE)break}function has$2(e,t){return isDef(e[t])||e.hasOwnProperty(t)}function clear(e){each$2(e,function(t,n){delete e[n]})}function extend(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return each(t,function(t){each$2(t,function(t,n){e[n]=t})}),e}function copy(e,t){var n=e;return array(e)?t?(n=[],each(e,function(e,r){n[r]=copy(e,t)})):n=e.slice():object(e)&&(n={},each$2(e,function(e,r){n[r]=t?copy(e,t):e})),n}var valueHolder={};function get(e,t){return each$1(t,function(t,n){if(e==NULL)return e=UNDEFINED,FALSE;var r=e[t],i=isDef(r)||e.hasOwnProperty(t);r&&func(r.get)&&(r=r.get()),n?i?(valueHolder.value=r,e=valueHolder):e=UNDEFINED:e=r}),e}function set(e,t,n,r){each$1(t,function(t,i){if(i)e[t]=n;else if(e[t])e=e[t];else{if(!r)return FALSE;e=e[t]={}}})}var object$1=Object.freeze({keys:keys,falsy:falsy$2,sort:sort,each:each$2,has:has$2,clear:clear,extend:extend,copy:copy,get:get,set:set}),nativeConsole=typeof console!==RAW_UNDEFINED?console:NULL,useSource=/yox/.test(toString$1(EMPTY_FUNCTION));function isDebug(){if(win){var e=win.DEBUG;if(boolean(e))return e}return useSource}function log(e){nativeConsole&&isDebug()&&nativeConsole.log("[Yox log]: "+e)}function warn(e){nativeConsole&&isDebug()&&nativeConsole.warn("[Yox warn]: "+e)}function error(e){nativeConsole&&nativeConsole.error("[Yox error]: "+e)}function fatal(e){throw new Error("[Yox fatal]: "+e)}var nextTick,logger=Object.freeze({log:log,warn:warn,error:error,fatal:fatal}),Emitter=function(e){this.ns=e||FALSE,this.listeners={}};function parseNamespace(e,t){var n={name:t,ns:EMPTY_STRING};if(e){var r=indexOf$1(t,".");r>=0&&(n.name=slice(t,0,r),n.ns=slice(t,r+1))}return n}function createMatchListener(e){return object(e)?function(t){return e===t}:func(e)?function(t){return e===t.fn}:function(e){return TRUE}}function matchNamespace(e,t){return!e.length||e===t.ns}function isNative(e){return func(e)&&/native code/.test(toString$1(e))}Emitter.prototype.fire=function(e,t,n){var r,i,o;e instanceof CustomEvent?(r=e,i=e.type,o=object(t)?[r,t]:r):(i=e,t&&(o=t));var a=this,s=parseNamespace(a.ns,i),c=s.name,u=s.ns,E=a.listeners[c],f=TRUE;return E&&each(copy(E),function(e,s,c){if((n?n(e,t):matchNamespace(u,e))&&has(c,e)){r&&(r.listener=e.fn);var E=execute(e.fn,e.ctx,o);return e.num=e.num?e.num+1:1,e.num===e.max&&a.off(i,e),r&&(E===FALSE?r.prevent().stop():r.isStoped&&(E=FALSE)),E===FALSE?f=FALSE:void 0}}),f},Emitter.prototype.has=function(e,t){var n=this.listeners,r=parseNamespace(this.ns,e),i=r.name,o=r.ns,a=TRUE,s=createMatchListener(t),c=function(e){return each(e,function(e){if(s(e)&&matchNamespace(o,e))return a=FALSE}),a};return i?n[i]&&c(n[i]):o&&each$2(n,c),!a},Emitter.prototype.on=function(e,t,n){var r=this,i=r.listeners,o=function(e,t){if(e){var o=func(e)?{fn:e}:e;if(object(o)&&func(o.fn)){n&&extend(o,n);var a=parseNamespace(r.ns,t),s=a.name,c=a.ns;return o.ns=c,void push(i[s]||(i[s]=[]),o)}}};string(e)?o(t,e):each$2(e,o)},Emitter.prototype.off=function(e,t){var n=this.listeners;if(e){var r=parseNamespace(this.ns,e),i=r.name,o=r.ns,a=createMatchListener(t),s=function(e,t){each(e,function(e,t,n){a(e)&&matchNamespace(o,e)&&n.splice(t,1)},TRUE),e.length||delete n[t]};i?n[i]&&s(n[i],i):o&&each$2(n,s)}else this.listeners={}},typeof setImmediate===RAW_FUNCTION&&isNative(setImmediate)&&(nextTick=setImmediate);var shared,nextTick$1=nextTick=typeof MessageChannel===RAW_FUNCTION&&isNative(MessageChannel)?function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(1)}:setTimeout,NextTask=function(){this.nextTasks=[]};NextTask.shared=function(){return shared||(shared=new NextTask),shared},NextTask.prototype.append=function(e){push(this.nextTasks,e),this.start()},NextTask.prototype.prepend=function(e){unshift(this.nextTasks,e),this.start()},NextTask.prototype.start=function(){var e=this;1===e.nextTasks.length&&nextTick$1(function(){e.run()})},NextTask.prototype.clear=function(){this.nextTasks.length=0},NextTask.prototype.run=function(){var e=this.nextTasks;e.length&&(this.nextTasks=[],each(e,execute))};var SYNTAX_IF="#if",SYNTAX_ELSE="else",SYNTAX_ELSE_IF="else if",SYNTAX_EACH="#each",SYNTAX_PARTIAL="#partial",SYNTAX_IMPORT=">",SYNTAX_SPREAD="...",SYNTAX_COMMENT=/^!\s/,SLOT_DATA_PREFIX="$slot_",HINT_STRING=1,HINT_NUMBER=2,HINT_BOOLEAN=3,DIRECTIVE_ON="on",DIRECTIVE_LAZY="lazy",DIRECTIVE_MODEL="model",DIRECTIVE_EVENT="event",DIRECTIVE_BINDING="binding",DIRECTIVE_CUSTOM="o",HOOK_BEFORE_CREATE="beforeCreate",HOOK_AFTER_CREATE="afterCreate",HOOK_BEFORE_MOUNT="beforeMount",HOOK_AFTER_MOUNT="afterMount",HOOK_BEFORE_UPDATE="beforeUpdate",HOOK_AFTER_UPDATE="afterUpdate",HOOK_BEFORE_DESTROY="beforeDestroy",HOOK_AFTER_DESTROY="afterDestroy",ID="$id",VNODE="$vnode",LOADING="$loading",COMPONENT="$component",LEAVING="$leaving";function update(e,t,n){var r=t.node,i=t.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||EMPTY_OBJECT,s=o||EMPTY_OBJECT;each$2(a,function(t,n){s[n]&&t.value===s[n].value||e.attr(r,n,t.value)}),each$2(s,function(t,n){a[n]||e.removeAttr(r,n)})}}function update$1(e,t,n){var r=t.node,i=t.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||EMPTY_OBJECT,s=o||EMPTY_OBJECT;each$2(a,function(t,n){s[n]&&t.value===s[n].value||e.prop(r,n,t.value)}),each$2(s,function(t,n){a[n]||e.removeProp(r,n,t.hint)})}}function update$2(e,t){var n=e.data,r=e.directives,i=t&&t.directives;if(r||i){var o=n[COMPONENT]||e.node,a=t&&e.keypath!==t.keypath,s=r||EMPTY_OBJECT,c=i||EMPTY_OBJECT;each$2(s,function(n,r){var i=n.hooks,s=i.bind,u=i.unbind;c[r]?(n.value!==c[r].value||a)&&(u&&u(o,c[r],t),s(o,n,e)):s(o,n,e)}),each$2(c,function(e,n){if(!s[n]){var r=e.hooks.unbind;r&&r(o,e,t)}})}}function remove$1(e){var t=e.directives;if(t){var n=e.data[COMPONENT]||e.node;each$2(t,function(t){var r=t.hooks.unbind;r&&r(n,t,e)})}}function update$3(e,t){var n,r=e.data,i=e.ref,o=e.props,a=e.slots,s=e.context;if(e.isComponent?(n=r[COMPONENT],t&&(o&&n.set(n.checkPropTypes(o)),a&&n.set(a))):n=e.node,i){var c=s.$refs;c&&(c[i]=n)}}function isPatchable(e,t){return e.tag===t.tag&&e.key===t.key}function createKeyToIndex(e,t,n){for(var r,i,o;t<=n;)(i=e[t])&&(o=i.key)&&(r||(r={}),r[o]=t),t++;return r||EMPTY_OBJECT}function insertBefore(e,t,n,r){r?e.before(t,n,r):e.append(t,n)}function createComponent(e,t){if(t){var n=(e.parent||e.context).create(t,e,e.node),r=n.$el;return r&&(e.node=r),e.data[COMPONENT]=n,e.data[LOADING]=FALSE,update$3(e),update$2(e),n}}var guid=0;function createData(){var e={};return e[ID]=++guid,e}function createVnode(e,t){var n=t.tag,r=t.node,i=t.data,o=t.isComponent,a=t.isComment,s=t.isText,c=t.isStyle,u=t.children,E=t.text,f=t.html,p=t.context;if(!r||!i)if(i=createData(),t.data=i,s)t.node=e.createText(E);else if(a)t.node=e.createComment(E);else if(o){var l=TRUE;p.component(n,function(e){isDef(i[LOADING])?i[LOADING]&&(i[VNODE]&&(t=i[VNODE],delete i[VNODE]),enterVnode(t,createComponent(t,e))):(createComponent(t,e),l=FALSE)}),l&&(t.node=e.createComment(RAW_COMPONENT),i[LOADING]=TRUE)}else r=t.node=e.createElement(t.tag),u?addVnodes(e,r,u):E?e.text(r,E,c):f&&e.html(r,f,c),update(e,t),update$1(e,t),update$3(t),update$2(t)}function addVnodes(e,t,n,r,i,o){for(var a,s=r||0,c=isDef(i)?i:n.length-1;s<=c;)createVnode(e,a=n[s]),insertVnode(e,t,a,o),s++}function insertVnode(e,t,n,r){var i=n.node,o=n.data,a=n.context,s=e.parent(i);if(r?e.before(t,i,r.node):e.append(t,i),!s){var c;if(n.isComponent){var u=o[COMPONENT];u&&(c=function(){enterVnode(n,u)})}else n.isStatic||n.isText||n.isComment||(c=function(){enterVnode(n)});c&&a.nextTick(c,TRUE)}}function removeVnodes(e,t,n,r,i){for(var o,a=r||0,s=isDef(i)?i:n.length-1;a<=s;)(o=n[a])&&removeVnode(e,t,o),a++}function removeVnode(e,t,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)e.remove(t,r);else{var i,o=function(){destroyVnode(e,n),e.remove(t,r)};if(n.isComponent&&!(i=n.data[COMPONENT]))return void o();leaveVnode(n,i,o)}}function destroyVnode(e,t){var n=t.data,r=t.children,i=t.parent;t.context;if(!i||!i.$vnode||i===t.context)if(t.isComponent){var o=n[COMPONENT];o?(remove$1(t),o.destroy()):n[LOADING]=FALSE}else remove$1(t),r&&each(r,function(t){destroyVnode(e,t)})}function enterVnode(e,t){var n=e.data,r=e.transition;if(t&&!r&&(r=t.$vnode.transition),execute(n[LEAVING]),r){var i=r.enter;if(i)return void i(e.node,EMPTY_FUNCTION)}}function leaveVnode(e,t,n){var r=e.data,i=e.transition;if(t&&!i&&(i=t.$vnode.transition),i){var o=i.leave;if(o)return void o(e.node,r[LEAVING]=function(){r[LEAVING]&&(n(),r[LEAVING]=UNDEFINED)})}n()}function updateChildren(e,t,n,r){for(var i,o,a=0,s=n.length-1,c=n[a],u=n[s],E=0,f=r.length-1,p=r[E],l=r[f];E<=f&&a<=s;)c?u?p?l?isPatchable(c,p)?(patch(e,c,p),c=n[++a],p=r[++E]):isPatchable(u,l)?(patch(e,u,l),u=n[--s],l=r[--f]):isPatchable(u,p)?(patch(e,u,p),insertBefore(e,t,p.node,e.next(l.node)),u=n[--s],p=r[++E]):isPatchable(c,l)?(patch(e,c,l),insertBefore(e,t,l.node,p.node),c=n[++a],l=r[--f]):(i||(i=createKeyToIndex(r,E,f)),isDef(o=c.key?i[c.key]:UNDEFINED)?(patch(e,c,r[o]),r[o]=UNDEFINED):createVnode(e,c),insertVnode(e,t,c,p),c=n[++a]):l=r[--f]:p=r[++E]:u=n[--s]:c=n[++a];E>f?addVnodes(e,t,n,a,s,n[s+1]):a>s&&removeVnodes(e,t,r,E,f)}function patch(e,t,n){if(t!==n){var r=n.node,i=n.data;if(!isPatchable(t,n)){var o=e.parent(r);return createVnode(e,t),void(o&&(insertVnode(e,o,t,n),removeVnode(e,o,n)))}if(t.node=r,t.data=i,n.isComponent&&i[LOADING])i[VNODE]=t;else if(!t.isStatic||!n.isStatic){update(e,t,n),update$1(e,t,n),update$3(t,n),update$2(t,n);var a=t.text,s=t.html,c=t.children,u=t.isStyle,E=n.text,f=n.html,p=n.children;string(a)?a!==E&&e.text(r,a,u):string(s)?s!==f&&e.html(r,s,u):c&&p?c!==p&&updateChildren(e,r,c,p):c?((string(E)||string(f))&&e.text(r,EMPTY_STRING,u),addVnodes(e,r,c)):p?removeVnodes(e,r,p):(string(E)||string(f))&&e.text(r,EMPTY_STRING,u)}}}function create(e,t,n,r,i){return{tag:e.tag(t),data:createData(),isComment:n,node:t,context:r,keypath:i}}function destroy(e,t,n){if(n){var r=e.parent(t.node);r&&removeVnode(e,r,t)}else destroyVnode(e,t)}function toNumber(e,t){return numeric(e)?+e:isDef(t)?t:0}var LITERAL=1,IDENTIFIER=2,MEMBER=3,UNARY=4,BINARY=5,TERNARY=6,ARRAY=7,OBJECT=8,CALL=9;function createArray(e,t){return{type:ARRAY,raw:t,elements:e}}function createBinary(e,t,n,r){return{type:BINARY,raw:r,left:e,operator:t,right:n}}function createCall(e,t,n){return{type:CALL,raw:n,callee:e,args:t}}function createIdentifierInner(e,t,n,r,i){return{type:IDENTIFIER,raw:e,name:t,lookup:n===FALSE?n:UNDEFINED,offset:r>0?r:UNDEFINED,staticKeypath:isDef(i)?i:t}}function createMemberInner(e,t,n,r,i){return{type:MEMBER,raw:e,props:t,lookup:n===FALSE?n:UNDEFINED,offset:r>0?r:UNDEFINED,staticKeypath:i}}function createIdentifier(e,t,n){var r,i;return t!==KEYPATH_CURRENT&&t!==KEYPATH_PARENT||(r=FALSE,t===KEYPATH_PARENT&&(i=1),t=EMPTY_STRING),n?createLiteral(t,e):createIdentifierInner(e,t,r,i)}function createLiteral(e,t){return{type:LITERAL,raw:t,value:e}}function createObject(e,t,n){return{type:OBJECT,raw:n,keys:e,values:t}}function createTernary(e,t,n,r){return{type:TERNARY,raw:r,test:e,yes:t,no:n}}function createUnary(e,t,n){return{type:UNARY,raw:n,operator:e,arg:t}}function getLiteralNode(e,t){if(e[t]&&e[t].type===LITERAL)return e[t]}function createMemberIfNeeded(e,t){var n,r,i,o,a=t.length,s=0,c=EMPTY_STRING,u=[];if(a>1){if(t[0].type===IDENTIFIER){c=(o=t[0]).name,n=o.lookup,r=o.staticKeypath,o.offset>0&&(s+=o.offset),c&&push(u,o);for(var E=1;E<a;E++){if(i=getLiteralNode(t,E)){if(i.raw===KEYPATH_PARENT){s+=1;continue}isDef(r)&&i.raw!==KEYPATH_CURRENT&&(r=join$1(r,i.value))}else r=UNDEFINED;push(u,t[E])}u.length<a&&(i=getLiteralNode(t=u,0))&&(c=i.value,t[0]=createIdentifierInner(i.raw,c,n,s))}return t.length<2?createIdentifierInner(e,c,n,s,r):createMemberInner(e,t,n,s,r)}return t[0]}var unary={"+":{exec:function(e){return+e}},"-":{exec:function(e){return-e}},"~":{exec:function(e){return~e}},"!":{exec:function(e){return!e}},"!!":{exec:function(e){return!!e}}},binary={"*":{prec:14,exec:function(e,t){return e*t}},"/":{prec:14,exec:function(e,t){return e/t}},"%":{prec:14,exec:function(e,t){return e%t}},"+":{prec:13,exec:function(e,t){return e+t}},"-":{prec:13,exec:function(e,t){return e-t}},"<<":{prec:12,exec:function(e,t){return e<<t}},">>":{prec:12,exec:function(e,t){return e>>t}},">>>":{prec:12,exec:function(e,t){return e>>>t}},"<":{prec:11,exec:function(e,t){return e<t}},"<=":{prec:11,exec:function(e,t){return e<=t}},">":{prec:11,exec:function(e,t){return e>t}},">=":{prec:11,exec:function(e,t){return e>=t}},"==":{prec:10,exec:function(e,t){return e==t}},"!=":{prec:10,exec:function(e,t){return e!=t}},"===":{prec:10,exec:function(e,t){return e===t}},"!==":{prec:10,exec:function(e,t){return e!==t}},"&":{prec:9,exec:function(e,t){return e&t}},"^":{prec:8,exec:function(e,t){return e^t}},"|":{prec:7,exec:function(e,t){return e|t}},"&&":{prec:6,exec:function(e,t){return e&&t}},"||":{prec:5,exec:function(e,t){return e||t}},"->":{prec:0,exec:function(e,t){return e>t?function(n){for(var r=e,i=0;r>t;r--)n(r,i++)}:function(n){for(var r=e,i=0;r<t;r++)n(r,i++)}}},"=>":{prec:0,exec:function(e,t){return e>t?function(n){for(var r=e,i=0;r>=t;r--)n(r,i++)}:function(n){for(var r=e,i=0;r<=t;r++)n(r,i++)}}}};function compile(e){if(!cache[e]){var t=new Parser(e);cache[e]=t.scanTernary(CODE_EOF)}return cache[e]}var Parser=function(e){var t=e.length;this.index=-1,this.end=t,this.code=CODE_EOF,this.content=e,this.go()};Parser.prototype.go=function(e){var t=this.index,n=this.end;(t+=e||1)>=0&&t<n?(this.code=codeAt(this.content,t),this.index=t):(this.code=CODE_EOF,this.index=t<0?-1:n)},Parser.prototype.skip=function(e){for(this.code===CODE_EOF&&this.go(e);TRUE;){if(!isWhitespace(this.code)){e&&e<0&&this.go();break}this.go(e)}},Parser.prototype.is=function(e){return this.code===e},Parser.prototype.pick=function(e,t){return slice(this.content,e,isDef(t)?t:this.index)},Parser.prototype.scanToken=function(){var e=this.code,t=this.index;if(isIdentifierStart(e))return this.scanTail(t,[this.scanIdentifier(t)]);if(isDigit(e))return this.scanNumber(t);switch(e){case CODE_EOF:return;case CODE_SQUOTE:case CODE_DQUOTE:return this.scanTail(t,[this.scanString(t,e)]);case CODE_DOT:return this.go(),isDigit(this.code)?this.scanNumber(t):this.scanPath(t);case CODE_OPAREN:return this.go(),this.scanTernary(CODE_CPAREN);case CODE_OBRACK:return this.scanTail(t,[createArray(this.scanTuple(t,CODE_CBRACK),this.pick(t))]);case CODE_OBRACE:return this.scanObject(t)}var n=this.scanOperator(t);if(n&&unary[n]){var r=this.scanTernary();if(r){if(r.type===LITERAL){var i=r.value;if(number(i))return this.skip(-1),createLiteral(-i,this.pick(t))}return this.skip(-1),createUnary(n,r,this.pick(t))}}},Parser.prototype.scanNumber=function(e){for(;isNumber(this.code);)this.go();var t=this.pick(e);if(numeric(t))return createLiteral(+t,t)},Parser.prototype.scanString=function(e,t){e:for(;TRUE;)switch(this.go(),this.code){case CODE_BACKSLASH:this.go();break;case t:this.go();break e;case CODE_EOF:break e}var n=this.pick(e);return createLiteral(new Function("return "+n)(),n)},Parser.prototype.scanObject=function(e){var t,n=[],r=[],i=TRUE;this.go();e:for(;TRUE;)switch(this.code){case CODE_CBRACE:this.go();break e;case CODE_EOF:break e;case CODE_COLON:this.go(),i=FALSE;break;case CODE_COMMA:this.go(),i=TRUE;break;default:if(t=this.scanTernary(),i){if(t)if(this.skip(),t.type===IDENTIFIER)push(n,t.name);else{if(t.type!==LITERAL)break e;push(n,t.value)}}else{if(!t)break e;this.skip(),push(r,t)}}return createObject(n,r,this.pick(e))},Parser.prototype.scanTuple=function(e,t){var n,r=[];this.go();e:for(;TRUE;)switch(this.code){case t:this.go();break e;case CODE_EOF:break e;case CODE_COMMA:this.go();break;default:(n=this.scanTernary())&&(this.skip(),push(r,n))}return r},Parser.prototype.scanPath=function(e){for(var t,n=[];TRUE&&(t=KEYPATH_CURRENT,this.is(CODE_DOT)&&(this.go(),t=KEYPATH_PARENT),push(n,createIdentifier(t,t,n.length>0)),this.is(CODE_SLASH));){if(this.go(),isIdentifierPart(this.code))return push(n,this.scanIdentifier(this.index,TRUE)),this.scanTail(e,n);if(!this.is(CODE_DOT))break;this.go()}},Parser.prototype.scanTail=function(e,t){var n;e:for(;TRUE;)switch(this.code){case CODE_OPAREN:t=[createCall(createMemberIfNeeded(this.pick(e),t),this.scanTuple(this.index,CODE_CPAREN),this.pick(e))];break;case CODE_DOT:if(this.go(),isIdentifierPart(this.code)){push(t,this.scanIdentifier(this.index,TRUE));break}break e;case CODE_OBRACK:if(this.go(),n=this.scanTernary(CODE_CBRACK)){push(t,n);break}break e;default:break e}return createMemberIfNeeded(this.pick(e),t)},Parser.prototype.scanIdentifier=function(e,t){for(;isIdentifierPart(this.code);)this.go();var n=this.pick(e);return!t&&has$2(keywordLiterals,n)?createLiteral(keywordLiterals[n],n):createIdentifier(n,n,t)},Parser.prototype.scanOperator=function(e){switch(this.code){case CODE_PLUS:case CODE_DIVIDE:case CODE_MODULO:case CODE_WAVE:case CODE_XOR:case CODE_MULTIPLY:this.go();break;case CODE_MINUS:this.go(),this.is(CODE_GREAT)&&this.go();break;case CODE_NOT:this.go(),this.is(CODE_NOT)?this.go():this.is(CODE_EQUAL)&&(this.go(),this.is(CODE_EQUAL)&&this.go());break;case CODE_AND:this.go(),this.is(CODE_AND)&&this.go();break;case CODE_OR:this.go(),this.is(CODE_OR)&&this.go();break;case CODE_EQUAL:this.go(),this.is(CODE_EQUAL)?(this.go(),this.is(CODE_EQUAL)&&this.go()):this.is(CODE_GREAT)&&this.go();break;case CODE_LESS:this.go(),(this.is(CODE_EQUAL)||this.is(CODE_LESS))&&this.go();break;case CODE_GREAT:this.go(),this.is(CODE_EQUAL)?this.go():this.is(CODE_GREAT)&&(this.go(),this.is(CODE_GREAT)&&this.go())}if(this.code>e)return this.pick(e)},Parser.prototype.scanBinary=function(){for(var e,t,n,r,i,o,a=[];TRUE&&(this.skip(),push(a,this.index),(e=this.scanToken())&&(push(a,e),push(a,this.index),this.skip(),(n=this.scanOperator(this.index))&&(r=binary[n])));)(i=a[t=a.length-4])&&(o=binary[i])&&o.prec>=r.prec&&a.splice(t-2,5,createBinary(a[t-2],i,a[t+2],this.pick(a[t-3],a[t+3]))),push(a,n);for(;TRUE;){if(!(a.length>=7))return a[1];t=a.length-4,a.splice(t-2,5,createBinary(a[t-2],a[t],a[t+2],this.pick(a[t-3],a[t+3])))}},Parser.prototype.scanTernary=function(e){this.skip();var t,n,r=this.index,i=this.scanBinary();return this.is(CODE_QUESTION)&&(this.go(),t=this.scanBinary(),this.is(CODE_COLON)&&(this.go(),n=this.scanBinary()),i&&t&&n&&(this.skip(-1),i=createTernary(i,t,n,this.pick(r)))),isDef(e)&&(this.skip(),this.is(e)&&this.go()),i},Parser.prototype.fatal=function(e,t){};var cache={},CODE_EOF=0,CODE_DOT=46,CODE_COMMA=44,CODE_SLASH=47,CODE_BACKSLASH=92,CODE_SQUOTE=39,CODE_DQUOTE=34,CODE_OPAREN=40,CODE_CPAREN=41,CODE_OBRACK=91,CODE_CBRACK=93,CODE_OBRACE=123,CODE_CBRACE=125,CODE_QUESTION=63,CODE_COLON=58,CODE_PLUS=43,CODE_MINUS=45,CODE_MULTIPLY=42,CODE_DIVIDE=47,CODE_MODULO=37,CODE_WAVE=126,CODE_AND=38,CODE_OR=124,CODE_XOR=94,CODE_NOT=33,CODE_LESS=60,CODE_EQUAL=61,CODE_GREAT=62,keywordLiterals={};function isWhitespace(e){return e>0&&e<33||160===e}function isDigit(e){return e>47&&e<58}function isNumber(e){return isDigit(e)||e===CODE_DOT}function isIdentifierStart(e){return 36===e||95===e||e>96&&e<123||e>64&&e<91}function isIdentifierPart(e){return isIdentifierStart(e)||isDigit(e)}keywordLiterals[RAW_TRUE]=TRUE,keywordLiterals[RAW_FALSE]=FALSE,keywordLiterals[RAW_NULL]=NULL,keywordLiterals[RAW_UNDEFINED]=UNDEFINED;var ELEMENT=1,ATTRIBUTE=2,DIRECTIVE=3,PROPERTY=4,TEXT=5,IF=6,ELSE_IF=7,ELSE=8,EACH=9,PARTIAL=10,IMPORT=11,EXPRESSION=12,SPREAD=13,specialTags={},specialAttrs={},name2Type={};specialTags[RAW_SLOT]=specialTags[RAW_TEMPLATE]=specialAttrs[RAW_KEY]=specialAttrs[RAW_REF]=specialAttrs[RAW_SLOT]=TRUE,name2Type.if=IF,name2Type.each=EACH,name2Type.partial=PARTIAL;var helper=Object.freeze({specialTags:specialTags,specialAttrs:specialAttrs,name2Type:name2Type});function createAttribute(e){return{type:ATTRIBUTE,isStatic:TRUE,name:e}}function createDirective(e,t,n,r,i){return{type:DIRECTIVE,name:e,modifier:t,value:n,expr:r,children:i}}function createProperty(e,t,n,r,i){return{type:PROPERTY,isStatic:TRUE,name:e,hint:t,value:n,expr:r,children:i}}function createEach(e,t){return{type:EACH,expr:e,index:t,isComplex:TRUE}}function createElement(e,t,n){return t&&(n=FALSE),{type:ELEMENT,tag:e,isSvg:t,isStyle:"style"===e,isComponent:n,isStatic:!n&&e!==RAW_SLOT}}function createElse(){return{type:ELSE}}function createElseIf(e){return{type:ELSE_IF,expr:e}}function createExpression(e,t){return{type:EXPRESSION,expr:e,safe:t,isLeaf:TRUE}}function createIf(e){return{type:IF,expr:e}}function createImport(e){return{type:IMPORT,name:e,isComplex:TRUE,isLeaf:TRUE}}function createPartial(e){return{type:PARTIAL,name:e,isComplex:TRUE}}function createSpread(e,t){return{type:SPREAD,expr:e,binding:t,isLeaf:TRUE}}function createText(e){return{type:TEXT,text:e,isStatic:TRUE,isLeaf:TRUE}}var compileCache={},patternCache$1={},directiveSeparator="-",blockPattern=/(\{?\{\{)\s*([^\}]+?)\s*(\}\}\}?)/,tagPattern=/<(\/)?([$a-z][-a-z0-9]*)/i,attributePattern=/^\s*([-:\w]+)(['"])?(?:=(['"]))?/,componentNamePattern=/^[$A-Z]|-/,selfClosingTagPattern=/^\s*(\/)?>/,selfClosingTagNames="area,base,embed,track,source,param,input,col,img,br,hr".split(","),svgTagNames="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),stringProperyNames="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),numberProperyNames="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),booleanProperyNames="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),attr2Prop={};function slicePrefix(e,t){return trim(slice(e,t.length))}function trimBreakline(e){return e.replace(/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,EMPTY_STRING)}function compile$1(e){var t=compileCache[e];if(t)return t;t=[];for(var n,r,i,o,a,s=[],c=[],u=e.replace(/<!--[\s\S]*?-->/g,EMPTY_STRING),E=FALSE,f=FALSE,p=function(e){var t=last(s);t&&t.type===ELEMENT&&t.tag!==e&&has(selfClosingTagNames,t.tag)&&l(t.type,t.tag)},l=function(e,t){var r=pop(s);if(r&&r.type===e){var i=r.children,o=i&&1===i.length&&i[0],a=e===ELEMENT,c=e===ATTRIBUTE,u=e===PROPERTY,E=e===DIRECTIVE,f=last(s);if(f&&(f.isStatic&&!r.isStatic&&(f.isStatic=FALSE),f.isComplex||!r.isComplex&&!a||(f.isComplex=TRUE)),o)switch(o.type){case TEXT:a||(c?N(r,o):u?d(r,o):E&&m(r,o));break;case EXPRESSION:a?h(r,o):c?A(r,o):u&&R(r,o)}else i||n&&(c?v(n,r):u?T(n,r):E&&y(n,r));return e===EACH?O(r):e===PARTIAL?_(r):a?g(r):n&&c&&I(n,r)&&C(n,r),r}},h=function(e,t){e.isComponent||e.slot||t.safe||(e.html=t.expr,e.children=UNDEFINED)},T=function(e,t){t.hint===HINT_BOOLEAN?t.value=TRUE:D(t)},d=function(e,t){var n=t.text;e.hint===HINT_NUMBER?e.value=toNumber(n):e.hint===HINT_BOOLEAN?e.value=n===RAW_TRUE||n===e.name:e.value=n,e.children=UNDEFINED},R=function(e,t){var n=t.expr;e.expr=n,e.children=UNDEFINED,n[RAW_STATIC_KEYPATH]&&(e.binding=TRUE)},v=function(e,t){var n=t.name;I(e,t)||(e.isComponent?t.value=TRUE:t.value=startsWith(n,"data-")?EMPTY_STRING:n)},N=function(e,t){e.value=t.text,e.children=UNDEFINED},A=function(e,t){var n=t.expr;e.expr=n,e.children=UNDEFINED,n[RAW_STATIC_KEYPATH]&&(e.binding=TRUE)},y=function(e,t){t.value=TRUE},m=function(e,t){var n=t.text;if(e.name===DIRECTIVE_LAZY){if(numeric(n)){var r=toNumber(n);r>0&&(e.value=r)}}else{var i=compile(n);e.name,e.name;i&&(e.expr=i),e.value=n}e.children=UNDEFINED},O=function(e){e.children||D(e)},_=function(e){e.children||D(e)},g=function(e){e.isStyle&&falsy(e.attrs)&&(e.attrs=[createProperty(RAW_TYPE,HINT_STRING,"text/css")])},C=function(e,t){var n=t.name,r=t.value,i=n===RAW_NAME||n===RAW_SLOT;e[n]=i?r:t,D(t)},I=function(e,t){return specialAttrs[t.name]||e.tag===RAW_SLOT&&t.name===RAW_NAME},D=function(e,r){var i,o,a,c=last(s);(o=c?(i=n&&n===c)?c.attrs:c.children:t)&&(a=indexOf(o,e))>=0&&(r?o[a]=r:(o.splice(a,1),c&&!o.length&&(i?delete c.attrs:c.children=UNDEFINED)))},S=function(e){n||p();var r=e.type,i=last(s);if(r===ELSE||r===ELSE_IF){var o=pop(c);o&&(e.prev=o,o.type!==ELSE_IF&&o.type!==IF||(o.next=e,l(o.type),push(c,e)))}else push(i?n&&i.type===ELEMENT?n.attrs||(n.attrs=[]):i.children||(i.children=[]):t,e),r===IF&&(n||(e.stub=TRUE),push(c,e));e.isLeaf?i&&(i.isStatic&&!e.isStatic&&(i.isStatic=FALSE),!i.isComplex&&e.isComplex&&(i.isComplex=TRUE)):push(s,e)},x=function(e){(e=trimBreakline(e))&&S(createText(e))},P=[function(e){if(!n){var t=e.match(tagPattern);if(t&&0===t.index){var r=t[2];if("/"===t[1])p(r),l(ELEMENT,r);else{var i=createElement(r,has(svgTagNames,r),componentNamePattern.test(r));S(i),n=i}return t[0]}}},function(e){var t=e.match(selfClosingTagPattern);if(t)return n&&!r&&("/"===t[1]&&l(n.type,n.tag),n=UNDEFINED),t[0]},function(e){if(n&&!r){var t=e.match(attributePattern);if(t){var o,a=t[1];if(a===DIRECTIVE_MODEL||a===RAW_TRANSITION)o=createDirective(camelize(a));else if(startsWith(a,DIRECTIVE_ON+directiveSeparator)){var s=slicePrefix(a,DIRECTIVE_ON+directiveSeparator);o=createDirective(DIRECTIVE_EVENT,camelize(s))}else if(startsWith(a,DIRECTIVE_LAZY)){var c=slicePrefix(a,DIRECTIVE_LAZY);startsWith(c,directiveSeparator)&&(c=slicePrefix(c,directiveSeparator)),o=createDirective(DIRECTIVE_LAZY,c?camelize(c):EMPTY_STRING)}else if(startsWith(a,DIRECTIVE_CUSTOM+directiveSeparator)){var u=slicePrefix(a,DIRECTIVE_CUSTOM+directiveSeparator);o=createDirective(DIRECTIVE_CUSTOM,camelize(u))}else if(n.isComponent)o=createAttribute(camelize(a));else{var E=a.toLowerCase();o=specialTags[n.tag]?createAttribute(a):has(stringProperyNames,E)?createProperty(attr2Prop[E]||E,HINT_STRING):has(numberProperyNames,E)?createProperty(attr2Prop[E]||E,HINT_NUMBER):has(booleanProperyNames,E)?createProperty(attr2Prop[E]||E,HINT_BOOLEAN):createAttribute(a)}return S(o),(i=t[3])?r=o:l(o.type),t[0]}}},function(e){var t,o;return r&&i?(o=e.match(patternCache$1[i]||(patternCache$1[i]=new RegExp(i))))?(t=slice(e,0,o.index),x(t),t+=i,r.children||S(createText(EMPTY_STRING)),l(r.type),r=UNDEFINED):f&&x(t=e):n?t=e:(t=(o=e.match(tagPattern))&&o.index>0?slice(e,0,o.index):e,x(t)),t}],L=[function(e){if(startsWith(e,SYNTAX_EACH)){var t=(e=slicePrefix(e,SYNTAX_EACH)).replace(/\s+/g,EMPTY_STRING).split(":");if(t[0]){var r=compile(trim(t[0]));if(r&&!n)return createEach(r,trim(t[1]))}}},function(e){if(startsWith(e,SYNTAX_IMPORT)&&(e=slicePrefix(e,SYNTAX_IMPORT))&&!n)return createImport(e)},function(e){if(startsWith(e,SYNTAX_PARTIAL)&&(e=slicePrefix(e,SYNTAX_PARTIAL))&&!n)return createPartial(e)},function(e){if(startsWith(e,SYNTAX_IF)){var t=compile(e=slicePrefix(e,SYNTAX_IF));if(t)return createIf(t)}},function(e){if(startsWith(e,SYNTAX_ELSE_IF)){var t=compile(e=slicePrefix(e,SYNTAX_ELSE_IF));if(t)return createElseIf(t)}},function(e){if(startsWith(e,SYNTAX_ELSE)&&!trim(e=slicePrefix(e,SYNTAX_ELSE)))return createElse()},function(e){if(startsWith(e,SYNTAX_SPREAD)){var t=compile(e=slicePrefix(e,SYNTAX_SPREAD));if(t&&n&&n.isComponent)return createSpread(t,string(t[RAW_STATIC_KEYPATH])?TRUE:FALSE)}},function(e){if(!SYNTAX_COMMENT.test(e)){var t=compile(e=trim(e));if(t)return createExpression(t,E)}}],b=function(e){for(var t=e;t;)each(P,function(e){var n=e(t);if(n)return t=slice(t,n.length),FALSE});u=slice(u,e.length)},U=function(e,t){if(e)if("/"===charAt(e)){p();var n,r=slice(e,1),i=name2Type[r];if(i===IF){var o=pop(c);o&&(i=o.type,n=TRUE)}var a=l(i);a&&n&&function(e){for(var t,n,r,i=e;TRUE&&(i.children&&(r||i.next&&delete i.next,n=r=TRUE),t=i.prev);)delete i.prev,i=t;n||D(i)}(a)}else each(L,function(t){var n=t(e);if(n)return S(n),FALSE});u=slice(u,t.length)};u;)(a=u.match(blockPattern))?(f=TRUE,a.index>0&&b(slice(u,0,a.index)),(o=a[1].length)===a[3].length&&(E=2===o,U(a[2],a[0]))):(f=FALSE,b(u));return compileCache[e]=t}function isUndef(e){return e===UNDEFINED}function toJSON(e){return JSON.stringify(e)}attr2Prop.for="htmlFor",attr2Prop.class="className",attr2Prop.accesskey="accessKey",attr2Prop.style="style.cssText",attr2Prop.novalidate="noValidate",attr2Prop.readonly="readOnly",attr2Prop.tabindex="tabIndex",attr2Prop.minlength="minLength",attr2Prop.maxlength="maxLength";var isStringRequired,joinStack=[],collectStack=[],nodeStringify={},RENDER_SLOT="a",RENDER_EACH="b",RENDER_EXPRESSION="c",RENDER_EXPRESSION_ARG="d",RENDER_EXPRESSION_VNODE="e",RENDER_TEXT_VNODE="f",RENDER_ELEMENT_VNODE="g",RENDER_PARTIAL="h",RENDER_IMPORT="i",ARG_CONTEXT="j",SEP_COMMA=",",SEP_COLON=":",SEP_PLUS="+",STRING_TRUE="!0",STRING_FALSE="!1",STRING_EMPTY=toJSON(EMPTY_STRING),CODE_RETURN="return ",CODE_PREFIX="function("+join([RENDER_EXPRESSION,RENDER_EXPRESSION_ARG,RENDER_EXPRESSION_VNODE,RENDER_TEXT_VNODE,RENDER_ELEMENT_VNODE,RENDER_SLOT,RENDER_PARTIAL,RENDER_IMPORT,RENDER_EACH],SEP_COMMA)+"){return ",CODE_SUFFIX="}";function stringifyObject(e){var t=[];return each$2(e,function(e,n){isDef(e)&&push(t,""+toJSON(n)+SEP_COLON+e)}),"{"+join(t,SEP_COMMA)+"}"}function stringifyArray(e){return"["+join(e,SEP_COMMA)+"]"}function stringifyCall(e,t){return e+"("+t+")"}function stringifyFunction(e,t){return"function("+(t||EMPTY_STRING)+"){"+(e||EMPTY_STRING)+"}"}function stringifyGroup(e){return"("+e+")"}function stringifyExpression(e,t,n){var r=[toJSON(t)];return n&&push(r,n),stringifyCall(e,join(r,SEP_COMMA))}function stringifyExpressionArg(e){return stringifyExpression(RENDER_EXPRESSION_ARG,e,[ARG_CONTEXT])}function stringifyValue(e,t,n){return isDef(e)?toJSON(e):t?stringifyExpression(RENDER_EXPRESSION,t):n?(isStringRequired=n.length>1,stringifyChildren(n)):void 0}function stringifyChildren(e,t){var n=e.length>1&&!t;push(joinStack,n);var r=join(e.map(function(e){return nodeStringify[e.type](e)}),n?SEP_PLUS:SEP_COMMA);return pop(joinStack),r}function stringifyConditionChildren(e,t){if(e){var n=stringifyChildren(e,t);return e.length>1&&t?stringifyGroup(n):n}}function stringifyIf(e,t){var n,r,i=e.children,o=e.isComplex,a=e.next,s=stringifyExpression(RENDER_EXPRESSION,e.expr),c=stringifyConditionChildren(i,o);return a?n=a.type===ELSE?stringifyConditionChildren(a.children,a.isComplex):stringifyIf(a,t):t&&(n=renderElement(stringifyObject({isComment:STRING_TRUE,text:STRING_EMPTY}))),isDef(c)||isDef(n)?(r=s+"?"+(isDef(c)?c:STRING_EMPTY)+":"+(isDef(n)?n:STRING_EMPTY),last(joinStack)?stringifyGroup(r):r):STRING_EMPTY}function trimArgs(e){var t=[],n=TRUE;return each(e,function(e){isDef(e)?(n=FALSE,unshift(t,e)):n||unshift(t,STRING_FALSE)},TRUE),t}function renderElement(e,t,n,r){return stringifyCall(RENDER_ELEMENT_VNODE,join(trimArgs([e,t,n,r]),SEP_COMMA))}function getComponentSlots(e){var t={},n=function(e,n){falsy(n)||push(t[e=SLOT_DATA_PREFIX+e]||(t[e]=[]),n)};if(each(e,function(e){if(e.type===ELEMENT){var t=e;if(t.slot)return void n(t.slot,t.children)}n("children",[e])}),each$2(t,function(e,n){t[n]=stringifyFunction(stringifyChildren(e,TRUE))}),!falsy$2(t))return stringifyObject(t)}function stringify(e){return CODE_PREFIX+nodeStringify[e.type](e)+CODE_SUFFIX}function hasStringify(e){return startsWith(e,CODE_PREFIX)}nodeStringify[ELEMENT]=function(e){var t,n,r,i=e.tag,o=e.isComponent,a=e.isSvg,s=e.isStyle,c=e.isStatic,u=e.isComplex,E=e.name,f=e.ref,p=e.key,l=e.html,h=e.attrs,T=e.children,d={},R=[];return i===RAW_SLOT?(r=[toJSON(SLOT_DATA_PREFIX+E)],T&&push(r,stringifyFunction(stringifyChildren(T,TRUE))),stringifyCall(RENDER_SLOT,join(r,SEP_COMMA))):(push(collectStack,FALSE),h&&each(h,function(e){push(R,nodeStringify[e.type](e))}),d.tag=toJSON(i),a&&(d.isSvg=STRING_TRUE),s&&(d.isStyle=STRING_TRUE),c&&(d.isStatic=STRING_TRUE),f&&(d.ref=stringifyValue(f.value,f.expr,f.children)),p&&(d.key=stringifyValue(p.value,p.expr,p.children)),l&&(d.html=stringifyExpression(RENDER_EXPRESSION,l,[STRING_TRUE])),o?(d.isComponent=STRING_TRUE,T&&(collectStack[collectStack.length-1]=TRUE,n=getComponentSlots(T))):T&&(isStringRequired=TRUE,collectStack[collectStack.length-1]=u,t=stringifyChildren(T,u),u?t=stringifyFunction(t):(d.text=t,t=UNDEFINED)),pop(collectStack),renderElement(stringifyObject(d),falsy(R)?UNDEFINED:stringifyArray(R),t||UNDEFINED,n))},nodeStringify[ATTRIBUTE]=function(e){var t={type:e.type,name:toJSON(e.name),binding:e.binding};return e.binding?t.expr=toJSON(e.expr):t.value=stringifyValue(e.value,e.expr,e.children),stringifyObject(t)},nodeStringify[PROPERTY]=function(e){var t={type:e.type,name:toJSON(e.name),hint:e.hint,binding:e.binding};return e.binding?t.expr=toJSON(e.expr):t.value=stringifyValue(e.value,e.expr,e.children),stringifyObject(t)},nodeStringify[DIRECTIVE]=function(e){var t=e.type,n=e.name,r=e.value,i=e.expr,o={type:t,ns:toJSON(n),name:toJSON(e.modifier)};if(i)if(i.type===CALL){var a=i.callee,s=i.args;o.method=toJSON(a.name),falsy(s)||(o.args=stringifyFunction(CODE_RETURN+stringifyArray(s.map(stringifyExpressionArg)),ARG_CONTEXT))}else n===DIRECTIVE_EVENT?o.event=toJSON(i.name):n===DIRECTIVE_MODEL?o.expr=toJSON(i):n===DIRECTIVE_CUSTOM&&(i.type===LITERAL?o.value=toJSON(i.value):o.getter=stringifyFunction(CODE_RETURN+stringifyExpressionArg(i),ARG_CONTEXT));return isUndef(o.value)&&isDef(r)&&(o.value=toJSON(r)),stringifyObject(o)},nodeStringify[SPREAD]=function(e){return stringifyObject({type:e.type,expr:toJSON(e.expr),binding:e.binding})},nodeStringify[TEXT]=function(e){var t=toJSON(e.text);return last(collectStack)&&!last(joinStack)?stringifyCall(RENDER_TEXT_VNODE,t):t},nodeStringify[EXPRESSION]=function(e){var t=RENDER_EXPRESSION,n=[isStringRequired?STRING_TRUE:UNDEFINED];return last(collectStack)&&!last(joinStack)&&(t=RENDER_EXPRESSION_VNODE),stringifyExpression(t,e.expr,trimArgs(n))},nodeStringify[IF]=function(e){return stringifyIf(e,e.stub)},nodeStringify[EACH]=function(e){var t=toJSON(e.expr),n=e.index?", "+toJSON(e.index):EMPTY_STRING,r=stringifyFunction(stringifyChildren(e.children,e.isComplex));return stringifyCall(RENDER_EACH,""+t+n+","+r)},nodeStringify[PARTIAL]=function(e){var t=toJSON(e.name),n=stringifyFunction(stringifyChildren(e.children,e.isComplex));return stringifyCall(RENDER_PARTIAL,t+","+n)},nodeStringify[IMPORT]=function(e){var t=toJSON(e.name);return stringifyCall(RENDER_IMPORT,""+t)};var nodeExecutor={};function execute$1(e,t,n){return nodeExecutor[e.type](e,t,n)}function setPair(e,t,n,r){(e[t]||(e[t]={}))[n]=r}function render(e,t,n,r,i,o){var a,s=EMPTY_STRING,c={$keypath:s},u=[s,c],E=[],f={},p=function(n,r,i,o,s,c){var u=join$1(n[r],i),E=n[r+1];if(o.absoluteKeypath=u,isUndef(c)&&(c=u),a&&has$2(a,i))return a[i];if(has$2(E,i))return E[i];if(has$2(E,"$item")){if(E=E.$item,i===EMPTY_STRING)return E;if(E&&has$2(E,i))return E[i]}var f=e.get(u,p,s);if(f===p){if(o.lookup!==FALSE&&r>1)return p(n,r-=2,i,o,s,c);if(!(f=get(t,i)))return o.absoluteKeypath=c,void warn("data ["+o.raw+"] is not found.");f=f.value}return f},l=function(t,n,r){var i=r||u,o=i.length;return execute$1(t,function(e,t){return p(i,o-2*((t.offset||0)+1),e,t,n)},e)},h=function(e,t){var n=t.expr,i=l(n,TRUE),o=join$1(DIRECTIVE_BINDING,t.name),a=r[DIRECTIVE_BINDING];return a&&setPair(e,"directives",o,{ns:DIRECTIVE_BINDING,name:t.name,key:o,hooks:a,binding:n.absoluteKeypath,hint:t.hint}),i},T=function(t){return function(n,r){n.type!==t&&(n=new CustomEvent(t,n)),e.fire(n,r)}},d=function(t,n,r){return function(i,o){var s,c=e[t];i instanceof CustomEvent?(n?(a={$event:i,$data:o},s=execute(c,e,n(r)),a=UNDEFINED):s=execute(c,e,o?[i,o]:i),s===FALSE&&i.prevent().stop()):execute(c,e,n?n(r):UNDEFINED)}},R=function(e,t){return function(){return e(t)}},v=function(e,t){var n=l(e);return t?toString$1(n):n},N=function(e,t){return l(e,UNDEFINED,t)},A=function(e,t){y(v(e,t))},y=function(t){var n=last(E);if(n){var r=last(n);r&&r.isText?r.text+=t:push(n,{isText:TRUE,text:t,context:e,keypath:s})}},m=function(t,n,o,a){if(n&&(each(n,function(e){var n=e.name,o=e.value;switch(e.type){case ATTRIBUTE:e.binding&&(o=h(t,e)),t.isComponent?setPair(t,"props",n,o):setPair(t,"nativeAttrs",n,{name:n,value:o});break;case PROPERTY:setPair(t,"nativeProps",n,{name:n,value:e.binding?h(t,e):o,hint:e.hint});break;case DIRECTIVE:!function(e,t){var n,o,a,s,c,E=t.ns,f=t.name,p=t.value,h=join$1(E,f);switch(E){case DIRECTIVE_EVENT:o=r[DIRECTIVE_EVENT],s=t.event?T(t.event):d(t.method,t.args,u);break;case RAW_TRANSITION:return void((c=i[p])&&(e.transition=c));case DIRECTIVE_MODEL:o=r[DIRECTIVE_MODEL],e.model=l(t.expr,TRUE),n=t.expr.absoluteKeypath;break;case DIRECTIVE_LAZY:return void setPair(e,"lazy",f,p);default:o=r[f],t.method?s=d(t.method,t.args,u):t.getter&&(a=R(t.getter,u))}o&&setPair(e,"directives",h,{ns:E,name:f,key:h,value:p,binding:n,hooks:o,getter:a,handler:s})}(t,e);break;case SPREAD:!function(e,t){var n=t.expr,i=l(n,t.binding);if(object(i)&&!array(i)){each$2(i,function(t,n){setPair(e,"props",n,t)});var o=n[RAW_ABSOLUTE_KEYPATH];if(o){var a=join$1(DIRECTIVE_BINDING,o),s=r[DIRECTIVE_BINDING];s&&setPair(e,"directives",a,{ns:DIRECTIVE_BINDING,name:EMPTY_STRING,key:a,hooks:s,binding:join$1(o,"*")})}}else warn("["+n.raw+"] 不是对象，延展个毛啊")}(t,e)}}),t.directives&&!t.lazy&&(t.lazy=EMPTY_OBJECT)),o)E.push(t.children=[]),o(),pop(E);else if(a){var c={};each$2(a,function(e,t){E.push([]),e(),c[t]=pop(E)}),t.slots=c}t.context=e,t.keypath=s;var f=last(E);return f&&push(f,t),t},O=function(t,n){var r=last(E),i=e.get(t);i?each(i,function(t){push(r,t),t.parent=e}):n&&n()},_=function(e,t){f[e]=t},g=function(e){if(f[e])f[e]();else{var t=n[e];t&&t(v,N,A,y,m,O,_,g,C)}},C=function(e,t,n){var r,i;func(t)?(i=t,r=UNDEFINED):(i=n,r=t);var o=l(e),a=e[RAW_ABSOLUTE_KEYPATH],E=a||join$1(s,e.raw),f=function(e,t){var n=s,o=c,f=u;s=join$1(E,t),c={},push(u=copy(u),s),push(u,c),c.$keypath=s,a||(c.$item=e),r&&(c[r]=t),i(e,t),s=n,c=o,u=f};array(o)?each(o,f):object(o)?each$2(o,f):func(o)&&o(f)};return o(v,N,A,y,m,O,_,g,C)}nodeExecutor[LITERAL]=function(e){return e.value},nodeExecutor[IDENTIFIER]=function(e,t){return t(e.name,e)},nodeExecutor[MEMBER]=function(e,t,n){var r,i,o=e.props,a=e.staticKeypath;if(isUndef(a)){(r=o[0]).type===IDENTIFIER?a=r.name:i=execute$1(r,t,n);for(var s=1,c=o.length;s<c;s++)a=join$1(a,execute$1(o[s],t,n))}return isDef(i)?(i=get(i,a))?i.value:UNDEFINED:t?t(a,e):void 0},nodeExecutor[UNARY]=function(e,t,n){return unary[e.operator].exec(execute$1(e.arg,t,n))},nodeExecutor[BINARY]=function(e,t,n){return binary[e.operator].exec(execute$1(e.left,t,n),execute$1(e.right,t,n))},nodeExecutor[TERNARY]=function(e,t,n){return execute$1(e.test,t,n)?execute$1(e.yes,t,n):execute$1(e.no,t,n)},nodeExecutor[ARRAY]=function(e,t,n){return e.elements.map(function(e){return execute$1(e,t,n)})},nodeExecutor[OBJECT]=function(e,t,n){var r={};return each(e.keys,function(i,o){r[i]=execute$1(e.values[o],t,n)}),r},nodeExecutor[CALL]=function(e,t,n){return execute(execute$1(e.callee,t,n),n,e.args.map(function(e){return execute$1(e,t,n)}))};var syncWatcherOptions={sync:TRUE},asyncWatcherOptions={sync:FALSE},Computed=function(e,t,n,r,i,o,a){var s=this;s.keypath=e,s.sync=t,s.cache=n,s.deps=[],s.context=i.context,s.observer=i,s.getter=o,s.setter=a,s.unique={},s.callback=function(t,n,r){var o=s.value,a=s.get(TRUE);a!==o&&i.diff(e,a,o)},(s.fixed=!falsy(r))&&(each(r,function(e){s.add(e)}),s.bind())};function matchBest(e,t){var n;return each(e,function(e){var r=match(t,e);if(r>=0)return n={name:e,prop:slice(t,r)},FALSE}),n}function readValue(e,t){if(e==NULL||t===EMPTY_STRING)return e;var n=get(e,t);return n?n.value:void 0}function diffString(e,t,n){var r=string(e),i=string(t);if(r||i)return n(RAW_LENGTH,r?e.length:UNDEFINED,i?t.length:UNDEFINED),TRUE}function diffArray(e,t,n){var r=array(e),i=array(t);if(r||i){var o=r?e.length:UNDEFINED,a=i?t.length:UNDEFINED;n(RAW_LENGTH,o,a);for(var s=0,c=Math.max(o||0,a||0);s<c;s++)n(s,e?e[s]:UNDEFINED,t?t[s]:UNDEFINED);return TRUE}}function diffObject(e,t,n){var r=object(e),i=object(t);(r||i)&&(e=r?e:EMPTY_OBJECT,t=i?t:EMPTY_OBJECT,r&&each$2(e,function(e,r){e!==t[r]&&n(r,e,t[r])}),i&&each$2(t,function(t,r){t!==e[r]&&n(r,e[r],t)}))}function diffRecursion(e,t,n,r,i){var o=function(t,n,o){if(n!==o){var a=join$1(e,t);each(r,function(e){isDef(matchFuzzy(a,e))&&i(e,a,n,o)}),diffRecursion(a,n,o,r,i)}};diffString(t,n,o)||diffArray(t,n,o)||diffObject(t,n,o)}function diffWatcher(e,t,n,r,i,o){var a;each$2(r,function(r,s){if(isFuzzy(s))isDef(matchFuzzy(e,s))?o(s,e,t,n):i&&(a?push(a,s):a=[s]);else{var c=match(s,e);if(c>=0){var u=slice(s,c),E=readValue(t,u),f=readValue(n,u);E!==f&&o(s,s,E,f)}}}),a&&diffRecursion(e,t,n,a,o)}function filterWatcher(e,t){if(e.count&&t)return e.count--,t[0]!==t[1]}function formatWatcherOptions(e){return e===TRUE?{immediate:TRUE}:object(e)?copy(e):{}}Computed.build=function(e,t,n){var r,i,o=TRUE,a=TRUE,s=EMPTY_ARRAY;if(func(n)?r=n:object(n)&&(boolean(n.cache)&&(o=n.cache),boolean(n.sync)&&(a=n.sync),array(n.deps)&&(s=n.deps),func(n.get)&&(r=n.get),func(n.set)&&(i=n.set)),r)return new Computed(e,a,o,s,t,r,i)},Computed.prototype.get=function(e){var t=this.getter,n=this.context;if(this.cache){if(e||!has$2(this,RAW_VALUE))if(this.fixed)this.value=execute(t,n);else{this.unbind();var r=Computed.current;Computed.current=this,this.value=execute(t,n),this.bind(),Computed.current=r}}else this.value=execute(t,n);return this.value},Computed.prototype.set=function(e){var t=this.setter,n=this.context;t&&t.call(n,e)},Computed.prototype.add=function(e){this.unique[e]=TRUE},Computed.prototype.bind=function(){var e=this.unique,t=this.deps,n=this.observer,r=this.callback,i=this.sync;each$2(e,function(e,o){push(t,o),n.watch(o,r,i?syncWatcherOptions:asyncWatcherOptions)}),this.unique={}},Computed.prototype.unbind=function(){var e=this.deps,t=this.observer,n=this.callback;each(e,function(e){t.unwatch(e,n)},TRUE),e.length=0};var Observer=function(e,t){this.data=e||{},this.context=t||this,this.nextTask=new NextTask,this.syncEmitter=new Emitter,this.asyncEmitter=new Emitter,this.asyncChanges={}};Observer.prototype.get=function(e,t,n){var r,i,o=Computed.current,a=this.data,s=this.computed,c=this.reversedComputedKeys;if(e===EMPTY_STRING)return a;if(o&&!n&&o.add(e),s){if(i=s[e])return i.get();if(c){var u=matchBest(c,e);u&&u.prop&&(r=get(s[u.name].get(),u.prop))}}return r||(r=get(a,e)),r?r.value:t},Observer.prototype.set=function(e,t){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(e,t){var a=n.get(t);if(e!==a){var s;if(i&&((s=i[t])&&s.set(e),o)){var c=matchBest(o,t);if(c&&c.prop&&(s=i[c.name])){var u=s.get();(object(u)||array(u))&&set(u,c.prop,e)}}s||set(r,t,e),n.diff(t,e,a)}};string(e)?a(t,e):object(e)&&each$2(e,a)},Observer.prototype.diff=function(e,t,n){var r=this,i=r.syncEmitter,o=r.asyncEmitter,a=r.asyncChanges,s=36!==codeAt(e);diffWatcher(e,t,n,i.listeners,s,function(e,t,n,r){i.fire(e,[n,r,t])}),diffWatcher(e,t,n,o.listeners,s,function(e,t,n,i){each(o.listeners[e],function(e){e.count++});var s=(a[t]||(a[t]={value:i,list:[]})).list;has(s,e)||push(s,e),r.pending||(r.pending=TRUE,r.nextTask.append(function(){r.pending&&(r.pending=UNDEFINED,r.diffAsync())}))})},Observer.prototype.diffAsync=function(){var e=this,t=e.asyncEmitter,n=e.asyncChanges;e.asyncChanges={},each$2(n,function(n,r){var i=[e.get(r),n.value,r];each(n.list,function(e){t.fire(e,i,filterWatcher)})})},Observer.prototype.addComputed=function(e,t){var n=Computed.build(e,this,t);if(n)return this.computed||(this.computed={}),this.computed[e]=n,this.reversedComputedKeys=sort(this.computed,TRUE),n},Observer.prototype.removeComputed=function(e){var t=this.computed;t&&has$2(t,e)&&(delete t[e],this.reversedComputedKeys=sort(t,TRUE))},Observer.prototype.watch=function(e,t,n){var r=this,i=r.context,o=r.syncEmitter,a=r.asyncEmitter,s=function(e,t,n){object(t)&&(boolean(t.immediate)&&(n.immediate=t.immediate),boolean(t.sync)&&(n.sync=t.sync),boolean(t.once)&&(n.once=t.once),func(t.watcher)&&(t=t.watcher));var s=n.sync?o:a;if(func(t)){var c={fn:t,ctx:i,count:0};n.once&&(c.max=1),s.on(e,c)}n.immediate&&execute(t,i,[r.get(e),UNDEFINED,e])};string(e)?(func(t)||object(t))&&s(e,t,formatWatcherOptions(n)):each$2(e,function(e,t){s(t,e,{})})},Observer.prototype.unwatch=function(e,t){this.syncEmitter.off(e,t),this.asyncEmitter.off(e,t)},Observer.prototype.toggle=function(e){var t=!this.get(e);return this.set(e,t),t},Observer.prototype.increase=function(e,t,n){var r=toNumber(this.get(e),0)+(t||1);if(!number(n)||r<=n)return this.set(e,r),r},Observer.prototype.decrease=function(e,t,n){var r=toNumber(this.get(e),0)-(t||1);if(!number(n)||r>=n)return this.set(e,r),r},Observer.prototype.insert=function(e,t,n){var r=this.get(e),i=(r=array(r)?copy(r):[]).length;if(n===TRUE||n===i)r.push(t);else if(n===FALSE||0===n)r.unshift(t);else{if(!(n>0&&n<i))return;r.splice(n,0,t)}return this.set(e,r),TRUE},Observer.prototype.append=function(e,t){return this.insert(e,t,TRUE)},Observer.prototype.prepend=function(e,t){return this.insert(e,t,FALSE)},Observer.prototype.removeAt=function(e,t){var n=this.get(e);if(array(n)&&t>=0&&t<n.length)return(n=copy(n)).splice(t,1),this.set(e,n),TRUE},Observer.prototype.remove=function(e,t){var n=this.get(e);if(array(n)&&remove(n=copy(n),t))return this.set(e,n),TRUE},Observer.prototype.copy=function(e,t){return copy(e,t)},Observer.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),clear(this)};var doc$1=doc,innerText="textContent",findElement=function(e){var t=doc$1.querySelector(e);if(t)return t},addEventListener=function(e,t,n){e.addEventListener(t,n,FALSE)},removeEventListener=function(e,t,n){e.removeEventListener(t,n,FALSE)},addClass=function(e,t){e.classList.add(t)},removeClass=function(e,t){e.classList.remove(t)},createEvent=function(e,t){return e};doc$1&&(doc$1.body.classList||(addClass=function(e,t){var n=e.className.split(CHAR_WHITESPACE);has(n,t)||(push(n,t),e.className=join(n,CHAR_WHITESPACE))},removeClass=function(e,t){var n=e.className.split(CHAR_WHITESPACE);remove(n,t)&&(e.className=join(n,CHAR_WHITESPACE))}));var CHAR_WHITESPACE=" ",EMITTER="$emitter",COMPOSITION_START="compositionstart",COMPOSITION_END="compositionend",domain="http://www.w3.org/",namespaces={svg:domain+"2000/svg"},specialEvents={},domApi={createElement:function(e,t){return t?doc$1.createElementNS(namespaces.svg,e):doc$1.createElement(e)},createText:function(e){return doc$1.createTextNode(e)},createComment:function(e){return doc$1.createComment(e)},prop:function(e,t,n){if(!isDef(n))return get(e,t);set(e,t,n,FALSE)},removeProp:function(e,t,n){set(e,t,n===HINT_BOOLEAN?FALSE:EMPTY_STRING,FALSE)},attr:function(e,t,n){if(isDef(n))e.setAttribute(t,n);else{var r=e.getAttribute(t);if(r!=NULL)return r}},removeAttr:function(e,t){e.removeAttribute(t)},before:function(e,t,n){e.insertBefore(t,n)},append:function(e,t){e.appendChild(t)},replace:function(e,t,n){e.replaceChild(t,n)},remove:function(e,t){e.removeChild(t)},parent:function(e){var t=e.parentNode;if(t)return t},next:function(e){var t=e.nextSibling;if(t)return t},find:findElement,tag:function(e){if(1===e.nodeType)return e.tagName.toLowerCase()},text:function(e,t,n){if(!isDef(t))return e[innerText];e[innerText]=t},html:function(e,t,n){if(!isDef(t))return e.innerHTML;e.innerHTML=t},addClass:addClass,removeClass:removeClass,on:function(e,t,n,r){var i=e[EMITTER]||(e[EMITTER]=new Emitter),o=i.nativeListeners||(i.nativeListeners={});if(!o[t]){var a=specialEvents[t],s=function(t){i.fire(t instanceof CustomEvent?t:new CustomEvent(t.type,createEvent(t,e)))};o[t]=s,a?a.on(e,s):addEventListener(e,t,s)}i.on(t,{fn:n,ctx:r})},off:function(e,t,n){var r=e[EMITTER],i=r.listeners,o=r.nativeListeners;if(r.off(t,n),o&&!r.has(t)){var a=specialEvents[t],s=o[t];a?a.off(e,s):removeEventListener(e,t,s),delete o[t]}falsy$2(i)&&(e[EMITTER]=UNDEFINED)},specialEvents:specialEvents};function debounce(e,t,n){var r;return function(){if(!r){var i=toArray(arguments);n&&execute(e,UNDEFINED,i),r=setTimeout(function(){r=0,n||execute(e,UNDEFINED,i)},t)}}}specialEvents[EVENT_INPUT]={on:function(e,t){var n=FALSE;domApi.on(e,COMPOSITION_START,t[COMPOSITION_START]=function(){n=TRUE}),domApi.on(e,COMPOSITION_END,t[COMPOSITION_END]=function(e){n=FALSE,e.type=EVENT_INPUT,t(e)}),addEventListener(e,EVENT_INPUT,t[EVENT_INPUT]=function(e){n||t(e)})},off:function(e,t){domApi.off(e,COMPOSITION_START,t[COMPOSITION_START]),domApi.off(e,COMPOSITION_END,t[COMPOSITION_END]),removeEventListener(e,EVENT_INPUT,t[EVENT_INPUT]),t[COMPOSITION_START]=t[COMPOSITION_END]=t[EVENT_INPUT]=UNDEFINED}};var immediateTypes=toObject([EVENT_CLICK,EVENT_TAP]),directive={bind:function(e,t,n){var r=t.name,i=t.handler,o=n.lazy[r]||n.lazy[EMPTY_STRING];if(i)if(o&&(o===TRUE?r=EVENT_CHANGE:i=debounce(i,o,immediateTypes[r])),n.isComponent){var a=e;a.on(r,i),n.data[t.key]=function(){a.off(r,i)}}else{var s=e;domApi.on(s,r,i),n.data[t.key]=function(){domApi.off(s,r,i)}}},unbind:function(e,t,n){execute(n.data[t.key])}};function getOptionValue(e){return isDef(e.value)?e.value:e.text}var syncWatcherOptions$1={sync:TRUE},inputControl={set:function(e,t,n){e.value=toString$1(n.get(t))},sync:function(e,t,n){n.set(t,e.value)},name:RAW_VALUE},selectControl={set:function(e,t,n){var r=n.get(t);each(toArray(e.options),e.multiple?function(e){e.selected=has(r,getOptionValue(e),FALSE)}:function(t,n){if(getOptionValue(t)==r)return e.selectedIndex=n,FALSE})},sync:function(e,t,n){var r=toArray(e.options);if(e.multiple){var i=[];each(r,function(e){e.selected&&push(i,getOptionValue(e))}),falsy(i)&&falsy(n.get(t))||n.set(t,i)}else n.set(t,getOptionValue(r[e.selectedIndex]))},name:RAW_VALUE},radioControl={set:function(e,t,n){e.checked=e.value===toString$1(n.get(t))},sync:function(e,t,n){e.checked&&n.set(t,e.value)},name:"checked"},checkboxControl={set:function(e,t,n){var r=n.get(t);e.checked=array(r)?has(r,e.value,FALSE):boolean(r)?r:!!r},sync:function(e,t,n){var r=n.get(t);array(r)?e.checked?n.append(t,e.value):n.removeAt(t,indexOf(r,e.value,FALSE)):n.set(t,e.checked)},name:"checked"},componentControl={set:function(e,t,n){e.set(e.$model,n.get(t))},sync:function(e,t,n){n.set(t,e.get(e.$model))},name:RAW_VALUE},specialControls={radio:radioControl,checkbox:checkboxControl,select:selectControl},directive$1={bind:function(e,t,n){var r,i,o,a,s=t.binding,c=n.context,u=n.nativeProps,E=n.lazy[DIRECTIVE_MODEL]||n.lazy[EMPTY_STRING],f=function(){l||o.set(r||i,s,c)},p=function(){l=TRUE,o.sync(r||i,s,c),l=FALSE},l=FALSE;E&&E!==TRUE&&(p=debounce(p,E)),n.isComponent?(o=componentControl,(r=e).watch(r.$model,p)):(o=specialControls[(i=e)[RAW_TYPE]]||specialControls[domApi.tag(i)],a=EVENT_CHANGE,o||(o=inputControl,E!==TRUE&&(a=EVENT_INPUT)),u&&has$2(u,o.name)||f(),domApi.on(i,a,p)),c.watch(s,f,syncWatcherOptions$1),n.data[t.key]=function(){n.isComponent?r.unwatch(r.$model,p):domApi.off(i,a,p),c.unwatch(s,f)}},unbind:function(e,t,n){execute(n.data[t.key])}},directive$2={bind:function(e,t,n){var r=t.binding;if(r){var i=isFuzzy(r),o=function(o,a,s){var c=i?matchFuzzy(s,r):t.name;n.isComponent?e.set(c,o):isDef(t.hint)?domApi.prop(e,c,o):domApi.attr(e,c,o)};n.context.watch(r,o),n.data[t.key]=function(){n.context.unwatch(r,o)}}},unbind:function(e,t,n){execute(n.data[t.key])}};function hasSlot(e){return isDef(this.get(SLOT_DATA_PREFIX+e))}var globalDirectives={},globalTransitions={},globalComponents={},globalPartials={},globalFilters={},TEMPLATE_COMPUTED="$"+RAW_TEMPLATE,selectorPattern=/^[#.][-\w+]+$/,Yox=function e(t){var n=this;object(t)||(t=EMPTY_OBJECT),n.$options=t,execute(t[HOOK_BEFORE_CREATE],n,t);var r=t.el,i=t.data,o=t.props,a=t.model,s=t.parent,c=t.replace,u=t.computed,E=t.template,f=t.transitions,p=t.components,l=t.directives,h=t.partials,T=t.filters,d=t.slots,R=t.events,v=t.methods,N=t.watchers,A=t.extensions;A&&extend(n,A),a&&(n.$model=a);var y=o?n.checkPropTypes(o):{};d&&extend(y,d),o&&object(i)&&warn('"data" option expected to be a function.');var m=n.$observer=new Observer(y,n);u&&each$2(u,function(e,t){m.addComputed(t,e)});var O=func(i)?execute(i,n,t):i;object(O)&&each$2(O,function(e,t){has$2(y,t)?warn('"'+t+'" is already defined as a prop. Use prop default value instead.'):y[t]=e}),n.$emitter=new Emitter(TRUE);var _,g=FALSE;if(string(E)?selectorPattern.test(E)&&(_=domApi.find(E))&&(E=domApi.html(_),_=UNDEFINED):E=UNDEFINED,r)if(string(r)){var C=r;selectorPattern.test(C)&&(_=domApi.find(C))}else _=r;_&&!c&&(g=TRUE,domApi.append(_,_=domApi.createComment(EMPTY_STRING))),s&&(n.$parent=s),setFlexibleOptions(n,RAW_TRANSITION,f),setFlexibleOptions(n,RAW_COMPONENT,p),setFlexibleOptions(n,RAW_DIRECTIVE,l),setFlexibleOptions(n,RAW_PARTIAL,h),setFlexibleOptions(n,RAW_FILTER,T),v&&each$2(v,function(e,t){n[t]=e}),execute(t[HOOK_AFTER_CREATE],n),E&&(n.$template=e.compile(E),m.addComputed(TEMPLATE_COMPUTED,{sync:FALSE,get:function(){return n.render()}}),(N=N?copy(N):{})[TEMPLATE_COMPUTED]=function(e){n.update(e,n.$vnode)},_||(g=TRUE,_=domApi.createComment(EMPTY_STRING)),n.update(n.get(TEMPLATE_COMPUTED),create(domApi,_,g,n,EMPTY_STRING))),R&&n.on(R),N&&m.nextTask.prepend(function(){n.$observer&&n.watch(N)})};function setFlexibleOptions(e,t,n){func(n)?e[t](execute(n,e)):object(n)&&e[t](n)}function getComponentAsync(e,t,n){if(e&&has$2(e,t)){var r=e[t];if(func(r)){var i=r.$queue;i?push(i,n):(i=r.$queue=[n],r(function(n){r.$queue=UNDEFINED,e[t]=n,each(i,function(e){e(n)})}))}else n(r);return TRUE}}function getResource(e,t,n){return e&&e[t]?e[t]:n?n(t):void 0}function setResource(e,t,n,r){string(t)?e[t]=r?r(n):n:each$2(t,function(t,n){e[n]=r?r(t):t})}function mergeResource(e,t){return e&&t?extend({},t,e):e||t}Yox.use=function(e){e.install(Yox)},Yox.nextTick=function(e){NextTask.shared().append(e)},Yox.compile=function(e,t){if(!hasStringify(e)&&(e=stringify(compile$1(e)[0]),t))return e;return new Function("return "+e)()},Yox.directive=function(e,t){if(string(e)&&!t)return getResource(globalDirectives,e);setResource(globalDirectives,e,t)},Yox.transition=function(e,t){if(string(e)&&!t)return getResource(globalTransitions,e);setResource(globalTransitions,e,t)},Yox.component=function(e,t){if(string(e)){if(!t)return getResource(globalComponents,e);if(func(t))return void getComponentAsync(globalComponents,e,t)}setResource(globalComponents,e,t)},Yox.partial=function(e,t){if(string(e)&&!t)return getResource(globalPartials,e);setResource(globalPartials,e,t,Yox.compile)},Yox.filter=function(e,t){if(string(e)&&!t)return getResource(globalFilters,e);setResource(globalFilters,e,t)},Yox.checkPropTypes=function(e,t){var n=copy(e);return each$2(t,function(t,r){var i,o=t.type,a=t.value,s=t.required,c=e[r];(func(s)&&(s=s(e)),isDef(c))?o?(falsy$1(o)?falsy(o)||each(o,function(e){if(is(c,e))return i=TRUE,FALSE}):i=is(c,o),i!==TRUE&&warn('The prop "'+r+'" type is not matched.')):warn('The prop "'+r+'" in propTypes has no type.'):s?warn('The prop "'+r+'" is marked as required, but its value is not found.'):isDef(a)&&(n[r]=o===RAW_FUNCTION?a:func(a)?a(e):a)}),n},Yox.prototype.addComputed=function(e,t){return this.$observer.addComputed(e,t)},Yox.prototype.removeComputed=function(e){this.$observer.removeComputed(e)},Yox.prototype.get=function(e,t,n){return this.$observer.get(e,t,n)},Yox.prototype.set=function(e,t){var n=this.$observer;n&&n.set(e,t)},Yox.prototype.on=function(e,t){return this.$emitter.on(e,t,{ctx:this}),this},Yox.prototype.once=function(e,t){return this.$emitter.on(e,t,{ctx:this,max:1}),this},Yox.prototype.off=function(e,t){return this.$emitter.off(e,t),this},Yox.prototype.fire=function(e,t,n){var r,i,o=e instanceof CustomEvent?e:new CustomEvent(e);return o.target||(o.target=this),object(t)?r=t:t===TRUE&&(n=TRUE),(i=this.$emitter.fire(o,r))&&(n?this.$children&&each(this.$children,function(e){return i=e.fire(o,t,TRUE)}):this.$parent&&(i=this.$parent.fire(o,t))),i},Yox.prototype.watch=function(e,t,n){return this.$observer.watch(e,t,n),this},Yox.prototype.watchOnce=function(e,t,n){var r=formatWatcherOptions(n);return r.once=TRUE,this.$observer.watch(e,t,r),this},Yox.prototype.unwatch=function(e,t){return this.$observer.unwatch(e,t),this},Yox.prototype.directive=function(e,t){var n=this.$directives;if(string(e)&&!t)return getResource(n,e,Yox.directive);setResource(n||(this.$directives={}),e,t)},Yox.prototype.transition=function(e,t){var n=this.$transitions;if(string(e)&&!t)return getResource(n,e,Yox.transition);setResource(n||(this.$transitions={}),e,t)},Yox.prototype.component=function(e,t){var n=this.$components;if(string(e)){if(!t)return getResource(n,e,Yox.component);if(func(t))return void(getComponentAsync(n,e,t)||getComponentAsync(globalComponents,e,t))}setResource(n||(this.$components={}),e,t)},Yox.prototype.partial=function(e,t){var n=this.$partials;if(string(e)&&!t)return getResource(n,e,Yox.partial);setResource(n||(this.$partials={}),e,t,Yox.compile)},Yox.prototype.filter=function(e,t){var n=this.$filters;if(string(e)&&!t)return getResource(n,e,Yox.filter);setResource(n||(this.$filters={}),e,t)},Yox.prototype.forceUpdate=function(){var e=this.$vnode,t=this.$observer;if(e){var n=t.computed[TEMPLATE_COMPUTED],r=n.get();t.nextTask.run(),r===n.get()&&this.update(n.get(TRUE),e)}},Yox.prototype.render=function(){return render(this,mergeResource(this.$filters,globalFilters),mergeResource(this.$partials,globalPartials),mergeResource(this.$directives,globalDirectives),mergeResource(this.$transitions,globalTransitions),this.$template)},Yox.prototype.update=function(e,t){var n,r=this,i=r.$vnode,o=r.$options;r.$refs={},i?(execute(o[HOOK_BEFORE_UPDATE],r),patch(domApi,e,t),n=o[HOOK_AFTER_UPDATE]):(execute(o[HOOK_BEFORE_MOUNT],r),patch(domApi,e,t),r.$el=e.node,n=o[HOOK_AFTER_MOUNT]),r.$vnode=e,n&&r.nextTick(function(){r.$vnode&&execute(n,r)})},Yox.prototype.checkPropTypes=function(e){var t=this.$options.propTypes;return t?Yox.checkPropTypes(e,t):e},Yox.prototype.create=function(e,t,n){if((e=copy(e)).parent=this,t){n&&(e.el=n,e.replace=TRUE);var r=t.slots,i=t.props,o=t.model;if(r&&(e.slots=r),isDef(o)){i||(i={});var a=e.model||RAW_VALUE;has$2(i,a)||(i[a]=o),e.model=a}e.props=i}var s=new Yox(e);return push(this.$children||(this.$children=[]),s),s},Yox.prototype.destroy=function(){var e=this.$options,t=this.$emitter,n=this.$observer;execute(e[HOOK_BEFORE_DESTROY],this);var r=this.$vnode,i=this.$parent;i&&i.$children&&remove(i.$children,this),r&&(delete this.$vnode,destroy(domApi,r,!i)),t.off(),n.destroy(),clear(this),execute(e[HOOK_AFTER_DESTROY],this)},Yox.prototype.nextTick=function(e,t){var n=this.$observer.nextTask;t?n.prepend(e):n.append(e)},Yox.prototype.toggle=function(e){return this.$observer.toggle(e)},Yox.prototype.increase=function(e,t,n){return this.$observer.increase(e,t,n)},Yox.prototype.decrease=function(e,t,n){return this.$observer.decrease(e,t,n)},Yox.prototype.insert=function(e,t,n){return this.$observer.insert(e,t,n)},Yox.prototype.append=function(e,t){return this.$observer.append(e,t)},Yox.prototype.prepend=function(e,t){return this.$observer.prepend(e,t)},Yox.prototype.removeAt=function(e,t){return this.$observer.removeAt(e,t)},Yox.prototype.remove=function(e,t){return this.$observer.remove(e,t)},Yox.prototype.copy=function(e,t){return this.$observer.copy(e,t)},Yox.version="1.0.0-alpha",Yox.is=is$1,Yox.array=array$1,Yox.object=object$1,Yox.string=string$1,Yox.logger=logger,Yox.Event=CustomEvent,Yox.Emitter=Emitter,Yox.dom=domApi,Yox.directive({event:directive,model:directive$1,binding:directive$2}),Yox.filter({hasSlot:hasSlot}),module.exports=Yox;
//# sourceMappingURL=yox.cjs.min.js.map
