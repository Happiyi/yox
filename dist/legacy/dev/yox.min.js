!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,i=void 0,r="true",o="slot",a="name",s="filter",c="partial",u="component",f="directive",p="transition",h="value",l="length",v="function",d="template",m="*",y="..",g="this",x=-1,k="undefined"!=typeof window?window:i,b="undefined"!=typeof document?document:i,$="tap",w="click",C="change",S="model",T=function(){},E=Object.freeze({}),O=Object.freeze([]),A="";function j(t){return t!==i}function z(t){return t===i}function P(t){return typeof t===v}function N(t){return Array.isArray(t)}function L(t){return t!==n&&"object"==typeof t}function D(t){return"string"==typeof t}function I(t){return"number"==typeof t}function R(t){return"boolean"==typeof t}function q(t){return I(t)||D(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var U=Object.freeze({func:P,array:N,object:L,string:D,number:I,boolean:R,numeric:q});function _(t,e,n){if(P(t))return N(n)?t.apply(e,n):j(e)?t.call(e,n):j(n)?t(n):t()}var B=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=x,e}();function M(t,n,i){var r=t.length;if(r)if(i)for(var o=r-1;o>=0&&n(t[o],o,r)!==e;o--);else for(o=0;o<r&&n(t[o],o,r)!==e;o++);}function W(t,e){t[t.length]=e}function F(t,e){t.unshift(e)}function H(t,e,n){N(e)?M(e,function(e){n(t,e)}):n(t,e)}function Y(t,e){H(t,e,W)}function K(t,e){H(t,e,F)}function V(t,n,i){var r=x;return M(t,function(t,o){if(i===e?t==n:t===n)return r=o,e}),r}function G(t){var e=t.length;if(e>0)return t[e-1]}function Z(t){if(t.length>0)return t.pop()}function J(n,i,r){var o=0;return M(n,function(t,a){(r===e?t==i:t===i)&&(n.splice(a,1),o++)},t),o}function X(t,e,n){return V(t,e,n)>=0}function Q(t){return N(t)?t:_(O.slice,t)}function tt(t,e){return t.join(e)}function et(t){return!N(t)||!t.length}var nt=Object.freeze({each:M,push:Y,unshift:K,indexOf:V,last:G,pop:Z,remove:J,has:X,toArray:Q,toObject:function(t,e,n){var i={};return M(t,function(t){i[e?t[e]:t]=n||t}),i},join:tt,falsy:et}),it=/-([a-z])/gi,rt=/\B([A-Z])/g,ot=/^[a-z]/,at={},st={},ct={};function ut(t){return at[t]||(at[t]=t.replace(it,function(t,e){return yt(e)})),at[t]}function ft(t){return kt(t)?A:t.trim()}function pt(t,e,n){return I(n)?e===n?A:t.slice(e,n):t.slice(e)}function ht(t,e,n){return t.indexOf(e,j(n)?n:0)}function lt(t,e,n){return t.lastIndexOf(e,j(n)?n:t.length)}function vt(t,e){return 0===ht(t,e)}function dt(t,e){return t.charAt(e||0)}function mt(t,e){return t.charCodeAt(e||0)}function yt(t){return t.toUpperCase()}function gt(t){return t.toLowerCase()}function xt(t,e){return ht(t,e)>=0}function kt(t){return!D(t)||!t.length}var bt=Object.freeze({camelize:ut,hyphenate:function(t){return st[t]||(st[t]=t.replace(rt,function(t,e){return"-"+gt(e)})),st[t]},capitalize:function(t){return ct[t]||(ct[t]=t.replace(ot,yt)),ct[t]},trim:ft,slice:pt,indexOf:ht,lastIndexOf:lt,startsWith:vt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&lt(t,e)===n},charAt:dt,codeAt:mt,upper:yt,lower:gt,has:xt,falsy:kt}),$t=/\./g,wt=/\*/g,Ct=/\*\*/g,St={},Tt={},Et=".";function Ot(t,e){return t===e?e.length:vt(t,e+=Et)?e.length:x}function At(t,n){for(var i=j(St[t])?St[t]:St[t]=t.split(Et),r=0,o=i.length-1;r<=o&&n(i[r],r===o)!==e;r++);}function jt(t,e){return t&&e?t+Et+e:t||e}function zt(t){return xt(t,m)}function Pt(t,e){var n=Tt[e];if(!n){var i=e.replace($t,"\\.").replace(wt,"(\\w+)").replace(Ct,"([.\\w]+?)");n=Tt[e]=new RegExp("^"+i+"$")}var r=t.match(n);if(r)return r[1]}var Nt={value:i};function Lt(t){return Object.keys(t)}function Dt(t,e){return t.length-e.length}function It(t,e){return e.length-t.length}function Rt(t,e){return Lt(t).sort(e?It:Dt)}function qt(t,n){for(var i in t)if(n(t[i],i)===e)break}function Ut(t){qt(t,function(e,n){delete t[n]})}function _t(t,e){return qt(e,function(e,n){t[n]=e}),t}function Bt(t,e){return t&&e?_t(_t({},t),e):t||e}function Mt(t,e){var n=t;return N(t)?e?(n=[],M(t,function(t,i){n[i]=Mt(t,e)})):n=t.slice():L(t)&&(n={},qt(t,function(t,i){n[i]=e?Mt(t,e):t})),n}function Wt(t,r){return At(r,function(r,o){if(t==n)return t=i,e;var a=t[r],s=j(a);a&&P(a.get)&&(a=a.get()),o?s?(Nt.value=a,t=Nt):t=i:t=a}),t}function Ft(t,n,i,r){At(n,function(n,o){if(o)t[n]=i;else if(t[n])t=t[n];else{if(!r)return e;t=t[n]={}}})}function Ht(t,e){return j(t[e])}function Yt(t){return!L(t)||N(t)||!Lt(t).length}var Kt=Object.freeze({keys:Lt,sort:Rt,each:qt,clear:Ut,extend:_t,merge:Bt,copy:Mt,get:Wt,set:Ft,has:Ht,falsy:Yt});function Vt(t,e){return t!=n&&t.toString?t.toString():j(e)?e:A}var Gt=1,Zt=2,Jt=3,Xt=4,Qt=5,te="undefined"!=typeof console?console:n,ee=/yox/.test(Vt(T))?Gt:Jt,ne="%c";function ie(){if(k){var t=k.YOX_LOG_LEVEL;if(t>=Gt&&t<=Qt)return t}return ee}function re(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}function oe(t,e){te&&ie()<=Gt&&te.log(ne+(e||"Yox debug"),re("#999"),t)}function ae(t,e){te&&ie()<=Zt&&te.log(ne+(e||"Yox info"),re("#2db7f5"),t)}function se(t,e){te&&ie()<=Jt&&te.warn(ne+(e||"Yox warn"),re("#f90"),t)}function ce(t,e){te&&ie()<=Xt&&te.error(ne+(e||"Yox error"),re("#ed4014"),t)}function ue(t,e){if(ie()<=Qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}var fe=Object.freeze({DEBUG:Gt,INFO:Zt,WARN:Jt,ERROR:Xt,FATAL:Qt,debug:oe,info:ae,warn:se,error:ce,fatal:ue}),pe=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,r,o){var a=this,s=he(a.ns,n),c=s.name,u=s.ns,f=a.listeners[c],p=t;if(f){f=Mt(f);var h=r&&r[0]instanceof B?r[0]:i;M(f,function(t,s){if(de(u,t)&&X(f,t)&&(!o||o(n,r,t))){h&&(h.listener=t.fn);var c=_(t.fn,t.ctx,r);return h&&(h.listener=i),t.num=t.num?t.num+1:1,t.num===t.max&&a.off(n,t.fn),h&&(c===e?h.prevent().stop():h.isStoped&&(c=e)),c===e?p=e:void 0}})}return p},n.prototype.on=function(t,e){var n=this.listeners,i=P(e)?{fn:e}:e;if(L(i)&&P(i.fn)){var r=he(this.ns,t),o=r.name,a=r.ns;i.ns=a,Y(n[o]||(n[o]=[]),i)}else ue("Invoke emitter.on(type, listener) failed.")},n.prototype.off=function(e,n){var i=this.listeners;if(e){var r=he(this.ns,e),o=r.name,a=r.ns,s=ve(n),c=function(e,n){M(e,function(t,n){s(t)&&de(a,t)&&e.splice(n,1)},t),e.length||delete i[n]};o?i[o]&&c(i[o],o):a&&qt(i,c)}else this.listeners={},arguments.length>0&&se('emitter.off(type) is invoked, but the "type" argument is undefined or null.')},n.prototype.has=function(n,i){var r=this.listeners,o=he(this.ns,n),a=o.name,s=o.ns,c=t,u=ve(i),f=function(t){return M(t,function(t){if(u(t)&&de(s,t))return c=e}),c};return a?r[a]&&f(r[a]):s&&qt(r,f),!c},n}();function he(t,e){var n={name:e,ns:A};if(t){var i=ht(e,".");i>=0&&(n.name=pt(e,0,i),n.ns=pt(e,i+1))}return n}function le(e){return t}function ve(t){return P(t)?function(e){return t===e.fn}:le}function de(e,n){var i=n.ns;return i&&e?i===e:t}function me(t){return P(t)&&/native code/.test(Vt(t))}typeof setImmediate===v&&me(setImmediate)&&setImmediate;var ye,ge=typeof MessageChannel===v&&me(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,xe=function(){function t(){this.tasks=[]}return t.shared=function(){return ye||(ye=new t)},t.prototype.append=function(t,e){var n=this,i=n.tasks;Y(i,{fn:t,ctx:e}),1===i.length&&ge(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,i=n.tasks;K(i,{fn:t,ctx:e}),1===i.length&&ge(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],M(t,function(t){_(t.fn,t.ctx)}))},t}(),ke="#if",be="else",$e="else if",we="#each",Ce="#partial",Se=">",Te="...",Ee=/^!\s/,Oe="$slot_",Ae="children",je=1,ze=2,Pe=3,Ne="on",Le="lazy",De="model",Ie="event",Re="binding",qe="o",Ue=".hook",_e="beforeCreate",Be="afterCreate",Me=0;var We="$id",Fe="$vnode",He="$loading",Ye="$component",Ke="$leaving";function Ve(t,e,n){var i=e.node,r=e.nativeAttrs,o=n&&n.nativeAttrs;if(r||o){var a=r||E,s=o||E;qt(a,function(e,n){s[n]&&e.value===s[n].value||t.attr(i,n,e.value)}),qt(s,function(e,n){a[n]||t.removeAttr(i,n)})}}function Ge(t,e,n){var i=e.node,r=e.nativeProps,o=n&&n.nativeProps;if(r||o){var a=r||E,s=o||E;qt(a,function(e,n){s[n]&&e.value===s[n].value||t.prop(i,n,e.value)}),qt(s,function(e,n){a[n]||t.removeProp(i,n,e.hint)})}}function Ze(t,e){var n=t.data,i=t.directives,r=e&&e.directives;if(i||r){var o=n[Ye]||t.node,a=e&&t.keypath!==e.keypath,s=i||E,c=r||E;qt(s,function(n,i){var r=n.hooks,s=r.once,u=r.bind,f=r.unbind;c[i]?(s||n.value!==c[i].value||a)&&(f&&f(o,c[i],e),u(o,n,t)):u(o,n,t)}),qt(c,function(t,n){if(!s[n]){var i=t.hooks.unbind;i&&i(o,t,e)}})}}function Je(t){var e=t.directives;if(e){var n=t.data[Ye]||t.node;qt(e,function(e){var i=e.hooks.unbind;i&&i(n,e,t)})}}function Xe(t,e){var n,i=t.data,r=t.ref,o=t.props,a=t.slots,s=t.directives,c=t.context;if(t.isComponent){if(n=i[Ye],e){var u=s&&s[De];u&&(o||(o={}),o[n.$model]=u.value),o&&n.checkProps(o);var f=Bt(o,a);f&&n.forceUpdate(f)}}else n=t.node;if(r){var p=c.$refs;p&&(p[r]=n)}}function Qe(t,e){return t.tag===e.tag&&t.key===e.key}function tn(t,e,n){for(var i,r,o;e<=n;)(r=t[e])&&(o=r.key)&&(i||(i={}),i[o]=e),e++;return i||E}function en(t,e,n,i){i?t.before(e,n,i):t.append(e,n)}function nn(t,n){var i=(t.parent||t.context).createComponent(n,t);return t.data[Ye]=i,t.data[He]=e,Xe(t),Ze(t),i}function rn(){var t={};return t[We]=++Me,t}function on(e,n){var r=n.tag,o=n.node,a=n.data,s=n.isComponent,c=n.isComment,f=n.isText,p=n.isStyle,h=n.isOption,l=n.children,v=n.text,d=n.html,m=n.context;if(!o||!a)if(a=rn(),n.data=a,f)n.node=e.createText(v);else if(c)n.node=e.createComment(v);else if(s){var y=i;r&&m.loadComponent(r,function(t){Ht(a,He)?a[He]&&(a[Fe]&&(n=a[Fe],delete a[Fe]),pn(n,nn(n,t))):y=t}),n.node=e.createComment(u),y?nn(n,y):a[He]=t}else o=n.node=e.createElement(n.tag,n.isSvg),l?an(e,o,l):v?e.text(o,v,p,h):d&&e.html(o,d,p,h),Ve(e,n),Ge(e,n),Xe(n),Ze(n)}function an(t,e,n,i,r,o){for(var a,s=i||0,c=j(r)?r:n.length-1;s<=c;)on(t,a=n[s]),sn(t,e,a,o),s++}function sn(t,e,n,r){var o=n.node,a=n.data,s=n.context,c=t.parent(o);if(r?t.before(e,o,r.node):t.append(e,o),!c){var u=i;if(n.isComponent){var f=a[Ye];f&&(u=function(){pn(n,f)})}else n.isStatic||n.isText||n.isComment||(u=function(){pn(n)});u&&s.$observer.nextTask.prepend(u)}}function cn(t,e,n,i,r){for(var o,a=i||0,s=j(r)?r:n.length-1;a<=s;)(o=n[a])&&un(t,e,o),a++}function un(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var o,a=function(){fn(t,n),t.remove(e,r)};if(n.isComponent&&!(o=n.data[Ye]))return void a();!function(t,e,n){var r=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var a=o.leave;if(a)return void a(t.node,r[Ke]=function(){r[Ke]&&(n(),r[Ke]=i)})}n()}(n,o,a)}}function fn(t,n){var i=n.data,r=n.children,o=n.parent,a=n.slot;if(a&&o&&o.$vnode){var s=o.get(a);if(s&&X(s,n))return}if(n.isComponent){var c=i[Ye];c?(Je(n),c.destroy()):i[He]=e}else Je(n),r&&M(r,function(e){fn(t,e)})}function pn(t,e){var n=t.data,i=t.transition;if(e&&!i&&(i=e.$vnode.transition),_(n[Ke]),i){var r=i.enter;if(r)return void r(t.node)}}function hn(t,e,n){if(e!==n){var r=n.node,o=n.data;if(!Qe(e,n)){var a=t.parent(r);return on(t,e),void(a&&(sn(t,a,e,n),un(t,a,n)))}if(e.node=r,e.data=o,n.isComponent&&o[He])o[Fe]=e;else if(!e.isStatic||!n.isStatic){Ve(t,e,n),Ge(t,e,n),Xe(e,n),Ze(e,n);var s=e.text,c=e.html,u=e.children,f=e.isStyle,p=e.isOption,h=n.text,l=n.html,v=n.children;D(s)?s!==h&&t.text(r,s,f,p):D(c)?c!==l&&t.html(r,c,f,p):u&&v?u!==v&&function(t,e,n,r){for(var o,a,s=0,c=n.length-1,u=n[s],f=n[c],p=0,h=r.length-1,l=r[p],v=r[h];p<=h&&s<=c;)u?f?l?v?Qe(u,l)?(hn(t,u,l),u=n[++s],l=r[++p]):Qe(f,v)?(hn(t,f,v),f=n[--c],v=r[--h]):Qe(f,l)?(hn(t,f,l),en(t,e,l.node,t.next(v.node)),f=n[--c],l=r[++p]):Qe(u,v)?(hn(t,u,v),en(t,e,v.node,l.node),u=n[++s],v=r[--h]):(o||(o=tn(r,p,h)),j(a=u.key?o[u.key]:i)?(hn(t,u,r[a]),r[a]=i):on(t,u),sn(t,e,u,l),u=n[++s]):v=r[--h]:l=r[++p]:f=n[--c]:u=n[++s];p>h?an(t,e,n,s,c,n[c+1]):s>c&&cn(t,e,r,p,h)}(t,r,u,v):u?((D(h)||D(l))&&t.text(r,A,f),an(t,r,u)):v?cn(t,r,v):(D(h)||D(l))&&t.text(r,A,f)}}}var ln=1,vn=2,dn=3,mn=4,yn=5,gn=6,xn=7,kn=8,bn=9,$n=10,wn=11,Cn=12,Sn=13,Tn={},En={},On={};Tn[o]=Tn[d]=En.key=En.ref=En[o]=t,On.if=gn,On.each=bn,On.partial=$n;function An(e){return{type:vn,isStatic:t,name:e}}function jn(t,e,n,i,r){return{type:dn,ns:t,name:e,key:jt(t,e),value:n,expr:i,children:r}}function zn(e,n,i,r,o){return{type:mn,isStatic:t,name:e,hint:n,value:i,expr:r,children:o}}function Pn(e,n,i,r){return{type:bn,from:e,to:n,equal:i,index:r,isComplex:t}}function Nn(e){return{type:yn,text:e,isStatic:t,isLeaf:t}}var Ln="area,base,embed,track,source,param,input,col,img,br,hr".split(","),Dn="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),In="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),Rn="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),qn="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),Un={};function _n(t,e){return q(t)?+t:j(e)?e:0}Un.for="htmlFor",Un.class="className",Un.accesskey="accessKey",Un.style="style.cssText",Un.novalidate="noValidate",Un.readonly="readOnly",Un.tabindex="tabIndex",Un.minlength="minLength",Un.maxlength="maxLength";var Bn=1,Mn=2,Wn=3,Fn=4,Hn=5,Yn=6,Kn=7,Vn=8,Gn=9;function Zn(t,e,n,i){return{type:Hn,raw:i,left:t,operator:e,right:n}}function Jn(t,e,n,i){return{type:Mn,raw:t,name:e,lookup:n,offset:i}}function Xn(t,e,n,i,r,o){return{type:Wn,raw:t,lead:e,keypath:n,nodes:i,lookup:r,offset:o}}function Qn(n,i,r){var o=t,a=0;return i!==g&&i!==y||(o=e,i===y&&(a=1),i=A),r?ti(i,n):Jn(n,i,o,a)}function ti(t,e){return{type:Bn,raw:e,value:t}}function ei(n,r){var o=r.shift(),a=r.length,s=t,c=0;if(a>0){var u=t,f=[],p=[];if(M(r,function(t){if(t.type===Bn){var n=t;if(n.raw===y)return void(c+=1);n.raw!==g&&Y(f,Vt(n.value))}else u=e;Y(p,t)}),o.type===Mn){var h=o;s=h.lookup,c+=h.offset;var l=h.name;l&&K(f,l),o=u?Jn(l=tt(f,Et),l,s,c):Xn(n,o,i,p,s,c)}else o=u?Xn(n,o,tt(f,Et),i,s,c):Xn(n,o,i,p,s,c)}return o}var ni={"+":t,"-":t,"~":t,"!":t,"!!":t},ii={"*":14,"/":14,"%":14,"+":13,"-":13,"<<":12,">>":12,">>>":12,"<":11,"<=":11,">":11,">=":11,"==":10,"!=":10,"===":10,"!==":10,"&":9,"^":8,"|":7,"&&":6,"||":5};function ri(t){if(!ai[t]){var e=new oi(t);ai[t]=e.scanTernary(si)}return ai[t]}var oi=function(){function n(t){var e=t.length;this.index=x,this.end=e,this.code=si,this.content=t,this.go()}return n.prototype.go=function(t){var e=this.index,n=this.end;(e+=t||1)>=0&&e<n?(this.code=mt(this.content,e),this.index=e):(this.code=si,this.index=e<0?x:n)},n.prototype.skip=function(e){var n=e&&e<0;if(this.code===si){var i=this.index;if(this.go(e),!Ii(this.code))return void this.go(i-this.index)}else if(!Ii(this.code))return;for(;t;){if(!Ii(this.code)){n&&this.go();break}this.go(e)}},n.prototype.is=function(t){return this.code===t},n.prototype.pick=function(t,e){return pt(this.content,t,j(e)?e:this.index)},n.prototype.scanToken=function(){var t,e,n=this.code,i=this.index;if(qi(n))return this.scanTail(i,[this.scanIdentifier(i)]);if(Ri(n))return this.scanNumber(i);switch(n){case si:return;case hi:case li:return this.scanTail(i,[this.scanString(i,n)]);case ci:return this.go(),Ri(this.code)?this.scanNumber(i):this.scanPath(i);case vi:return this.go(),this.scanTernary(di);case mi:return this.scanTail(i,[(t=this.scanTuple(i,yi),e=this.pick(i),{type:Kn,raw:e,nodes:t})]);case gi:return this.scanObject(i)}var r=this.scanOperator(i);if(r&&ni[r]){var o=this.scanTernary();if(o){if(o.type===Bn){var a=o.value;if(I(a))return this.skip(x),ti(-a,this.pick(i))}return this.skip(x),function(t,e,n){return{type:Fn,raw:n,operator:t,node:e}}(r,o,this.pick(i))}this.fatal(i,"一元运算只有操作符没有表达式？")}},n.prototype.scanNumber=function(t){for(var e;Ri(e=this.code)||e===ci;)this.go();var n=this.pick(t);if(q(n))return ti(+n,n);this.fatal(t,"数字写错了知道吗？")},n.prototype.scanString=function(e,n){t:for(;t;)switch(this.go(),this.code){case pi:this.go();break;case n:this.go();break t;case si:this.fatal(e,"到头了，字符串还没解析完呢？");break t}var i=this.pick(e);return ti(new Function("return "+i)(),i)},n.prototype.scanObject=function(n){var i,r=[],o=[],a=t;this.go();t:for(;t;)switch(this.code){case xi:this.go(),r.length!==o.length&&this.fatal(n,"对象的 keys 和 values 的长度不一致");break t;case si:this.fatal(n,"到头了，对象还没解析完呢？");break t;case bi:this.go(),a=e;break;case ui:this.go(),a=t;break;default:if(i=this.scanTernary(),a){if(i)if(this.skip(),i.type===Mn)Y(r,i.name);else{if(i.type!==Bn){this.fatal(n,"对象的 key 必须是字面量或标识符");break t}Y(r,i.value)}}else{if(!i){this.fatal(n,"对象的值没找到");break t}this.skip(),Y(o,i)}}return function(t,e,n){return{type:Vn,raw:n,keys:t,values:e}}(r,o,this.pick(n))},n.prototype.scanTuple=function(e,n){var i,r=[];this.go();t:for(;t;)switch(this.code){case n:this.go();break t;case si:this.fatal(e,"到头了，tuple 还没解析完呢？");break t;case ui:this.go();break;default:(i=this.scanTernary())&&(this.skip(),Y(r,i))}return r},n.prototype.scanPath=function(e){for(var n,i=[];t&&(n=g,this.is(ci)&&(this.go(),n=y),Y(i,Qn(n,n,i.length>0)),this.is(fi));){if(this.go(),Ui(this.code))return Y(i,this.scanIdentifier(this.index,t)),this.scanTail(e,i);if(!this.is(ci)){this.fatal(e,"path 写法错误");break}this.go()}},n.prototype.scanTail=function(e,n){var i,r,o,a;t:for(;t;)switch(this.code){case vi:n=[(r=ei(this.pick(e),n),o=this.scanTuple(this.index,di),a=this.pick(e),{type:Gn,raw:a,name:r,args:o})];break;case ci:if(this.go(),Ui(this.code)){Y(n,this.scanIdentifier(this.index,t));break}this.fatal(e,". 后面跟的都是啥玩意啊");break t;case mi:if(this.go(),i=this.scanTernary(yi)){Y(n,i);break}this.fatal(e,"[] 内部不能为空");break t;default:break t}return ei(this.pick(e),n)},n.prototype.scanIdentifier=function(t,e){for(;Ui(this.code);)this.go();var n=this.pick(t);return!e&&n in Di?ti(Di[n],n):Qn(n,n,e)},n.prototype.scanOperator=function(t){switch(this.code){case Si:case Ti:case Ei:case ji:case Ci:this.go();break;case $i:this.go(),this.is($i)&&this.fatal(t,"不支持该语法");break;case wi:this.go(),this.is(wi)&&this.fatal(t,"不支持该语法");break;case zi:this.go(),this.is(zi)?this.go():this.is(Ni)&&(this.go(),this.is(Ni)&&this.go());break;case Oi:this.go(),this.is(Oi)&&this.go();break;case Ai:this.go(),this.is(Ai)&&this.go();break;case Ni:this.go(),this.is(Ni)?(this.go(),this.is(Ni)&&this.go()):this.fatal(t,"不支持一个等号这种赋值写法");break;case Pi:this.go(),(this.is(Ni)||this.is(Pi))&&this.go();break;case Li:this.go(),this.is(Ni)?this.go():this.is(Li)&&(this.go(),this.is(Li)&&this.go())}if(this.index>t)return this.pick(t)},n.prototype.scanBinary=function(e){for(var n,r,o,a,s,c,u=[];t;){if(this.skip(),Y(u,this.index),n=this.scanToken()){if(Y(u,n),Y(u,this.index),this.skip(),(o=this.scanOperator(this.index))&&(a=ii[o])){(s=u[r=u.length-4])&&(c=ii[s])&&c>=a&&u.splice(r-2,5,Zn(u[r-2],s,u[r+2],this.pick(u[r-3],u[r+3]))),Y(u,o);continue}o=i}else o&&this.fatal(e,"表达式错误");break}for(;t;){if(!(u.length>=7))return u[1];r=u.length-4,u.splice(r-2,5,Zn(u[r-2],u[r],u[r+2],this.pick(u[r-3],u[r+3])))}},n.prototype.scanTernary=function(t){this.skip();var e,n,i=this.index,r=this.scanBinary(i);return this.is(ki)&&(this.go(),e=this.scanBinary(i),this.is(bi)&&(this.go(),n=this.scanBinary(i)),r&&e&&n?(this.skip(x),r=function(t,e,n,i){return{type:Yn,raw:i,test:t,yes:e,no:n}}(r,e,n,this.pick(i))):this.fatal(i,"三元表达式写法错误")),j(t)&&(this.skip(),this.is(t)?this.go():this.fatal(i,"结束字符匹配错误，期待["+String.fromCharCode(t)+"]，却发现["+String.fromCharCode(this.code)+"]")),r},n.prototype.fatal=function(t,e){ue("Error compiling expression:\n"+this.content+"\n- "+e)},n}(),ai={},si=0,ci=46,ui=44,fi=47,pi=92,hi=39,li=34,vi=40,di=41,mi=91,yi=93,gi=123,xi=125,ki=63,bi=58,$i=43,wi=45,Ci=42,Si=47,Ti=37,Ei=126,Oi=38,Ai=124,ji=94,zi=33,Pi=60,Ni=61,Li=62,Di={};function Ii(t){return t>0&&t<33||160===t}function Ri(t){return t>47&&t<58}function qi(t){return 36===t||95===t||t>96&&t<123||t>64&&t<91}function Ui(t){return qi(t)||Ri(t)}Di[r]=t,Di.false=e,Di.null=n,Di[void 0]=i;var _i=1,Bi=2,Mi=3,Wi={},Fi="-",Hi=/^[_$a-z]([\w]+)?$/i,Yi=/^[_$a-z]([\w]+)?\.[_$a-z]([\w]+)?$/i,Ki=/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,Vi=/\s*(=>|->)\s*/,Gi=/<(\/)?([$a-z][-a-z0-9]*)/i,Zi=/<!--[\s\S]*?-->/g,Ji=/^([\s\S]*?)<!--/,Xi=/-->([\s\S]*?)$/,Qi=/^\s*([-.:\w]+)(['"])?(?:=(['"]))?/,tr=/^[$A-Z]|-/,er=/^\s*(\/)?>/;function nr(t,e){return ft(pt(t,e.length))}function ir(n){for(var s,c,u,f,l=[],v=[],m=[],y=n.length,g=0,k=0,b=0,$=0,w=_i,C=[],S=[],T=function(t){ue("Error compiling "+d+":\n"+n+"\n- "+t)},E=function(t){var e,n=G(v);if(n&&n.type===ln){var i=n;i.tag!==t&&(e=i.tag,X(Ln,e))&&O(i.type,i.tag)}},O=function(n,r){var o=Z(v);if(o&&o.type===n){var a=o.children,c=a&&1===a.length&&a[0],u=n===ln,f=n===vn,p=n===mn,h=n===dn,l=G(v);if(l&&(l.isStatic&&!o.isStatic&&(l.isStatic=e),l.isComplex||(o.isComplex||u?l.isComplex=t:s&&s!==l&&(f||p||h)&&(l.isComplex=t))),u){var d=o;r&&d.tag!==r&&T("结束标签是"+r+"，开始标签却是"+d.tag)}if(c)switch(c.type){case yn:u||(f?q(o,c):p?L(o,c):h&&B(o,c));break;case Cn:u?P(o,c):f?U(o,c):p?D(o,c):h&&W(o,c)}else a?h?z():s||(j(a),a.length||(o.children=i)):s&&(f?R(s,o):p?N(s,o):h&&_(s,o));return n===bn?F(o):n===$n?H(o):u?K(o):s&&(f?tt(s,o)&&Q(s,o):h&&J(s,o)),o}T("出栈节点类型不匹配")},j=function(e){var n=x,i=A,r=x,o=A;M(e,function(t,a){if(t.type===yn)if(r>=0){for(i=t.text;Ji.test(i);)i=RegExp.$1,n=a;n>=0&&(i&&(e[n].text=i,n++),o&&(e[r].text=o,r--),e.splice(n,r-n+1),n=r=x)}else for(o=t.text;Xi.test(o);)o=RegExp.$1,r=a},t)},z=function(){T("指令的值不能用插值或 if 语法")},P=function(t,e){t.isComponent||t.slot||e.safe||(t.html=e.expr,t.children=i)},N=function(e,n){n.hint===Pe?n.value=t:et(n)},L=function(t,e){var n=e.text;t.hint===ze?t.value=_n(n):t.hint===Pe?t.value=n===r||n===t.name:t.value=n,t.children=i},D=function(e,n){var r=n.expr;e.expr=r,e.children=i,r.type===Mn&&(e.binding=t)},R=function(e,n){tt(e,n)?T(n.name+" 忘了写值吧？"):n.value=function(e,n){return e.isComponent?t:vt(n,"data-")?A:n}(e,n.name)},q=function(t,e){t.value=e.text,t.children=i},U=function(e,n){var r=n.expr;e.expr=r,e.children=i,r.type===Mn&&(e.binding=t)},_=function(e,n){n.value=t},B=function(t,e){var n,r=e.text,o=t.ns===De,a=t.ns===Le,c=t.ns===Ie,u=t.ns===qe;try{n=ri(r)}catch(t){}if(n){var f=n.raw;a?(n.type!==Bn||!I(n.value)||n.value<=0)&&T("lazy 指令的值 ["+f+"] 必须是大于 0 的数字"):n.type===Gn?n.name.type!==Mn&&T("指令表达式的类型如果是函数调用，则只能调用方法"):c&&(Hi.test(f)||Yi.test(f)?s&&s.isComponent&&t.name===f&&T("转换组件事件的名称不能相同"):T("事件转换名称只能是 [name] 或 [name.namespace] 格式")),o&&n.type!==Mn&&T("model 指令的值格式错误: ["+f+"]"),t.expr=n,t.value=n.type===Bn?n.value:r}else u||T(t.ns+" 指令的表达式错误: ["+r+"]"),t.value=r;t.children=i},W=function(t,e){T("指令的表达式不能用插值语法")},F=function(t){t.children||et(t)},H=function(t){t.children||et(t)},K=function(n){var r=n.tag,a=n.slot,s=r===d;s&&(n.key?T("<template> 不支持 key"):n.ref?T("<template> 不支持 ref"):n.attrs?T("<template> 不支持属性或指令"):a||T("<template> 不写 slot 属性是几个意思？")),s&&a&&!n.children?et(n):r!==o||n.name?function(n){var r=n.tag,o=n.attrs,a=e,s=e;o&&M(o,function(e){var n=e.type===mn?e.name:i;"type"===n?a=t:n===h&&(s=t)}),n.isStyle&&!a?Y(n.attrs||(n.attrs=[]),zn("type",je,"text/css")):"option"!==r||s||(n.isOption=t)}(n):n.name=Ae},J=function(t,e){e.ns===De&&G(v)!==t&&T("model 不能写在 if 内")},Q=function(t,e){var n=e.name,i=e.value,r=n===a||n===o;G(v)!==t&&T(n+" 不能写在 if 内"),i===A?T(n+" 的值不能是空字符串"):r&&kt(i)&&T(n+" 的值只能是字符串字面量"),t[n]=r?i:e,et(e)},tt=function(t,e){return En[e.name]||t.tag===o&&e.name===a},et=function(t,e){var n,r,o,a=G(v);(r=a?(n=s&&s===a)?a.attrs:a.children:l)&&(o=V(r,t))>=0&&(e?r[o]=e:(r.splice(o,1),a&&!r.length&&(n?delete a.attrs:a.children=i)))},nt=function(n){s||E();var i=n.type,r=G(v);if(i===kn||i===xn){var o=Z(m);o?(n.prev=o,o.type===xn||o.type===gn?(o.next=n,O(o.type),Y(m,n)):T(i===xn?"else 后面不能跟 else if 啊":"只能写一个 else 啊")):T("不写 if 是几个意思")}else Y(r?s&&r.type===ln?s.attrs||(s.attrs=[]):r.children||(r.children=[]):l,n),i===gn&&(s||(n.stub=t),Y(m,n));n.isLeaf?r&&(r.isStatic&&!n.isStatic&&(r.isStatic=e),!r.isComplex&&n.isComplex&&(r.isComplex=t)):Y(v,n)},it=function(t){(t=t.replace(Ki,A))&&nt(Nn(t))},rt=[function(t){if(!s){var n=t.match(Gi);if(n&&0===n.index){var i=n[2];if("/"===n[1])E(i),O(ln,i);else{if(i===d){var r=G(v);r&&r.isComponent||T("<template> 只能写在组件标签内")}var a=function(t,n,i){return n&&(i=e),{type:ln,tag:t,isSvg:n,isStyle:"style"===t,isOption:e,isComponent:i,isStatic:!i&&t!==o}}(i,X(Dn,i),tr.test(i));nt(a),s=a}return n[0]}}},function(t){var e=t.match(er);if(e)return s&&!c&&("/"===e[1]&&O(s.type,s.tag),s=i),e[0]},function(t){if(s&&!c){var e=t.match(Qi);if(e){e[2]&&T("上一个属性似乎没有正常结束");var n=void 0,i=e[1];if(i===De||i===p)n=jn(ut(i),A);else if(vt(i,Ne+Fi)){var r=nr(i,Ne+Fi);r||T("缺少事件名称"),n=jn(Ie,ut(r))}else if(vt(i,Le)){var o=nr(i,Le);vt(o,Fi)&&(o=nr(o,Fi)),n=jn(Le,o?ut(o):A)}else if(vt(i,qe+Fi)){var a=nr(i,qe+Fi);a||T("缺少自定义指令名称"),n=jn(qe,ut(a))}else n=function(t,e){if(t.isComponent)return An(ut(e));var n=gt(e);return Tn[t.tag]||t.isSvg?An(e):X(In,n)?zn(Un[n]||n,je):X(Rn,n)?zn(Un[n]||n,ze):X(qn,n)?zn(Un[n]||n,Pe):An(e)}(s,i);return nt(n),(f=e[3])?c=n:O(n.type),e[0]}}},function(t){var e,n;return c&&f?(n=t.match(Wi[f]||(Wi[f]=new RegExp(f))))?(e=pt(t,0,n.index),it(e),e+=f,c.children||nt(Nn(A)),O(c.type),c=i):w!==_i?it(e=t):T(c.name+" 没有找到结束引号"):s?(ft(t)&&T("<"+s.tag+"> 属性里不要写乱七八糟的字符"),e=t):(n=t.match(Gi))?(e=pt(t,0,n.index))&&it(e.replace(Zi,A)):it((e=t).replace(Zi,A)),e}],ot=[function(t){if(vt(t,we)){s&&T(c?"each 不能写在属性的值里":"each 不能写在属性层级");var n=(t=nr(t,we)).replace(/\s+/g,A).split(":");if(n[0]){var r=ft(n[0]),o=ft(n[1]),a=r.match(Vi);if(a){var u=r.split(Vi),f=ri(u[0]),p=ri(u[2]);if(f&&p)return Pn(f,p,"=>"===ft(a[1]),o)}else{var h=ri(r);if(h)return Pn(h,i,e,o)}}T("无效的 each")}},function(e){if(vt(e,Se)){if(e=nr(e,Se)){if(!s)return{type:wn,name:e,isComplex:t,isLeaf:t};T(c?"import 不能写在属性的值里":"import 不能写在属性层级")}T("无效的 import")}},function(e){if(vt(e,Ce)){if(e=nr(e,Ce)){if(!s)return{type:$n,name:e,isComplex:t};T(c?"partial 不能写在属性的值里":"partial 不能写在属性层级")}T("无效的 partial")}},function(t){if(vt(t,ke)){var e=ri(t=nr(t,ke));if(e)return function(t){return{type:gn,expr:t}}(e);T("无效的 if")}},function(t){if(vt(t,$e)){var e=ri(t=nr(t,$e));if(e)return function(t){return{type:xn,expr:t}}(e);T("无效的 else if")}},function(t){if(vt(t,be)){if(!ft(t=nr(t,be)))return{type:kn};T("else 后面不要写乱七八糟的东西")}},function(e){if(vt(e,Te)){var n=ri(e=nr(e,Te));if(n){if(s&&s.isComponent)return function(e,n){return{type:Sn,expr:e,binding:n,isLeaf:t}}(n,n.type===Mn);T("延展属性只能用于组件属性")}T("无效的 spread")}},function(e){if(!Ee.test(e)){var n=ri(e=ft(e));if(n)return function(e,n){return{type:Cn,expr:e,safe:n,isLeaf:t}}(n,w===Bi);T("无效的 expression")}}],at=function(t){for(;t;)M(rt,function(n){var i=n(t);if(i)return t=pt(t,i.length),e})},st=function(n){if("/"===dt(n)){E();var i=pt(n,1),r=On[i],o=e;if(r===gn){var a=Z(m);a?(r=a.type,o=t):T("if 还没开始就结束了？")}var s=O(r);s&&o&&function(e){for(var n,i,r,o=e;t&&(o.children&&(r||o.next&&delete o.next,i=r=t),n=o.prev);)delete o.prev,o=n;i||et(o)}(s)}else M(ot,function(t){var i=t(n);if(i)return nt(i),e})},ct=function(){return(g=$+2)<=y?(g<y&&"}"===dt(n,g)?w===Mi?k=g+1:T("{{ 和 }}} 无法配对"):w===Bi?k=g:T("{{{ 和 }} 无法配对"),Z(C),lt($),b=ht(n,"{{",k),($=ht(n,"}}",k))>=k&&(b<0||$<b)?ct():void 0):t},lt=function(t){C.length||Y(S,t)};t&&(lt(k),(b=ht(n,"{{",k))>=k);)if(w=Bi,lt(b),(b+=2)<y)if("{"===dt(n,b)&&(w=Mi,b++),lt(b),lt(w),Y(C,t),b<y)if(($=ht(n,"}}",b))>=b){if(((k=ht(n,"{{",b))<0||$<k)&&ct())break}else T("找不到结束定界符");else T("{{{ 后面没字符串了？");else T("{{ 后面没字符串了？");for(var mt=0,yt=S.length;mt<yt;mt+=5)g=S[mt],(b=S[mt+1])&&at(pt(n,g,b)),b=S[mt+2],w=S[mt+3],($=S[mt+4])?(u=ft(pt(n,b,$)))&&st(u):(w=_i,at(pt(n,g)));return v.length&&(E(),v.length&&T("还有节点未出栈")),l.length>0&&j(l),l}var rr="!0",or="!1",ar=",",sr=":",cr="+",ur="&&",fr="?",pr="!",hr='""';function lr(t){return"{"+tt(t,ar)+"}"}function vr(t){return"["+tt(t,ar)+"]"}function dr(n,i){return n+"("+tt(function(n){var i=[],r=t;return M(n,function(t){j(t)?(r=e,K(i,t)):r||K(i,or)},t),i}(i),ar)+")"}function mr(t){return JSON.stringify(t)}var yr,gr,xr=[],kr=[],br={},$r="a",wr="b",Cr="c",Sr="d",Tr="e",Er="f",Or="g",Ar="h",jr="i",zr="j",Pr="k",Nr="l",Lr="m",Dr="n",Ir="o",Rr="p",qr="q",Ur="r",_r="s",Br="t",Mr="u",Wr="v",Fr="return ";function Hr(n,r,o,a){return function n(r,o,a,s,c,u,f,p,l){var v,d=e,m=function(e){return n(e,o,a,s,c,u,f,p,t)};switch(r.type){case Bn:v=mr(r.value);break;case Fn:v=r.operator+m(r.node);break;case Hn:v=m(r.left)+r.operator+m(r.right);break;case Yn:v=m(r.test)+fr+m(r.yes)+sr+m(r.no);break;case Kn:v=vr(r.nodes.map(m));break;case Vn:var y=[];M(r.keys,function(t,e){Y(y,mr(t)+sr+m(r.values[e]))}),v=lr(y);break;case Mn:d=t;var g=r;v=dr(o,[mr(g.name),g.lookup?rr:i,g.offset>0?mr(g.offset):i,u?rr:i,f?rr:i,p||i]);break;case Wn:d=t;var x=r,k=x.lead,b=x.keypath,$=x.nodes,w=x.lookup,C=x.offset,S=$?$.map(m):[];v=k.type===Mn?dr(o,[dr(a,[mr(k.name),vr(S)]),w?rr:i,C>0?mr(C):i,u?rr:i,f?rr:i,p||i]):dr(s,$?[m(k),i,vr(S),u?rr:i]:[m(k),mr(b),i,u?rr:i]);break;default:d=t;var T=r.args;v=dr(c,[m(r.name),T.length?vr(T.map(m)):i,u?rr:i])}return u?l?d?v+"."+h:v:d?v:lr([h+sr+v]):v}(n,$r,wr,Cr,Sr,r,o,a)}function Yr(t){var e=[];return qt(t,function(t,n){j(t)&&Y(e,mr(n)+sr+t)}),lr(e)}function Kr(t,e){return v+"("+(e||A)+"){"+(t||A)+"}"}function Vr(t){return"("+t+")"}function Gr(t,e){var n=Hr(t);return e?dr(Mr,[n]):n}function Zr(t){return Hr(t,e,e,Wr)}function Jr(t,e,n){return j(t)?mr(t):e?Gr(e):n?(gr=n.length>1,Xr(n)):void 0}function Xr(t,e){var n=t.length>1&&!e;Y(xr,n);var i=tt(t.map(function(t){return br[t.type](t)}),n?cr:ar);return Z(xr),i}function Qr(t,e){if(t){var n=Xr(t,e);return t.length>1&&e?Vr(n):n}}function to(t,e,n,i,r){return dr(Rr,[t,e,n,i,r])}function eo(t,e,n,i){(t[e]||(t[e]={}))[n]=i}br[ln]=function(n){var r,a,s,c=n.tag,u=n.isComponent,f=n.isSvg,p=n.isStyle,h=n.isOption,l=n.isStatic,v=n.isComplex,m=n.name,y=n.ref,g=n.key,x=n.html,k=n.attrs,b=n.children,$={},w=[];if(c===o){var C=[mr(Oe+m)];return b&&Y(C,Kr(Xr(b,t))),dr(qr,C)}return Y(kr,e),k&&M(k,function(t){Y(w,br[t.type](t))}),36===mt(c)?r=mr(pt(c,1)):$.tag=mr(c),f&&($.isSvg=rr),p&&($.isStyle=rr),h&&($.isOption=rr),l&&($.isStatic=rr),y&&($.ref=Jr(y.value,y.expr,y.children)),g&&($.key=Jr(g.value,g.expr,g.children)),x&&($.html=Gr(x,t)),u?($.isComponent=rr,b&&(kr[kr.length-1]=t,s=function(e){var n={},i={},r=function(t,e){et(e)||Y(i[t=Oe+t]||(i[t]=[]),e)};if(M(e,function(t){if(t.type===ln){var e=t;if(e.slot)return void r(e.slot,e.tag===d?e.children:[e])}r(Ae,[t])}),qt(i,function(e,i){n[i]=Kr(Xr(e,t))}),!Yt(n))return Yr(n)}(b))):b&&(gr=t,kr[kr.length-1]=v,a=Xr(b,v),v?a=Kr(a):($.text=a,a=i)),Z(kr),to(Yr($),r,et(w)?i:Kr(tt(w,ar)),a,s)},br[vn]=function(e){var n=e.binding?dr(zr,[mr(e.name),Hr(e.expr,t,t)]):Jr(e.value,e.expr,e.children);return dr(Er,[mr(e.name),n])},br[mn]=function(e){var n=e.binding?dr(zr,[mr(e.name),Hr(e.expr,t,t),mr(e.hint)]):Jr(e.value,e.expr,e.children);return dr(Or,[mr(e.name),mr(e.hint),n])},br[dn]=function(e){var n=e.ns,r=e.name,o=e.key,a=e.value,s=e.expr;if(n===Le)return dr(Ar,[mr(r),mr(a)]);if(n===p)return dr(jr,[mr(a)]);if(n===De)return dr(Pr,[Hr(s,t,t)]);var c=Dr,u=[mr(r),mr(o),mr(a)];return s&&(s.type===Gn?(n===Ie&&(c=Nr),Y(u,mr(s.name.name)),et(s.args)||Y(u,Kr(Fr+vr(s.args.map(Zr)),Wr))):n===Ie?(c=Lr,Y(u,mr(s.raw))):n===qe&&s.type!==Bn&&(Y(u,i),Y(u,i),Y(u,Kr(Fr+Zr(s),Wr)))),dr(c,u)},br[Sn]=function(e){return dr(Ir,[Hr(e.expr,t,e.binding)])},br[yn]=function(t){var e=mr(t.text);return G(kr)&&!G(xr)?dr(Tr,[e]):e},br[Cn]=function(t){return G(kr)&&!G(xr)?function(t,e){return dr(Tr,[Gr(t,e)])}(t.expr,gr):Gr(t.expr,gr)},br[gn]=function(t){return function t(e,n){var i,r,o=e.children,a=e.isComplex,s=e.next,c=Gr(e.expr),u=Qr(o,a);if(s?i=s.type===kn?Qr(s.children,s.isComplex):t(s,n):n&&(i=to(Yr({isComment:rr,text:hr}))),j(u)||j(i)){var f=G(xr);return f&&(z(u)&&(u=hr),z(i)&&(i=hr)),r=z(i)?c+ur+u:z(u)?pr+c+ur+i:c+fr+u+sr+i,f?Vr(r):r}return hr}(t,t.stub)},br[bn]=function(e){return dr(Br,[Kr(Xr(e.children,e.isComplex)),Hr(e.from,t),e.to?Hr(e.to,t):i,e.equal?rr:i,e.index?mr(e.index):i])},br[$n]=function(t){return dr(Ur,[mr(t.name),Kr(Xr(t.children,t.isComplex))])},br[wn]=function(t){return dr(_r,[mr(t.name)])};var no="directives";var io="textContent",ro="innerHTML",oo=function(t){var e=b.querySelector(t);if(e)return e},ao=function(t,n,i){t.addEventListener(n,i,e)},so=function(t,n,i){t.removeEventListener(n,i,e)},co=function(t,e){t.classList.add(e)},uo=function(t,e){t.classList.remove(e)},fo=function(t,e){return t};if(b&&(b.documentElement.classList||(co=function(t,e){var n=t.className.split(lo);X(n,e)||(Y(n,e),t.className=tt(n,lo))},uo=function(t,e){var n=t.className.split(lo);J(n,e)&&(t.className=tt(n,lo))}),!b.addEventListener)){ao=function(t,e,n){"input"===e?ao(t,"propertychange",n[vo]=function(t){t.propertyName===h&&((t=new B(t)).type="input",_(n,this,t))}):e===C&&po(t)?ao(t,w,n[vo]=function(t){(t=new B(t)).type=C,_(n,this,t)}):t.attachEvent("on"+e,n)},so=function(t,e,n){"input"===e?(so(t,"propertychange",n[vo]),delete n[vo]):e===C&&po(t)?(so(t,w,n[vo]),delete n[vo]):t.detachEvent("on"+e,n)};var po=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},ho=function(){function n(t,e){_t(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return n.prototype.preventDefault=function(){this.originalEvent.returnValue=e},n.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=t},n}();io="innerText",fo=function(t,e){return new ho(t,e)},oo=function(t){35===mt(t,0)?t=pt(t,1):ue('"#id" is the only supported selector for legacy version.');var e=b.getElementById(t);if(e)return e}}var lo=" ",vo="$emitter",mo="styleSheet",yo={svg:"http://www.w3.org/2000/svg"},go={};function xo(t){return b.createComment(t)}function ko(t,n,i){if(j(i))Ft(t,n,i,e);else{var r=Wt(t,n);if(r)return r.value}}function bo(t,e,i){if(j(i))t.setAttribute(e,i);else{var r=t.getAttribute(e);if(r!=n)return r}}function $o(t,e){t.appendChild(e)}go[S]={on:function(n,i){var r=e;Eo(n,"compositionstart",i.compositionstart=function(){r=t}),Eo(n,"compositionend",i.compositionend=function(t){r=e,i(t)}),ao(n,"input",i.input=function(t){r||i(t)})},off:function(t,e){Oo(t,"compositionstart",e.compositionstart),Oo(t,"compositionend",e.compositionend),so(t,"input",e.input),e.compositionstart=e.compositionend=e.input=i}};var wo=oo;function Co(t,e,n,i){if(!j(e))return t[ro];n&&Ht(t,mo)?t[mo].cssText=e:(i&&(t.value=e),t[ro]=e)}var So=co,To=uo;function Eo(t,e,n){var i=t[vo]||(t[vo]=new pe),r=i.nativeListeners||(i.nativeListeners={});if(!r[e]){var o=go[e],a=function(n){var r=n instanceof B?n:new B(n.type,fo(n,t));r.type!==e&&(r.type=e),i.fire(e,[r])};r[e]=a,o?o.on(t,a):ao(t,e,a)}i.on(e,n)}function Oo(t,e,n){var r=t[vo],o=r.listeners,a=r.nativeListeners;if(r.off(e,n),a&&!r.has(e)){var s=go[e],c=a[e];s?s.off(t,c):so(t,e,c),delete a[e]}Yt(o)&&(t[vo]=i)}var Ao=Object.freeze({createElement:function(t,e){return e?b.createElementNS(yo.svg,t):b.createElement(t)},createText:function(t){return b.createTextNode(t)},createComment:xo,prop:ko,removeProp:function(t,n,i){Ft(t,n,i===Pe?e:A,e)},attr:bo,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:$o,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:wo,tag:function(t){if(1===t.nodeType)return gt(t.tagName)},text:function(t,e,n,i){if(!j(e))return t[io];n&&Ht(t,mo)?t[mo].cssText=e:(i&&(t.value=e),t[io]=e)},html:Co,addClass:So,removeClass:To,on:Eo,off:Oo,addSpecialEvent:function(t,e){go[t]&&ce('Special event "'+t+'" is existed.'),ae('Special event "'+t+'" add success.'),go[t]=e}}),jo=function(){function e(e,n,i,r,o,a,s){var c=this;c.keypath=e,c.cache=i,c.deps=r,c.context=o.context,c.observer=o,c.getter=a,c.setter=s,c.unique={},c.watcher=function(n,i,r){var a=c.value,s=c.get(t);s!==a&&o.diff(e,s,a)},c.watcherOptions={sync:n,watcher:c.watcher},(c.fixed=!et(r))&&M(r,function(t){o.watch(t,c.watcherOptions)})}return e.build=function(n,i,r){var o,a,s=t,c=t,u=[];if(P(r)?o=r:L(r)&&(R(r.cache)&&(s=r.cache),R(r.sync)&&(c=r.sync),N(r.deps)&&(u=Mt(r.deps)),P(r.get)&&(o=r.get),P(r.set)&&(a=r.set)),o)return new e(n,c,s,u,i,o,a)},e.prototype.get=function(t){var n=this.getter,i=this.context;if(this.cache){if(t||!Ht(this,h))if(this.fixed)this.value=_(n,i);else{this.unbind();var r=e.current;e.current=this,this.value=_(n,i),this.bind(),e.current=r}}else this.value=_(n,i);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,i=this.watcherOptions;qt(t,function(t,r){Y(e,r),n.watch(r,i)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,i=this.watcher;M(e,function(t){n.unwatch(t,i)},t),e.length=0},e}();function zo(t,n){var i;return M(t,function(t){var r=Ot(n,t);if(r>=0)return i={name:t,prop:pt(n,r)},e}),i}function Po(t,e){if(t==n||e===A)return t;var i=Wt(t,e);return i?i.value:void 0}function No(e,n,r,o,a){var s=function(t,n,i){if(n!==i){var r=jt(e,t);M(o,function(t){j(Pt(r,t))&&a(t,r,n,i)}),No(r,n,i,o,a)}};(function(e,n,r){var o=D(e),a=D(n);if(o||a)return r(l,o?e.length:i,a?n.length:i),t})(n,r,s)||function(e,n,r){var o=N(e),a=N(n);if(o||a){var s=o?e.length:i,c=a?n.length:i;r(l,s,c);for(var u=0,f=Math.max(s||0,c||0);u<f;u++)r(""+u,e?e[u]:i,n?n[u]:i);return t}}(n,r,s)||function(t,e,n){var i=L(t),r=L(e);(i||r)&&(t=i?t:E,e=r?e:E,i&&qt(t,function(t,i){t!==e[i]&&n(i,t,e[i])}),r&&qt(e,function(e,i){e!==t[i]&&n(i,t[i],e)}))}(n,r,s)}function Lo(t,e,n,i,r,o){var a;qt(i,function(i,s){if(zt(s))j(Pt(t,s))?o(s,t,e,n):r&&(a?Y(a,s):a=[s]);else{var c=Ot(s,t);if(c>=0){var u=pt(s,c),f=Po(e,u),p=Po(n,u);f!==p&&o(s,s,f,p)}}}),a&&No(t,e,n,a,o)}function Do(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var Io={watcher:T};function Ro(e,n){return P(e)?(Io.watcher=e,Io.immediate=n===t,Io):e&&e.watcher?e:void ue("watcher should be a function or object.")}var qo=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new xe,this.syncEmitter=new pe,this.asyncEmitter=new pe,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var i,r,o=jo.current,a=this.data,s=this.computed,c=this.reversedComputedKeys;if(t===A)return a;if(o&&!n&&o.add(t),s){if(r=s[t])return r.get();if(c){var u=zo(c,t);u&&u.prop&&(i=Wt(s[u.name].get(),u.prop))}}return i||(i=Wt(a,t)),i?i.value:e},n.prototype.set=function(t,e){var n=this,i=n.data,r=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var s;if(r&&((s=r[e])&&s.set(t),o)){var c=zo(o,e);if(c&&c.prop&&(s=r[c.name])){var u=s.get();L(u)&&Ft(u,c.prop,t)}}s||Ft(i,e,t),n.diff(e,t,a)}};D(t)?a(e,t):L(t)&&qt(t,a)},n.prototype.diff=function(e,n,r){var o=this,a=o.syncEmitter,s=o.asyncEmitter,c=o.asyncChanges,u=36!==mt(e);Lo(e,n,r,a.listeners,u,function(t,e,n,i){a.fire(t,[n,i,e])}),Lo(e,n,r,s.listeners,u,function(e,n,r,a){M(s.listeners[e],function(t){t.count++});var u=(c[n]||(c[n]={value:a,keypaths:[]})).keypaths;X(u,e)||Y(u,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=i,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},qt(n,function(n,i){var r=[t.get(i),n.value,i];M(n.keypaths,function(t){e.fire(t,r,Do)})})},n.prototype.addComputed=function(e,n){var i=jo.build(e,this,n);if(i)return this.computed||(this.computed={}),this.computed[e]=i,this.reversedComputedKeys=Rt(this.computed,t),i},n.prototype.removeComputed=function(e){var n=this.computed;n&&Ht(n,e)&&(delete n[e],this.reversedComputedKeys=Rt(n,t))},n.prototype.watch=function(t,e,n){var r=this,o=r.context,a=r.syncEmitter,s=r.asyncEmitter,c=function(t,e){var n=e.sync?a:s,c={fn:e.watcher,ctx:o,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&_(e.watcher,o,[r.get(t),i,t])};D(t)?c(t,Ro(e,n)):qt(t,function(t,e){c(e,Ro(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var i=_n(this.get(t),0)+(e||1);if(!I(n)||i<=n)return this.set(t,i),i},n.prototype.decrease=function(t,e,n){var i=_n(this.get(t),0)-(e||1);if(!I(n)||i>=n)return this.set(t,i),i},n.prototype.insert=function(n,i,r){var o=this.get(n),a=(o=N(o)?Mt(o):[]).length;if(r===t||r===a)o.push(i);else if(r===e||0===r)o.unshift(i);else{if(!(r>0&&r<a))return;o.splice(r,0,i)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var i=this.get(e);if(N(i)&&n>=0&&n<i.length)return(i=Mt(i)).splice(n,1),this.set(e,i),t},n.prototype.remove=function(e,n){var i=this.get(e);if(N(i)&&J(i=Mt(i),n))return this.set(e,i),t},n.prototype.copy=function(t,e){return Mt(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Ut(this)},n}();function Uo(t,e,n){var r;return function(){if(!r){var o=Q(arguments);n&&_(t,i,o),r=setTimeout(function(){r=i,n||_(t,i,o)},e)}}}var _o=Object.freeze({bind:function(e,n,i){var r=n.name,o=n.handler,a=i.lazy;if(o){if(a){var s=a[r]||a[A];s===t?r=C:s>0&&(o=Uo(o,s,r===w||r===$))}i.isComponent?(e.on(r,o),i.data[n.key]=function(){e.off(r,o)}):(Eo(e,r,o),i.data[n.key]=function(){Oo(e,r,o)})}},unbind:function(t,e,n){_(n.data[e.key])}});function Bo(e,n){return n&&n!==t?Uo(e,n):e}var Mo={set:function(t,e){t.value=Vt(e)},sync:function(t,e,n){n.set(e,t.value)},name:h},Wo={set:function(t,n){M(Q(t.options),t.multiple?function(t){t.selected=X(n,t.value,e)}:function(i,r){if(i.value==n)return t.selectedIndex=r,e})},sync:function(t,e,n){var i=t.options;if(t.multiple){var r=[];M(Q(i),function(t){t.selected&&Y(r,t.value)}),n.set(e,r)}else n.set(e,i[t.selectedIndex].value)},name:h},Fo={radio:{set:function(t,e){t.checked=t.value===Vt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set:function(t,n){t.checked=N(n)?X(n,t.value,e):!!n},sync:function(t,n,i){var r=i.get(n);N(r)?t.checked?i.append(n,t.value):i.removeAt(n,V(r,t.value,e)):i.set(n,t.checked)},name:"checked"}},Ho=t;var Yo=Object.freeze({once:Ho,bind:function(e,n,r){var o,a,s,c=r.context,u=r.lazy,f=r.isComponent,p=n.binding,h=u&&(u[De]||u[A]);if(f){var l=e,v=l.$model;o=function(t){o&&l.set(v,t)},a=Bo(function(t){c.set(p,t)},h),s=function(){l.unwatch(v,a)},l.watch(v,a)}else{var d=e,m="select"===r.tag?Wo:Mo,y=C;if(m===Mo){var g=e.type;Fo[g]?m=Fo[g]:h!==t&&(y=S)}o=function(t){o&&m.set(d,t)},a=Bo(function(){m.sync(d,p,c)},h),s=function(){Oo(d,y,a)},Eo(d,y,a),m.set(d,n.value)}c.watch(p,o),r.data[n.key]=function(){c.unwatch(p,o),o=i,s()}},unbind:function(t,e,n){_(n.data[e.key])}}),Ko=t;var Vo=Object.freeze({once:Ko,bind:function(t,e,n){var r=e.binding,o=zt(r),a=function(i,s,c){if(a){var u=o?Pt(c,r):e.name;if(n.isComponent){var f=t;f.checkProp(u,i),f.set(u,i)}else{var p=t;j(e.hint)?ko(p,u,i):bo(p,u,i)}}};n.context.watch(r,a),n.data[e.key]=function(){n.context.unwatch(r,a),a=i}},unbind:function(t,e,n){_(n.data[e.key])}});var Go={},Zo={},Jo={},Xo={},Qo={},ta={},ea="$$",na=/^[#.][-\w+]+$/,ia=function(){function r(n){var o=this,a=n||E;o.$emitter=new pe(t),a.events&&o.on(a.events),a.parent&&(o.$parent=a.parent),_(a[_e],o,a),o.fire(_e+Ue,a);var h=a.data,l=a.props,d=a.vnode,m=a.propTypes,y=a.computed,g=a.methods,x=a.watchers,k=a.extensions;o.$options=a,k&&_t(o,k);var b=l?Mt(l):{};m&&qt(m,function(t,e){var n=b[e];aa(e,n,t),z(n)&&j(n=t.value)&&(b[e]=t.type===v?n:P(n)?n():n)});var $=o.$observer=new qo(b,o);y&&qt(y,function(t,e){$.addComputed(e,t)}),d&&L(h)&&se("child component's data should be a function which return an object.");var w=P(h)?_(h,o,n):h;L(w)&&qt(w,function(t,e){Ht(b,e)&&se('"'+e+'" is already defined as a prop. Use prop default value instead.'),b[e]=t}),g&&qt(g,function(t,e){o[e]&&ue('method "'+e+'" is conflicted with built-in methods.'),o[e]=t});var C=i,S=a.el,T=a.root,O=a.model,N=a.context,I=a.replace,R=a.template,q=a.transitions,U=a.components,B=a.directives,M=a.partials,W=a.filters,F=a.slots;if(O&&(o.$model=O),F&&_t(b,F),D(R)&&na.test(R)&&((C=wo(R))?(R=Co(C),C=i):ue('selector "'+R+"\" can't match an element.")),S){if(D(S)){var H=S;na.test(H)?(C=wo(H))||ue('selector "'+H+"\" can't match an element."):ue('"el" option should be a selector.')}else C=S;I||$o(C,C=xo(A))}if(T&&(o.$root=T),N&&(o.$context=N),ca(o,p,q),ca(o,u,U),ca(o,f,B),ca(o,c,M),ca(o,s,W),R){var Y=x?Mt(x):{};return Y[ea]={sync:t,watcher:function(t){o.update(t,o.$vnode)}},$.addComputed(ea,{sync:e,get:function(){return o.render()}}),sa(o,Y),o.$template=D(R)?r.compile(R):R,d||(C||ue('"el" option is required for root component.'),d=function(t,e,n,i){return{tag:t.tag(e),data:rn(),node:e,context:n,keypath:i}}(Ao,C,o,A)),void o.update(o.get(ea),d)}(C||d)&&ue('"template" option is required.'),sa(o,x)}return r.use=function(t){t.install(r)},r.create=function(t){return t},r.nextTick=function(t,e){xe.shared().append(t,e)},r.compile=function(t,e){if(!ta[t]){var n=ir(t);1!==n.length&&ue('"template" should have just one root element.'),ta[t]=(i=n[0],yr||(yr="function("+tt([$r,wr,Cr,Sr,Tr,Er,Or,Ar,jr,zr,Pr,Nr,Lr,Dr,Ir,Rr,qr,Ur,_r,Br,Mr],ar)+"){"+Fr),yr+br[i.type](i)+"}")}return t=ta[t],e?t:new Function("return "+t)();var i},r.directive=function(t,e){if(D(t)&&!e)return ha(Go,t);la(Go,t,e)},r.transition=function(t,e){if(D(t)&&!e)return ha(Zo,t);la(Zo,t,e)},r.component=function(t,e){if(D(t)&&!e)return ha(Jo,t);la(Jo,t,e)},r.partial=function(t,e){if(D(t)&&!e)return ha(Xo,t);la(Xo,t,e,r.compile)},r.filter=function(t,e){if(D(t)&&!e)return ha(Qo,t);la(Qo,t,e)},r.prototype.addComputed=function(t,e){return this.$observer.addComputed(t,e)},r.prototype.removeComputed=function(t){this.$observer.removeComputed(t)},r.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},r.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},r.prototype.on=function(t,e){return fa(this,t,e)},r.prototype.once=function(e,n){return fa(this,e,n,t)},r.prototype.off=function(t,e){return this.$emitter.off(t,e),this},r.prototype.fire=function(e,n,i){var r,o=e instanceof B?e:new B(e),a=[o];if(o.target||(o.target=this),L(n)?Y(a,n):n===t&&(i=t),r=this.$emitter.fire(o.type,a)){var s=this.$parent,c=this.$children;i?c&&(o.phase=B.PHASE_DOWNWARD,M(c,function(e){return r=e.fire(o,n,t)})):s&&(o.phase=B.PHASE_UPWARD,r=s.fire(o,n))}return r},r.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},r.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},r.prototype.loadComponent=function(t,e){pa(this.$components,t,e)||pa(Jo,t,e)||ce('Component "'+t+'" is not found.')},r.prototype.createComponent=function(e,n){(e=Mt(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=t;var i=n.props,o=n.slots,a=n.directives,s=a&&a[De];if(s){i||(i={});var c=e.model||"value";i[c]=s.value,e.model=c}i&&(e.props=i),o&&(e.slots=o);var u=new r(e);Y(this.$children||(this.$children=[]),u);var f=u.$el;return f?n.node=f:ue("The root element of [Component "+n.tag+"] is not found."),u},r.prototype.directive=function(t,e){var n=this.$directives;if(D(t)&&!e)return ha(n,t,r.directive);la(n||(this.$directives={}),t,e)},r.prototype.transition=function(t,e){var n=this.$transitions;if(D(t)&&!e)return ha(n,t,r.transition);la(n||(this.$transitions={}),t,e)},r.prototype.component=function(t,e){var n=this.$components;if(D(t)&&!e)return ha(n,t,r.component);la(n||(this.$components={}),t,e)},r.prototype.partial=function(t,e){var n=this.$partials;if(D(t)&&!e)return ha(n,t,r.partial);la(n||(this.$partials={}),t,e,r.compile)},r.prototype.filter=function(t,e){var n=this.$filters;if(D(t)&&!e)return ha(n,t,r.filter);la(n||(this.$filters={}),t,e)},r.prototype.forceUpdate=function(e){var n=this.$vnode,i=this.$observer,r=i.computed;if(n&&r){var o=r[ea],a=o.get();e&&this.set(e),i.nextTask.run(),e||a!==o.get()||this.update(o.get(t),n)}},r.prototype.render=function(){var e,r,o,a,s,c,u,f,p,h,l,v,d,y,g,x,k,b,$,w,C,S,T,E,O,P,D,I,R,q,U,W,F,H,V;return e=this,r=this.$template,o=Bt(this.$filters,Qo),a=Bt(this.$partials,Xo),s=Bt(this.$directives,Go),c=Bt(this.$transitions,Zo),p=[f={$keypath:A}],h=[],l={},v=function(t,r,a,s,c,u){var f=t[r],p=jt(f.$keypath,a),h=t,l=Nt;if(z(u)&&(u=p),j(f[a])?h=f[a]:j(f.$item)&&(f=f.$item,a===A?h=f:f!=n&&j(f[a])&&(h=f[a])),h===t&&(h=e.get(p,t,c))===t){if(s&&r>0)return oe('"'+p+"\" can't be found in the current context, start looking up."),v(t,r-1,a,s,c,u);var d=Wt(o,a);return d?(l=d).keypath=a:(l.value=i,l.keypath=u),l}return l.value=h,l.keypath=p,l},d=function(t,n,r){return function(o,a){var s=e[t];if(o instanceof B){var c=i;if(n){var u=G(r);u&&(u.$event=o,u.$data=a,c=_(s,e,n(r)),u.$event=u.$data=i)}else c=_(s,e,a?[o,a]:o);return c}_(s,e,n?n(r):i)}},y=function(t,e){return function(){return t(e)}},H=function(t,e,n,i,r,o){var a=f,s=p;f={$keypath:i},p=s.concat(f),j(o)&&(f.$length=o),r&&(f[r]=n),i||(f.$item=e),t(),f=a,p=s},r(D=function(t,e,n,i,r,o){var a=o||p,s=v(a,a.length-((n||0)+1),t,e,r);return i?s:s.value},I=function(t,e){return K(e,t),tt(e,Et)},R=function(t,e,n,r){j(n)&&(e=tt(n,Et));var o=Wt(t,e);return Nt.keypath=i,Nt.value=o?o.value:i,r?Nt:Nt.value},q=function(t,n,r){return Nt.keypath=i,Nt.value=_(t,e,n||i),r?Nt:Nt.value},g=function(n){var i=G(h);if(i){var r=G(i);r&&r.isText?r.text+=n:Y(i,{isText:t,text:n,context:e,keypath:f.$keypath})}},x=function(t,e){u.isComponent?eo(u,"props",t,e):eo(u,"nativeAttrs",t,{name:t,value:e})},k=function(t,e,n){eo(u,"nativeProps",t,{name:t,value:n,hint:e})},b=function(t,e){eo(u,"lazy",t,e)},$=function(t){u.transition=c[t],u.transition||ue('Transition "'+t+"\" can't be found.")},w=function(t,e,n){var i=jt(Re,t);return eo(u,no,i,{ns:Re,name:t,key:i,hooks:s[Re],binding:e.keypath,hint:n}),e.value},C=function(t){eo(u,no,De,{ns:De,name:A,key:De,value:t.value,binding:t.keypath,hooks:s[De]})},S=function(t,e,n,i,r){eo(u,no,e,{ns:Ie,name:t,key:e,value:n,hooks:s[Ie],handler:d(i,r,p)})},T=function(t,n,i,r){var o;eo(u,no,n,{ns:Ie,name:t,key:n,value:i,hooks:s[Ie],handler:(o=r,function(t,n){o!==t.type&&(t=new B(o,t)),e.fire(t,n)})})},E=function(t,e,n,r,o,a){var c=s[t];c||ue("Directive "+t+" can't be found."),eo(u,no,e,{ns:qe,name:t,key:e,value:n,hooks:c,getter:a?y(a,p):i,handler:r?d(r,o,p):i})},O=function(t){var e=t.value,i=t.keypath;if(e!=n&&L(e)&&!N(e)&&(qt(e,function(t,e){eo(u,"props",e,t)}),i)){var r=jt(Re,i);eo(u,no,r,{ns:Re,name:A,key:r,hooks:s[Re],binding:jt(i,m)})}},P=function(t,n,r,o,a){if(n){var s=e.get(n);s||se('Dynamic component "'+n+"\" can't be found."),t.tag=s}if(r&&(u=t,r(),u=i),o)h.push(t.children=[]),o(),Z(h);else if(a){var c={};qt(a,function(t,e){h.push([]),t();var n=Z(h);c[e]=n.length?n:i}),t.slots=c}t.context=e,t.keypath=f.$keypath;var p=G(h);return p&&Y(p,t),t},U=function(t,n){var i=G(h),r=e.get(t);i&&(r?M(r,function(n){Y(i,n),n.slot=t,n.parent=e}):n&&n())},W=function(t,e){l[t]=e},F=function(t){if(l[t])l[t]();else{var e=a[t];e?e(D,I,R,q,g,x,k,b,$,w,C,S,T,E,O,P,U,W,F,V,Vt):ue('Partial "'+t+"\" can't be found.")}},V=function(t,e,n,i,r){var o=e.value,a=e.keypath;if(n){var s=n.value,c=0;if(o<s)if(i)for(var u=o;u<=s;u++)H(t,u,c++,A,r);else for(u=o;u<s;u++)H(t,u,c++,A,r);else if(i)for(u=o;u>=s;u--)H(t,u,c++,A,r);else for(u=o;u>s;u--)H(t,u,c++,A,r)}else if(N(o)){u=0;for(var f=o.length;u<f;u++)H(t,o[u],u,a?jt(a,A+u):A,r,f)}else if(L(o))for(var p in o)H(t,o[p],p,a?jt(a,p):A,r)},Vt)},r.prototype.update=function(t,e){var n,i=this,o=i.$vnode,a=i.$options;i.$refs={},o?(_(a.beforeUpdate,i),i.fire("beforeUpdate"+Ue),hn(Ao,t,e),n="afterUpdate"):(_(a.beforeMount,i),i.fire("beforeMount"+Ue),hn(Ao,t,e),i.$el=t.node,n="afterMount"),i.$vnode=t,r.nextTick(function(){i.$vnode&&(_(a[n],i),i.fire(n+Ue))})},r.prototype.checkProps=function(t){var e=this;qt(t,function(t,n){e.checkProp(n,t)})},r.prototype.checkProp=function(t,e){var n=this.$options.propTypes;if(n){var i=n[t];i&&aa(t,e,i)}},r.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,r=this.$observer;_(e.beforeDestroy,this),this.fire("beforeDestroy"+Ue);var o=this.$vnode;t&&t.$children&&J(t.$children,this),o&&(this.$vnode=i,function(t,e,n){if(n){var i=t.parent(e.node);i?un(t,i,e):ue("Can't destroy vnode without parent node.")}else fn(t,e)}(Ao,o,!t)),r.destroy(),_(e.afterDestroy,this),this.fire("afterDestroy"+Ue),n.off(),Ut(this)},r.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},r.prototype.toggle=function(t){return this.$observer.toggle(t)},r.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},r.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},r.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},r.prototype.append=function(t,e){return this.$observer.append(t,e)},r.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},r.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},r.prototype.remove=function(t,e){return this.$observer.remove(t,e)},r.prototype.copy=function(t,e){return this.$observer.copy(t,e)},r.version="1.0.0-alpha.78",r.is=U,r.dom=Ao,r.array=nt,r.object=Kt,r.string=bt,r.logger=fe,r.Event=B,r.Emitter=pe,r}(),ra=Object.prototype.toString;function oa(t,e){return"numeric"===e?q(t):gt(ra.call(t))==="[object "+e+"]"}function aa(n,i,r){if(j(i)){var o=r.type;if(o)if(P(o))o(n,i);else{var a=e;kt(o)?et(o)||M(o,function(n){if(oa(i,n))return a=t,e}):a=oa(i,o),a||se('The type of prop "'+n+'" expected to be "'+o+'", but is "'+i+'".')}else se('The prop "'+n+'" in propTypes has no type.')}else r.required&&se('The prop "'+n+'" is marked as required, but its value is not found.')}function sa(t,e){e&&t.watch(e),_(t.$options[Be],t),t.fire(Be+Ue)}function ca(t,e,n){P(n)?t[e](_(n,t)):L(n)&&t[e](n)}function ua(t,e,n,i){var r={fn:n,ctx:t};i&&(r.max=1),t.$emitter.on(e,r)}function fa(t,e,n,i){return D(e)?ua(t,e,n,i):qt(e,function(e,n){ua(t,n,e,i)}),t}function pa(e,n,i){if(e&&e[n]){var r=e[n];if(P(r)){e[n]=[i];var o=function(t){var i=e[n],r=t.default||t;e[n]=r,M(i,function(t){t(r)})},a=r(o);a&&a.then(o)}else N(r)?Y(r,i):i(r);return t}}function ha(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function la(t,e,n,i){D(e)?t[e]=i?i(n):n:qt(e,function(e,n){t[n]=i?i(e):e})}return ia.directive({event:_o,model:Yo,binding:Vo}),ia.filter({hasSlot:function(t){return j(this.get(Oe+t))}}),ia});
//# sourceMappingURL=yox.min.js.map
