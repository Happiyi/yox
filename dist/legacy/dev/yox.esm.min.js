const t=!0,e=!1,n=null,i=void 0,o="true",r="slot",s="name",c="filter",a="partial",u="component",f="directive",l="transition",p="value",d="length",h="function",m="template",g="*",v="..",y="this",x=-1,k="undefined"!=typeof window?window:i,b="undefined"!=typeof document?document:i,$="tap",w="click",C="change",S="model",T=function(){},E=Object.freeze({}),O=Object.freeze([]),A="";function z(t){return t!==i}function P(t){return t===i}function j(t){return typeof t===h}function N(t){return Array.isArray(t)}function L(t){return t!==n&&"object"==typeof t}function I(t){return"string"==typeof t}function R(t){return"number"==typeof t}function D(t){return"boolean"==typeof t}function q(t){return R(t)||I(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var U=Object.freeze({func:j,array:N,object:L,string:I,number:R,boolean:D,numeric:q});function _(t,e,n){if(j(t))return N(n)?t.apply(e,n):z(e)?t.call(e,n):z(n)?t(n):t()}class B{constructor(t,e){this.type=t,this.phase=B.PHASE_CURRENT,e&&(this.originalEvent=e)}preventDefault(){const e=this;if(!e.isPrevented){const{originalEvent:n}=e;n&&n.preventDefault(),e.isPrevented=t}return e}stopPropagation(){const e=this;if(!e.isStoped){const{originalEvent:n}=e;n&&n.stopPropagation(),e.isStoped=t}return e}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function W(t,n,i){const{length:o}=t;if(o)if(i)for(let i=o-1;i>=0&&n(t[i],i,o)!==e;i--);else for(let i=0;i<o&&n(t[i],i,o)!==e;i++);}function M(t,e){t[t.length]=e}function F(t,e){t.unshift(e)}function H(t,e,n){N(e)?W(e,function(e){n(t,e)}):n(t,e)}function Y(t,e){H(t,e,M)}function K(t,e){H(t,e,F)}function V(t,n,i){let o=x;return W(t,function(t,r){if(i===e?t==n:t===n)return o=r,e}),o}function G(t){const{length:e}=t;if(e>0)return t[e-1]}function Z(t){const{length:e}=t;if(e>0)return t.pop()}function J(n,i,o){let r=0;return W(n,function(t,s){(o===e?t==i:t===i)&&(n.splice(s,1),r++)},t),r}function X(t,e,n){return V(t,e,n)>=0}function Q(t){return N(t)?t:_(O.slice,t)}function tt(t,e){return t.join(e)}function et(t){return!N(t)||!t.length}B.PHASE_CURRENT=0,B.PHASE_UPWARD=1,B.PHASE_DOWNWARD=x;var nt=Object.freeze({each:W,push:Y,unshift:K,indexOf:V,last:G,pop:Z,remove:J,has:X,toArray:Q,toObject:function(t,e,n){let i={};return W(t,function(t){i[e?t[e]:t]=n||t}),i},join:tt,falsy:et});const it=/-([a-z])/gi,ot=/\B([A-Z])/g,rt=/^[a-z]/,st={},ct={},at={};function ut(t){return st[t]||(st[t]=t.replace(it,function(t,e){return vt(e)})),st[t]}function ft(t){return kt(t)?A:t.trim()}function lt(t,e,n){return R(n)?e===n?A:t.slice(e,n):t.slice(e)}function pt(t,e,n){return t.indexOf(e,z(n)?n:0)}function dt(t,e,n){return t.lastIndexOf(e,z(n)?n:t.length)}function ht(t,e){return 0===pt(t,e)}function mt(t,e){return t.charAt(e||0)}function gt(t,e){return t.charCodeAt(e||0)}function vt(t){return t.toUpperCase()}function yt(t){return t.toLowerCase()}function xt(t,e){return pt(t,e)>=0}function kt(t){return!I(t)||!t.length}var bt=Object.freeze({camelize:ut,hyphenate:function(t){return ct[t]||(ct[t]=t.replace(ot,function(t,e){return"-"+yt(e)})),ct[t]},capitalize:function(t){return at[t]||(at[t]=t.replace(rt,vt)),at[t]},trim:ft,slice:lt,indexOf:pt,lastIndexOf:dt,startsWith:ht,endsWith:function(t,e){const n=t.length-e.length;return n>=0&&dt(t,e)===n},charAt:mt,codeAt:gt,upper:vt,lower:yt,has:xt,falsy:kt});const $t=/\./g,wt=/\*/g,Ct=/\*\*/g,St={},Tt={},Et=".";function Ot(t,e){return t===e?e.length:ht(t,e+=Et)?e.length:x}function At(t,n){const i=z(St[t])?St[t]:St[t]=t.split(Et);for(let t=0,o=i.length-1;t<=o&&n(i[t],t===o)!==e;t++);}function zt(t,e){return t&&e?t+Et+e:t||e}function Pt(t){return xt(t,g)}function jt(t,e){let n=Tt[e];if(!n){const t=e.replace($t,"\\.").replace(wt,"(\\w+)").replace(Ct,"([.\\w]+?)");n=Tt[e]=new RegExp(`^${t}$`)}const i=t.match(n);if(i)return i[1]}const Nt={value:i};function Lt(t){return Object.keys(t)}function It(t,e){return t.length-e.length}function Rt(t,e){return e.length-t.length}function Dt(t,e){return Lt(t).sort(e?Rt:It)}function qt(t,n){for(let i in t)if(n(t[i],i)===e)break}function Ut(t){qt(t,function(e,n){delete t[n]})}function _t(t,e){return qt(e,function(e,n){t[n]=e}),t}function Bt(t,e){return t&&e?_t(_t({},t),e):t||e}function Wt(t,e){let n=t;return N(t)?e?(n=[],W(t,function(t,i){n[i]=Wt(t,e)})):n=t.slice():L(t)&&(n={},qt(t,function(t,i){n[i]=e?Wt(t,e):t})),n}function Mt(t,o){return At(o,function(o,r){if(t==n)return t=i,e;{let e=t[o],n=z(e);e&&j(e.get)&&(e=e.get()),r?n?(Nt.value=e,t=Nt):t=i:t=e}}),t}function Ft(t,n,i,o){At(n,function(n,r){if(r)t[n]=i;else if(t[n])t=t[n];else{if(!o)return e;t=t[n]={}}})}function Ht(t,e){return z(t[e])}function Yt(t){return!L(t)||N(t)||!Lt(t).length}var Kt=Object.freeze({keys:Lt,sort:Dt,each:qt,clear:Ut,extend:_t,merge:Bt,copy:Wt,get:Mt,set:Ft,has:Ht,falsy:Yt});function Vt(t,e){return t!=n&&t.toString?t.toString():z(e)?e:A}const Gt=1,Zt=2,Jt=3,Xt=4,Qt=5,te="undefined"!=typeof console?console:n,ee=/yox/.test(Vt(T))?Gt:Jt,ne="%c";function ie(){if(k){const t=k.YOX_LOG_LEVEL;if(t>=Gt&&t<=Qt)return t}return ee}function oe(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}function re(t,e){te&&ie()<=Gt&&te.log(ne+(e||"Yox debug"),oe("#999"),t)}function se(t,e){te&&ie()<=Zt&&te.log(ne+(e||"Yox info"),oe("#2db7f5"),t)}function ce(t,e){te&&ie()<=Jt&&te.warn(ne+(e||"Yox warn"),oe("#f90"),t)}function ae(t,e){te&&ie()<=Xt&&te.error(ne+(e||"Yox error"),oe("#ed4014"),t)}function ue(t,e){if(ie()<=Qt)throw new Error(`[${e||"Yox fatal"}]: ${t}`)}var fe=Object.freeze({DEBUG:Gt,INFO:Zt,WARN:Jt,ERROR:Xt,FATAL:Qt,debug:re,info:se,warn:ce,error:ae,fatal:ue});class le{constructor(t){this.ns=t||e,this.listeners={}}fire(n,o,r){let s=this,{name:c,ns:a}=pe(s.ns,n),u=s.listeners[c],f=t;if(u){u=Wt(u);const t=o&&o[0]instanceof B?o[0]:i;W(u,function(c,l){if(!me(a,c)||!X(u,c)||r&&!r(n,o,c))return;t&&(t.listener=c.fn);let p=_(c.fn,c.ctx,o);return t&&(t.listener=i),c.num=c.num?c.num+1:1,c.num===c.max&&s.off(n,c.fn),t&&(p===e?t.prevent().stop():t.isStoped&&(p=e)),p===e?f=e:void 0})}return f}on(t,e){const n=this,{listeners:i}=n,o=j(e)?{fn:e}:e;if(L(o)&&j(o.fn)){const{name:e,ns:r}=pe(n.ns,t);o.ns=r,Y(i[e]||(i[e]=[]),o)}else ue("Invoke emitter.on(type, listener) failed.")}off(e,n){const i=this,{listeners:o}=i;if(e){const{name:r,ns:s}=pe(i.ns,e),c=he(n),a=function(e,n){W(e,function(t,n){c(t)&&me(s,t)&&e.splice(n,1)},t),e.length||delete o[n]};r?o[r]&&a(o[r],r):s&&qt(o,a)}else i.listeners={},arguments.length>0&&ce('emitter.off(type) is invoked, but the "type" argument is undefined or null.')}has(n,i){let{listeners:o}=this,{name:r,ns:s}=pe(this.ns,n),c=t,a=he(i),u=function(t){return W(t,function(t){if(a(t)&&me(s,t))return c=e}),c};return r?o[r]&&u(o[r]):s&&qt(o,u),!c}}function pe(t,e){const n={name:e,ns:A};if(t){const t=pt(e,".");t>=0&&(n.name=lt(e,0,t),n.ns=lt(e,t+1))}return n}function de(e){return t}function he(t){return j(t)?function(e){return t===e.fn}:de}function me(e,n){const{ns:i}=n;return i&&e?i===e:t}function ge(t){return j(t)&&/native code/.test(Vt(t))}let ve;typeof setImmediate===h&&ge(setImmediate)&&(ve=setImmediate);var ye=ve=typeof MessageChannel===h&&ge(MessageChannel)?function(t){const e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout;let xe;class ke{static shared(){return xe||(xe=new ke)}constructor(){this.tasks=[]}append(t,e){const n=this,{tasks:i}=n;Y(i,{fn:t,ctx:e}),1===i.length&&ye(function(){n.run()})}prepend(t,e){const n=this,{tasks:i}=n;K(i,{fn:t,ctx:e}),1===i.length&&ye(function(){n.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],W(t,function(t){_(t.fn,t.ctx)}))}}const be="#if",$e="else",we="else if",Ce="#each",Se="#partial",Te=">",Ee="...",Oe=/^!\s/,Ae="$slot_",ze="children",Pe=1,je=2,Ne=3,Le="on",Ie="lazy",Re="model",De="event",qe="binding",Ue="o",_e="value",Be=".hook",We="beforeCreate",Me="afterCreate",Fe="beforeMount",He="afterMount",Ye="beforeUpdate",Ke="afterUpdate",Ve="beforeDestroy",Ge="afterDestroy";let Ze=0;const Je="$id",Xe="$vnode",Qe="$loading",tn="$component",en="$leaving";function nn(t,e,n){const{node:i,nativeAttrs:o}=e,r=n&&n.nativeAttrs;if(o||r){const e=o||E,n=r||E;qt(e,function(e,o){n[o]&&e.value===n[o].value||t.attr(i,o,e.value)}),qt(n,function(n,o){e[o]||t.removeAttr(i,o)})}}function on(t,e,n){const{node:i,nativeProps:o}=e,r=n&&n.nativeProps;if(o||r){const e=o||E,n=r||E;qt(e,function(e,o){n[o]&&e.value===n[o].value||t.prop(i,o,e.value)}),qt(n,function(n,o){e[o]||t.removeProp(i,o,n.hint)})}}function rn(t,e){const{data:n,directives:i}=t,o=e&&e.directives;if(i||o){const r=n[tn]||t.node,s=e&&t.keypath!==e.keypath,c=i||E,a=o||E;qt(c,function(n,i){const{once:o,bind:c,unbind:u}=n.hooks;a[i]?(o||n.value!==a[i].value||s)&&(u&&u(r,a[i],e),c(r,n,t)):c(r,n,t)}),qt(a,function(t,n){if(!c[n]){const{unbind:n}=t.hooks;n&&n(r,t,e)}})}}function sn(t){const{directives:e}=t;if(e){const n=t.data[tn]||t.node;qt(e,function(e){const{unbind:i}=e.hooks;i&&i(n,e,t)})}}function cn(t,e){let n,{data:i,ref:o,props:r,slots:s,directives:c,context:a}=t;if(t.isComponent){if(n=i[tn],e){const t=c&&c[Re];t&&(r||(r={}),r[n.$model]=t.value),r&&n.checkProps(r);const e=Bt(r,s);e&&n.forceUpdate(e)}}else n=t.node;if(o){const t=a.$refs;t&&(t[o]=n)}}function an(t,e){return t.tag===e.tag&&t.key===e.key}function un(t,e,n){let i,o,r;for(;e<=n;)(o=t[e])&&(r=o.key)&&(i||(i={}),i[r]=e),e++;return i||E}function fn(t,e,n,i){i?t.before(e,n,i):t.append(e,n)}function ln(t,n){const i=(t.parent||t.context).createComponent(n,t);return t.data[tn]=i,t.data[Qe]=e,cn(t),rn(t),i}function pn(){const t={};return t[Je]=++Ze,t}function dn(e,n){let{tag:o,node:r,data:s,isComponent:c,isComment:a,isText:f,isStyle:l,isOption:p,children:d,text:h,html:m,context:g}=n;if(!r||!s)if(s=pn(),n.data=s,f)n.node=e.createText(h);else if(a)n.node=e.createComment(h);else if(c){let r=i;o&&g.loadComponent(o,function(t){Ht(s,Qe)?s[Qe]&&(s[Xe]&&(n=s[Xe],delete s[Xe]),xn(n,ln(n,t))):r=t}),n.node=e.createComment(u),r?ln(n,r):s[Qe]=t}else r=n.node=e.createElement(n.tag,n.isSvg),d?hn(e,r,d):h?e.text(r,h,l,p):m&&e.html(r,m,l,p),nn(e,n),on(e,n),cn(n),rn(n)}function hn(t,e,n,i,o,r){let s,c=i||0,a=z(o)?o:n.length-1;for(;c<=a;)dn(t,s=n[c]),mn(t,e,s,r),c++}function mn(t,e,n,o){const{node:r,data:s,context:c}=n,a=t.parent(r);if(o?t.before(e,r,o.node):t.append(e,r),!a){let t=i;if(n.isComponent){const e=s[tn];e&&(t=function(){xn(n,e)})}else n.isStatic||n.isText||n.isComment||(t=function(){xn(n)});t&&c.$observer.nextTask.prepend(t)}}function gn(t,e,n,i,o){let r,s=i||0,c=z(o)?o:n.length-1;for(;s<=c;)(r=n[s])&&vn(t,e,r),s++}function vn(t,e,n){const{node:o}=n;if(n.isStatic||n.isText||n.isComment)t.remove(e,o);else{let r,s=function(){yn(t,n),t.remove(e,o)};if(n.isComponent&&!(r=n.data[tn]))return void s();!function(t,e,n){let{data:o,transition:r}=t;e&&!r&&(r=e.$vnode.transition);if(r){const{leave:e}=r;if(e)return void e(t.node,o[en]=function(){o[en]&&(n(),o[en]=i)})}n()}(n,r,s)}}function yn(t,n){const{data:i,children:o,parent:r,slot:s}=n;if(s&&r&&r.$vnode){const t=r.get(s);if(t&&X(t,n))return}if(n.isComponent){const t=i[tn];t?(sn(n),t.destroy()):i[Qe]=e}else sn(n),o&&W(o,function(e){yn(t,e)})}function xn(t,e){let{data:n,transition:i}=t;if(e&&!i&&(i=e.$vnode.transition),_(n[en]),i){const{enter:e}=i;if(e)return void e(t.node)}}function kn(t,e,n){if(e===n)return;const{node:o,data:r}=n;if(!an(e,n)){const i=t.parent(o);return dn(t,e),void(i&&(mn(t,i,e,n),vn(t,i,n)))}if(e.node=o,e.data=r,n.isComponent&&r[Qe])return void(r[Xe]=e);if(e.isStatic&&n.isStatic)return;nn(t,e,n),on(t,e,n),cn(e,n),rn(e,n);const{text:s,html:c,children:a,isStyle:u,isOption:f}=e,l=n.text,p=n.html,d=n.children;I(s)?s!==l&&t.text(o,s,u,f):I(c)?c!==p&&t.html(o,c,u,f):a&&d?a!==d&&function(t,e,n,o){let r,s,c=0,a=n.length-1,u=n[c],f=n[a],l=0,p=o.length-1,d=o[l],h=o[p];for(;l<=p&&c<=a;)u?f?d?h?an(u,d)?(kn(t,u,d),u=n[++c],d=o[++l]):an(f,h)?(kn(t,f,h),f=n[--a],h=o[--p]):an(f,d)?(kn(t,f,d),fn(t,e,d.node,t.next(h.node)),f=n[--a],d=o[++l]):an(u,h)?(kn(t,u,h),fn(t,e,h.node,d.node),u=n[++c],h=o[--p]):(r||(r=un(o,l,p)),z(s=u.key?r[u.key]:i)?(kn(t,u,o[s]),o[s]=i):dn(t,u),mn(t,e,u,d),u=n[++c]):h=o[--p]:d=o[++l]:f=n[--a]:u=n[++c];l>p?hn(t,e,n,c,a,n[a+1]):c>a&&gn(t,e,o,l,p)}(t,o,a,d):a?((I(l)||I(p))&&t.text(o,A,u),hn(t,o,a)):d?gn(t,o,d):(I(l)||I(p))&&t.text(o,A,u)}const bn=1,$n=2,wn=3,Cn=4,Sn=5,Tn=6,En=7,On=8,An=9,zn=10,Pn=11,jn=12,Nn=13,Ln={},In={},Rn={};Ln[r]=Ln[m]=In.key=In.ref=In[r]=t,Rn.if=Tn,Rn.each=An,Rn.partial=zn;function Dn(e){return{type:$n,isStatic:t,name:e}}function qn(t,e,n,i,o){return{type:wn,ns:t,name:e,key:zt(t,e),value:n,expr:i,children:o}}function Un(e,n,i,o,r){return{type:Cn,isStatic:t,name:e,hint:n,value:i,expr:o,children:r}}function _n(e,n,i,o){return{type:An,from:e,to:n,equal:i,index:o,isComplex:t}}function Bn(e){return{type:Sn,text:e,isStatic:t,isLeaf:t}}const Wn="area,base,embed,track,source,param,input,col,img,br,hr".split(","),Mn="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),Fn="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),Hn="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),Yn="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),Kn={};function Vn(t,e){return q(t)?+t:z(e)?e:0}Kn.for="htmlFor",Kn.class="className",Kn.accesskey="accessKey",Kn.style="style.cssText",Kn.novalidate="noValidate",Kn.readonly="readOnly",Kn.tabindex="tabIndex",Kn.minlength="minLength",Kn.maxlength="maxLength";const Gn=1,Zn=2,Jn=3,Xn=4,Qn=5,ti=6,ei=7,ni=8,ii=9;function oi(t,e,n,i){return{type:Qn,raw:i,left:t,operator:e,right:n}}function ri(t,e,n,i){return{type:Zn,raw:t,name:e,lookup:n,offset:i}}function si(t,e,n,i,o,r){return{type:Jn,raw:t,lead:e,keypath:n,nodes:i,lookup:o,offset:r}}function ci(n,i,o){let r=t,s=0;return i!==y&&i!==v||(r=e,i===v&&(s=1),i=A),o?ai(i,n):ri(n,i,r,s)}function ai(t,e){return{type:Gn,raw:e,value:t}}function ui(n,o){let r=o.shift(),{length:s}=o,c=t,a=0;if(s>0){let s=t,u=[],f=[];if(W(o,function(t){if(t.type===Gn){const e=t;if(e.raw===v)return void(a+=1);e.raw!==y&&Y(u,Vt(e.value))}else s=e;Y(f,t)}),r.type===Zn){const t=r;c=t.lookup,a+=t.offset;let e=t.name;e&&K(u,e),r=s?ri(e=tt(u,Et),e,c,a):si(n,r,i,f,c,a)}else r=s?si(n,r,tt(u,Et),i,c,a):si(n,r,i,f,c,a)}return r}const fi={"+":t,"-":t,"~":t,"!":t,"!!":t},li={"*":14,"/":14,"%":14,"+":13,"-":13,"<<":12,">>":12,">>>":12,"<":11,"<=":11,">":11,">=":11,"==":10,"!=":10,"===":10,"!==":10,"&":9,"^":8,"|":7,"&&":6,"||":5};function pi(t){if(!hi[t]){const e=new di(t);hi[t]=e.scanTernary(mi)}return hi[t]}class di{constructor(t){const{length:e}=t;this.index=x,this.end=e,this.code=mi,this.content=t,this.go()}go(t){let e=this,{index:n,end:i}=e;(n+=t||1)>=0&&n<i?(e.code=gt(e.content,n),e.index=n):(e.code=mi,e.index=n<0?x:i)}skip(e){const n=this,i=e&&e<0;if(n.code===mi){const t=n.index;if(n.go(e),!Fi(n.code))return void n.go(t-n.index)}else if(!Fi(n.code))return;for(;t;){if(!Fi(n.code)){i&&n.go();break}n.go(e)}}is(t){return this.code===t}pick(t,e){return lt(this.content,t,z(e)?e:this.index)}scanToken(){const t=this,{code:e,index:n}=t;if(Yi(e))return t.scanTail(n,[t.scanIdentifier(n)]);if(Hi(e))return t.scanNumber(n);switch(e){case mi:return;case ki:case bi:return t.scanTail(n,[t.scanString(n,e)]);case gi:return t.go(),Hi(t.code)?t.scanNumber(n):t.scanPath(n);case $i:return t.go(),t.scanTernary(wi);case Ci:return t.scanTail(n,[(i=t.scanTuple(n,Si),o=t.pick(n),{type:ei,raw:o,nodes:i})]);case Ti:return t.scanObject(n)}var i,o;const r=t.scanOperator(n);if(r&&fi[r]){const e=t.scanTernary();if(e){if(e.type===Gn){const i=e.value;if(R(i))return t.skip(x),ai(-i,t.pick(n))}return t.skip(x),function(t,e,n){return{type:Xn,raw:n,operator:t,node:e}}(r,e,t.pick(n))}t.fatal(n,"一元运算只有操作符没有表达式？")}}scanNumber(t){const e=this;for(;Hi(n=e.code)||n===gi;)e.go();var n;const i=e.pick(t);if(q(i))return ai(+i,i);e.fatal(t,"数字写错了知道吗？")}scanString(e,n){const i=this;t:for(;t;)switch(i.go(),i.code){case xi:i.go();break;case n:i.go();break t;case mi:i.fatal(e,"到头了，字符串还没解析完呢？");break t}const o=i.pick(e);return ai(new Function(`return ${o}`)(),o)}scanObject(n){let i,o=this,r=[],s=[],c=t;o.go();t:for(;t;)switch(o.code){case Ei:o.go(),r.length!==s.length&&o.fatal(n,"对象的 keys 和 values 的长度不一致");break t;case mi:o.fatal(n,"到头了，对象还没解析完呢？");break t;case Ai:o.go(),c=e;break;case vi:o.go(),c=t;break;default:if(i=o.scanTernary(),c){if(i)if(o.skip(),i.type===Zn)Y(r,i.name);else{if(i.type!==Gn){o.fatal(n,"对象的 key 必须是字面量或标识符");break t}Y(r,i.value)}}else{if(!i){o.fatal(n,"对象的值没找到");break t}o.skip(),Y(s,i)}}return function(t,e,n){return{type:ni,raw:n,keys:t,values:e}}(r,s,o.pick(n))}scanTuple(e,n){let i,o=this,r=[];o.go();t:for(;t;)switch(o.code){case n:o.go();break t;case mi:o.fatal(e,"到头了，tuple 还没解析完呢？");break t;case vi:o.go();break;default:(i=o.scanTernary())&&(o.skip(),Y(r,i))}return r}scanPath(e){let n,i=this,o=[];for(;t&&(n=y,i.is(gi)&&(i.go(),n=v),Y(o,ci(n,n,o.length>0)),i.is(yi));){if(i.go(),Ki(i.code))return Y(o,i.scanIdentifier(i.index,t)),i.scanTail(e,o);if(!i.is(gi)){i.fatal(e,"path 写法错误");break}i.go()}}scanTail(e,n){let i,o=this;t:for(;t;)switch(o.code){case $i:n=[(r=ui(o.pick(e),n),s=o.scanTuple(o.index,wi),c=o.pick(e),{type:ii,raw:c,name:r,args:s})];break;case gi:if(o.go(),Ki(o.code)){Y(n,o.scanIdentifier(o.index,t));break}o.fatal(e,". 后面跟的都是啥玩意啊");break t;case Ci:if(o.go(),i=o.scanTernary(Si)){Y(n,i);break}o.fatal(e,"[] 内部不能为空");break t;default:break t}var r,s,c;return ui(o.pick(e),n)}scanIdentifier(t,e){const n=this;for(;Ki(n.code);)n.go();const i=n.pick(t);return!e&&i in Mi?ai(Mi[i],i):ci(i,i,e)}scanOperator(t){const e=this;switch(e.code){case Ni:case Li:case Ii:case qi:case ji:e.go();break;case zi:e.go(),e.is(zi)&&e.fatal(t,"不支持该语法");break;case Pi:e.go(),e.is(Pi)&&e.fatal(t,"不支持该语法");break;case Ui:e.go(),e.is(Ui)?e.go():e.is(Bi)&&(e.go(),e.is(Bi)&&e.go());break;case Ri:e.go(),e.is(Ri)&&e.go();break;case Di:e.go(),e.is(Di)&&e.go();break;case Bi:e.go(),e.is(Bi)?(e.go(),e.is(Bi)&&e.go()):e.fatal(t,"不支持一个等号这种赋值写法");break;case _i:e.go(),(e.is(Bi)||e.is(_i))&&e.go();break;case Wi:e.go(),e.is(Bi)?e.go():e.is(Wi)&&(e.go(),e.is(Wi)&&e.go())}if(e.index>t)return e.pick(t)}scanBinary(e){let n,o,r,s,c,a,u=this,f=[];for(;t;){if(u.skip(),Y(f,u.index),n=u.scanToken()){if(Y(f,n),Y(f,u.index),u.skip(),(r=u.scanOperator(u.index))&&(s=li[r])){(c=f[o=f.length-4])&&(a=li[c])&&a>=s&&f.splice(o-2,5,oi(f[o-2],c,f[o+2],u.pick(f[o-3],f[o+3]))),Y(f,r);continue}r=i}else r&&u.fatal(e,"表达式错误");break}for(;t;){if(!(f.length>=7))return f[1];o=f.length-4,f.splice(o-2,5,oi(f[o-2],f[o],f[o+2],u.pick(f[o-3],f[o+3])))}}scanTernary(t){const e=this;e.skip();let n,i,o=e.index,r=e.scanBinary(o);return e.is(Oi)&&(e.go(),n=e.scanBinary(o),e.is(Ai)&&(e.go(),i=e.scanBinary(o)),r&&n&&i?(e.skip(x),r=function(t,e,n,i){return{type:ti,raw:i,test:t,yes:e,no:n}}(r,n,i,e.pick(o))):e.fatal(o,"三元表达式写法错误")),z(t)&&(e.skip(),e.is(t)?e.go():e.fatal(o,`结束字符匹配错误，期待[${String.fromCharCode(t)}]，却发现[${String.fromCharCode(e.code)}]`)),r}fatal(t,e){ue(`Error compiling expression:\n${this.content}\n- ${e}`)}}const hi={},mi=0,gi=46,vi=44,yi=47,xi=92,ki=39,bi=34,$i=40,wi=41,Ci=91,Si=93,Ti=123,Ei=125,Oi=63,Ai=58,zi=43,Pi=45,ji=42,Ni=47,Li=37,Ii=126,Ri=38,Di=124,qi=94,Ui=33,_i=60,Bi=61,Wi=62,Mi={};function Fi(t){return t>0&&t<33||160===t}function Hi(t){return t>47&&t<58}function Yi(t){return 36===t||95===t||t>96&&t<123||t>64&&t<91}function Ki(t){return Yi(t)||Hi(t)}Mi[o]=t,Mi.false=e,Mi.null=n,Mi[void 0]=i;const Vi=1,Gi=2,Zi=3,Ji={},Xi="-",Qi=/^[_$a-z]([\w]+)?$/i,to=/^[_$a-z]([\w]+)?\.[_$a-z]([\w]+)?$/i,eo=/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,no=/\s*(=>|->)\s*/,io=/<(\/)?([$a-z][-a-z0-9]*)/i,oo=/<!--[\s\S]*?-->/g,ro=/^([\s\S]*?)<!--/,so=/-->([\s\S]*?)$/,co=/^\s*([-.:\w]+)(['"])?(?:=(['"]))?/,ao=/^[$A-Z]|-/,uo=/^\s*(\/)?>/;function fo(t,e){return ft(lt(t,e.length))}function lo(n){let c,a,u,f,d=[],h=[],g=[],v=n.length,y=0,k=0,b=0,$=0,w=Vi,C=[],S=[],T=function(t){ue(`Error compiling ${m}:\n${n}\n- ${t}`)},E=function(t){const e=G(h);if(e&&e.type===bn){const i=e;i.tag!==t&&(n=i.tag,X(Wn,n))&&O(i.type,i.tag)}var n},O=function(n,o){const r=Z(h);if(r&&r.type===n){const{children:s}=r,a=s&&1===s.length&&s[0],u=n===bn,f=n===$n,l=n===Cn,p=n===wn,d=G(h);if(d&&(d.isStatic&&!r.isStatic&&(d.isStatic=e),d.isComplex||(r.isComplex||u?d.isComplex=t:c&&c!==d&&(f||l||p)&&(d.isComplex=t))),u){const t=r;o&&t.tag!==o&&T(`结束标签是${o}，开始标签却是${t.tag}`)}if(a)switch(a.type){case Sn:u||(f?q(r,a):l?L(r,a):p&&B(r,a));break;case jn:u?j(r,a):f?U(r,a):l?I(r,a):p&&M(r,a)}else s?p?P():c||(z(s),s.length||(r.children=i)):c&&(f?D(c,r):l?N(c,r):p&&_(c,r));return n===An?F(r):n===zn?H(r):u?K(r):c&&(f?tt(c,r)&&Q(c,r):p&&J(c,r)),r}T("出栈节点类型不匹配")},z=function(e){let n=x,i=A,o=x,r=A;W(e,function(t,s){if(t.type===Sn)if(o>=0){for(i=t.text;ro.test(i);)i=RegExp.$1,n=s;n>=0&&(i&&(e[n].text=i,n++),r&&(e[o].text=r,o--),e.splice(n,o-n+1),n=o=x)}else for(r=t.text;so.test(r);)r=RegExp.$1,o=s},t)},P=function(){T("指令的值不能用插值或 if 语法")},j=function(t,e){t.isComponent||t.slot||e.safe||(t.html=e.expr,t.children=i)},N=function(e,n){n.hint===Ne?n.value=t:et(n)},L=function(t,e){const{text:n}=e;t.hint===je?t.value=Vn(n):t.hint===Ne?t.value=n===o||n===t.name:t.value=n,t.children=i},I=function(e,n){const{expr:o}=n;e.expr=o,e.children=i,o.type===Zn&&(e.binding=t)},D=function(e,n){tt(e,n)?T(`${n.name} 忘了写值吧？`):n.value=function(e,n){return e.isComponent?t:ht(n,"data-")?A:n}(e,n.name)},q=function(t,e){t.value=e.text,t.children=i},U=function(e,n){const{expr:o}=n;e.expr=o,e.children=i,o.type===Zn&&(e.binding=t)},_=function(e,n){n.value=t},B=function(t,e){let n,{text:o}=e,r=t.ns===Re,s=t.ns===Ie,a=t.ns===De,u=t.ns===Ue;try{n=pi(o)}catch(t){}if(n){{const{raw:e}=n;s?(n.type!==Gn||!R(n.value)||n.value<=0)&&T(`lazy 指令的值 [${e}] 必须是大于 0 的数字`):n.type===ii?n.name.type!==Zn&&T("指令表达式的类型如果是函数调用，则只能调用方法"):a&&(Qi.test(e)||to.test(e)?c&&c.isComponent&&t.name===e&&T("转换组件事件的名称不能相同"):T("事件转换名称只能是 [name] 或 [name.namespace] 格式")),r&&n.type!==Zn&&T(`model 指令的值格式错误: [${e}]`)}t.expr=n,t.value=n.type===Gn?n.value:o}else u||T(`${t.ns} 指令的表达式错误: [${o}]`),t.value=o;t.children=i},M=function(t,e){T("指令的表达式不能用插值语法")},F=function(t){t.children||et(t)},H=function(t){t.children||et(t)},K=function(n){const{tag:o,slot:s}=n,c=o===m;c&&(n.key?T("<template> 不支持 key"):n.ref?T("<template> 不支持 ref"):n.attrs?T("<template> 不支持属性或指令"):s||T("<template> 不写 slot 属性是几个意思？")),c&&s&&!n.children?et(n):o!==r||n.name?function(n){let{tag:o,attrs:r}=n,s=e,c=e;r&&W(r,function(e){const n=e.type===Cn?e.name:i;"type"===n?s=t:n===p&&(c=t)}),n.isStyle&&!s?Y(n.attrs||(n.attrs=[]),Un("type",Pe,"text/css")):"option"!==o||c||(n.isOption=t)}(n):n.name=ze},J=function(t,e){e.ns===Re&&G(h)!==t&&T("model 不能写在 if 内")},Q=function(t,e){const{name:n,value:i}=e,o=n===s||n===r;G(h)!==t&&T(`${n} 不能写在 if 内`),i===A?T(`${n} 的值不能是空字符串`):o&&kt(i)&&T(`${n} 的值只能是字符串字面量`),t[n]=o?i:e,et(e)},tt=function(t,e){return In[e.name]||t.tag===r&&e.name===s},et=function(t,e){let n,o,r,s=G(h);(o=s?(n=c&&c===s)?s.attrs:s.children:d)&&(r=V(o,t))>=0&&(e?o[r]=e:(o.splice(r,1),s&&!o.length&&(n?delete s.attrs:s.children=i)))},nt=function(n){c||E();const i=n.type,o=G(h);if(i===On||i===En){const t=Z(g);t?(n.prev=t,t.type===En||t.type===Tn?(t.next=n,O(t.type),Y(g,n)):T(i===En?"else 后面不能跟 else if 啊":"只能写一个 else 啊")):T("不写 if 是几个意思")}else Y(o?c&&o.type===bn?c.attrs||(c.attrs=[]):o.children||(o.children=[]):d,n),i===Tn&&(c||(n.stub=t),Y(g,n));n.isLeaf?o&&(o.isStatic&&!n.isStatic&&(o.isStatic=e),!o.isComplex&&n.isComplex&&(o.isComplex=t)):Y(h,n)},it=function(t){(t=t.replace(eo,A))&&nt(Bn(t))},ot=[function(t){if(!c){const n=t.match(io);if(n&&0===n.index){const t=n[2];if("/"===n[1])E(t),O(bn,t);else{if(t===m){const t=G(h);t&&t.isComponent||T("<template> 只能写在组件标签内")}const n=function(t,n,i){return n&&(i=e),{type:bn,tag:t,isSvg:n,isStyle:"style"===t,isOption:e,isComponent:i,isStatic:!i&&t!==r}}(t,X(Mn,t),ao.test(t));nt(n),c=n}return n[0]}}},function(t){const e=t.match(uo);if(e)return c&&!a&&("/"===e[1]&&O(c.type,c.tag),c=i),e[0]},function(t){if(c&&!a){const e=t.match(co);if(e){e[2]&&T("上一个属性似乎没有正常结束");let t,n=e[1];if(n===Re||n===l)t=qn(ut(n),A);else if(ht(n,Le+Xi)){const e=fo(n,Le+Xi);e||T("缺少事件名称"),t=qn(De,ut(e))}else if(ht(n,Ie)){let e=fo(n,Ie);ht(e,Xi)&&(e=fo(e,Xi)),t=qn(Ie,e?ut(e):A)}else if(ht(n,Ue+Xi)){const e=fo(n,Ue+Xi);e||T("缺少自定义指令名称"),t=qn(Ue,ut(e))}else t=function(t,e){if(t.isComponent)return Dn(ut(e));{const n=yt(e);return Ln[t.tag]||t.isSvg?Dn(e):X(Fn,n)?Un(Kn[n]||n,Pe):X(Hn,n)?Un(Kn[n]||n,je):X(Yn,n)?Un(Kn[n]||n,Ne):Dn(e)}}(c,n);return nt(t),(f=e[3])?a=t:O(t.type),e[0]}}},function(t){let e,n;return a&&f?(n=t.match(Ji[f]||(Ji[f]=new RegExp(f))))?(e=lt(t,0,n.index),it(e),e+=f,a.children||nt(Bn(A)),O(a.type),a=i):w!==Vi?it(e=t):T(`${a.name} 没有找到结束引号`):c?(ft(t)&&T(`<${c.tag}> 属性里不要写乱七八糟的字符`),e=t):(n=t.match(io))?(e=lt(t,0,n.index))&&it(e.replace(oo,A)):it((e=t).replace(oo,A)),e}],rt=[function(t){if(ht(t,Ce)){c&&T(a?"each 不能写在属性的值里":"each 不能写在属性层级");const n=(t=fo(t,Ce)).replace(/\s+/g,A).split(":");if(n[0]){const t=ft(n[0]),o=ft(n[1]),r=t.match(no);if(r){const e=t.split(no),n=pi(e[0]),i=pi(e[2]);if(n&&i)return _n(n,i,"=>"===ft(r[1]),o)}else{const n=pi(t);if(n)return _n(n,i,e,o)}}T("无效的 each")}},function(e){if(ht(e,Te)){if(e=fo(e,Te)){if(!c)return{type:Pn,name:e,isComplex:t,isLeaf:t};T(a?"import 不能写在属性的值里":"import 不能写在属性层级")}T("无效的 import")}},function(e){if(ht(e,Se)){if(e=fo(e,Se)){if(!c)return{type:zn,name:e,isComplex:t};T(a?"partial 不能写在属性的值里":"partial 不能写在属性层级")}T("无效的 partial")}},function(t){if(ht(t,be)){const e=pi(t=fo(t,be));if(e)return function(t){return{type:Tn,expr:t}}(e);T("无效的 if")}},function(t){if(ht(t,we)){const e=pi(t=fo(t,we));if(e)return function(t){return{type:En,expr:t}}(e);T("无效的 else if")}},function(t){if(ht(t,$e)){if(!ft(t=fo(t,$e)))return{type:On};T("else 后面不要写乱七八糟的东西")}},function(e){if(ht(e,Ee)){const n=pi(e=fo(e,Ee));if(n){if(c&&c.isComponent)return function(e,n){return{type:Nn,expr:e,binding:n,isLeaf:t}}(n,n.type===Zn);T("延展属性只能用于组件属性")}T("无效的 spread")}},function(e){if(!Oe.test(e)){const n=pi(e=ft(e));if(n)return function(e,n){return{type:jn,expr:e,safe:n,isLeaf:t}}(n,w===Gi);T("无效的 expression")}}],st=function(t){for(;t;)W(ot,function(n){const i=n(t);if(i)return t=lt(t,i.length),e})},ct=function(n){if("/"===mt(n)){E();const i=lt(n,1);let o=Rn[i],r=e;if(o===Tn){const e=Z(g);e?(o=e.type,r=t):T("if 还没开始就结束了？")}const s=O(o);s&&r&&function(e){let n,i,o,r=e;for(;t&&(r.children&&(o||r.next&&delete r.next,i=o=t),n=r.prev);)delete r.prev,r=n;i||et(r)}(s)}else W(rt,function(t){const i=t(n);if(i)return nt(i),e})},at=function(){return(y=$+2)<=v?(y<v&&"}"===mt(n,y)?w===Zi?k=y+1:T("{{ 和 }}} 无法配对"):w===Gi?k=y:T("{{{ 和 }} 无法配对"),Z(C),dt($),b=pt(n,"{{",k),($=pt(n,"}}",k))>=k&&(b<0||$<b)?at():void 0):t},dt=function(t){C.length||Y(S,t)};for(;t&&(dt(k),(b=pt(n,"{{",k))>=k);)if(w=Gi,dt(b),(b+=2)<v)if("{"===mt(n,b)&&(w=Zi,b++),dt(b),dt(w),Y(C,t),b<v)if(($=pt(n,"}}",b))>=b){if(((k=pt(n,"{{",b))<0||$<k)&&at())break}else T("找不到结束定界符");else T("{{{ 后面没字符串了？");else T("{{ 后面没字符串了？");for(let t=0,e=S.length;t<e;t+=5)y=S[t],(b=S[t+1])&&st(lt(n,y,b)),b=S[t+2],w=S[t+3],($=S[t+4])?(u=ft(lt(n,b,$)))&&ct(u):(w=Vi,st(lt(n,y)));return h.length&&(E(),h.length&&T("还有节点未出栈")),d.length>0&&z(d),d}const po="!0",ho="!1",mo=",",go=":",vo="+",yo="&&",xo="?",ko="!",bo='""';function $o(t){return`{${tt(t,mo)}}`}function wo(t){return`[${tt(t,mo)}]`}function Co(n,i){return`${n}(${tt(function(n){let i=[],o=t;return W(n,function(t){z(t)?(o=e,K(i,t)):o||K(i,ho)},t),i}(i),mo)})`}function So(t){return JSON.stringify(t)}const To=[],Eo=[],Oo={},Ao="a",zo="b",Po="c",jo="d",No="e",Lo="f",Io="g",Ro="h",Do="i",qo="j",Uo="k",_o="l",Bo="m",Wo="n",Mo="o",Fo="p",Ho="q",Yo="r",Ko="s",Vo="t",Go="u",Zo="v",Jo="return ";let Xo,Qo;function tr(n,o,r,s){return function n(o,r,s,c,a,u,f,l,d){let h,m=e,g=function(e){return n(e,r,s,c,a,u,f,l,t)};switch(o.type){case Gn:h=So(o.value);break;case Xn:h=o.operator+g(o.node);break;case Qn:h=g(o.left)+o.operator+g(o.right);break;case ti:h=g(o.test)+xo+g(o.yes)+go+g(o.no);break;case ei:h=wo(o.nodes.map(g));break;case ni:const e=[];W(o.keys,function(t,n){Y(e,So(t)+go+g(o.values[n]))}),h=$o(e);break;case Zn:m=t;const n=o;h=Co(r,[So(n.name),n.lookup?po:i,n.offset>0?So(n.offset):i,u?po:i,f?po:i,l||i]);break;case Jn:m=t;const{lead:p,keypath:d,nodes:v,lookup:y,offset:x}=o,k=v?v.map(g):[];h=p.type===Zn?Co(r,[Co(s,[So(p.name),wo(k)]),y?po:i,x>0?So(x):i,u?po:i,f?po:i,l||i]):Co(c,v?[g(p),i,wo(k),u?po:i]:[g(p),So(d),i,u?po:i]);break;default:m=t;const{args:b}=o;h=Co(a,[g(o.name),b.length?wo(b.map(g)):i,u?po:i])}return u?d?m?h+"."+p:h:m?h:$o([p+go+h]):h}(n,Ao,zo,Po,jo,o,r,s)}function er(t){const e=[];return qt(t,function(t,n){z(t)&&Y(e,So(n)+go+t)}),$o(e)}function nr(t,e){return`${h}(${e||A}){${t||A}}`}function ir(t){return`(${t})`}function or(t,e){const n=tr(t);return e?Co(Go,[n]):n}function rr(t){return tr(t,e,e,Zo)}function sr(t,e,n){return z(t)?So(t):e?or(e):n?(Qo=n.length>1,cr(n)):void 0}function cr(t,e){const n=t.length>1&&!e;Y(To,n);const i=tt(t.map(function(t){return Oo[t.type](t)}),n?vo:mo);return Z(To),i}function ar(t,e){if(t){const n=cr(t,e);return t.length>1&&e?ir(n):n}}function ur(t,e,n,i,o){return Co(Fo,[t,e,n,i,o])}function fr(t,e,n,i){(t[e]||(t[e]={}))[n]=i}Oo[bn]=function(n){let o,s,c,{tag:a,isComponent:u,isSvg:f,isStyle:l,isOption:p,isStatic:d,isComplex:h,name:g,ref:v,key:y,html:x,attrs:k,children:b}=n,$={},w=[];if(a===r){const e=[So(Ae+g)];return b&&Y(e,nr(cr(b,t))),Co(Ho,e)}return Y(Eo,e),k&&W(k,function(t){Y(w,Oo[t.type](t))}),36===gt(a)?o=So(lt(a,1)):$.tag=So(a),f&&($.isSvg=po),l&&($.isStyle=po),p&&($.isOption=po),d&&($.isStatic=po),v&&($.ref=sr(v.value,v.expr,v.children)),y&&($.key=sr(y.value,y.expr,y.children)),x&&($.html=or(x,t)),u?($.isComponent=po,b&&(Eo[Eo.length-1]=t,c=function(e){const n={},i={},o=function(t,e){et(e)||Y(i[t=Ae+t]||(i[t]=[]),e)};if(W(e,function(t){if(t.type===bn){const e=t;if(e.slot)return void o(e.slot,e.tag===m?e.children:[e])}o(ze,[t])}),qt(i,function(e,i){n[i]=nr(cr(e,t))}),!Yt(n))return er(n)}(b))):b&&(Qo=t,Eo[Eo.length-1]=h,s=cr(b,h),h?s=nr(s):($.text=s,s=i)),Z(Eo),ur(er($),o,et(w)?i:nr(tt(w,mo)),s,c)},Oo[$n]=function(e){const n=e.binding?Co(qo,[So(e.name),tr(e.expr,t,t)]):sr(e.value,e.expr,e.children);return Co(Lo,[So(e.name),n])},Oo[Cn]=function(e){const n=e.binding?Co(qo,[So(e.name),tr(e.expr,t,t),So(e.hint)]):sr(e.value,e.expr,e.children);return Co(Io,[So(e.name),So(e.hint),n])},Oo[wn]=function(e){const{ns:n,name:o,key:r,value:s,expr:c}=e;if(n===Ie)return Co(Ro,[So(o),So(s)]);if(n===l)return Co(Do,[So(s)]);if(n===Re)return Co(Uo,[tr(c,t,t)]);let a=Wo,u=[So(o),So(r),So(s)];return c&&(c.type===ii?(n===De&&(a=_o),Y(u,So(c.name.name)),et(c.args)||Y(u,nr(Jo+wo(c.args.map(rr)),Zo))):n===De?(a=Bo,Y(u,So(c.raw))):n===Ue&&c.type!==Gn&&(Y(u,i),Y(u,i),Y(u,nr(Jo+rr(c),Zo)))),Co(a,u)},Oo[Nn]=function(e){return Co(Mo,[tr(e.expr,t,e.binding)])},Oo[Sn]=function(t){const e=So(t.text);return G(Eo)&&!G(To)?Co(No,[e]):e},Oo[jn]=function(t){return G(Eo)&&!G(To)?function(t,e){return Co(No,[or(t,e)])}(t.expr,Qo):or(t.expr,Qo)},Oo[Tn]=function(t){return function t(e,n){let i,o,{children:r,isComplex:s,next:c}=e,a=or(e.expr),u=ar(r,s);if(c?i=c.type===On?ar(c.children,c.isComplex):t(c,n):n&&(i=ur(er({isComment:po,text:bo}))),z(u)||z(i)){const t=G(To);return t&&(P(u)&&(u=bo),P(i)&&(i=bo)),o=P(i)?a+yo+u:P(u)?ko+a+yo+i:a+xo+u+go+i,t?ir(o):o}return bo}(t,t.stub)},Oo[An]=function(e){return Co(Vo,[nr(cr(e.children,e.isComplex)),tr(e.from,t),e.to?tr(e.to,t):i,e.equal?po:i,e.index?So(e.index):i])},Oo[zn]=function(t){return Co(Yo,[So(t.name),nr(cr(t.children,t.isComplex))])},Oo[Pn]=function(t){return Co(Ko,[So(t.name)])};const lr="directives";let pr="textContent",dr="innerHTML",hr=function(t){const e=b.querySelector(t);if(e)return e},mr=function(t,n,i){t.addEventListener(n,i,e)},gr=function(t,n,i){t.removeEventListener(n,i,e)},vr=function(t,e){t.classList.add(e)},yr=function(t,e){t.classList.remove(e)},xr=function(t,e){return t};if(b&&(b.documentElement.classList||(vr=function(t,e){const n=t.className.split(kr);X(n,e)||(Y(n,e),t.className=tt(n,kr))},yr=function(t,e){const n=t.className.split(kr);J(n,e)&&(t.className=tt(n,kr))}),!b.addEventListener)){const n="propertychange";mr=function(t,e,o){"input"===e?mr(t,n,o[br]=function(t){t.propertyName===p&&((t=new B(t)).type="input",_(o,this,t))}):e===C&&i(t)?mr(t,w,o[br]=function(t){(t=new B(t)).type=C,_(o,this,t)}):t.attachEvent(`on${e}`,o)},gr=function(t,e,o){"input"===e?(gr(t,n,o[br]),delete o[br]):e===C&&i(t)?(gr(t,w,o[br]),delete o[br]):t.detachEvent(`on${e}`,o)};const i=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)};class o{constructor(t,e){_t(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}preventDefault(){this.originalEvent.returnValue=e}stopPropagation(){this.originalEvent.cancelBubble=t}}pr="innerText",xr=function(t,e){return new o(t,e)},hr=function(t){35===gt(t,0)?t=lt(t,1):ue('"#id" is the only supported selector for legacy version.');const e=b.getElementById(t);if(e)return e}}const kr=" ",br="$emitter",$r="styleSheet",wr={svg:"http://www.w3.org/2000/svg"},Cr={};function Sr(t){return b.createComment(t)}function Tr(t,n,i){if(z(i))Ft(t,n,i,e);else{const e=Mt(t,n);if(e)return e.value}}function Er(t,e,i){if(z(i))t.setAttribute(e,i);else{const i=t.getAttribute(e);if(i!=n)return i}}function Or(t,e){t.appendChild(e)}Cr[S]={on(n,i){let o=e;Nr(n,"compositionstart",i.compositionstart=function(){o=t}),Nr(n,"compositionend",i.compositionend=function(t){o=e,i(t)}),mr(n,"input",i.input=function(t){o||i(t)})},off(t,e){Lr(t,"compositionstart",e.compositionstart),Lr(t,"compositionend",e.compositionend),gr(t,"input",e.input),e.compositionstart=e.compositionend=e.input=i}};const Ar=hr;function zr(t,e,n,i){if(!z(e))return t[dr];n&&Ht(t,$r)?t[$r].cssText=e:(i&&(t.value=e),t[dr]=e)}const Pr=vr,jr=yr;function Nr(t,e,n){const i=t[br]||(t[br]=new le),o=i.nativeListeners||(i.nativeListeners={});if(!o[e]){const n=Cr[e],r=function(n){const o=n instanceof B?n:new B(n.type,xr(n,t));o.type!==e&&(o.type=e),i.fire(e,[o])};o[e]=r,n?n.on(t,r):mr(t,e,r)}i.on(e,n)}function Lr(t,e,n){const o=t[br],{listeners:r,nativeListeners:s}=o;if(o.off(e,n),s&&!o.has(e)){const n=Cr[e],i=s[e];n?n.off(t,i):gr(t,e,i),delete s[e]}Yt(r)&&(t[br]=i)}var Ir=Object.freeze({createElement:function(t,e){return e?b.createElementNS(wr.svg,t):b.createElement(t)},createText:function(t){return b.createTextNode(t)},createComment:Sr,prop:Tr,removeProp:function(t,n,i){Ft(t,n,i===Ne?e:A,e)},attr:Er,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:Or,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){const{parentNode:e}=t;if(e)return e},next:function(t){const{nextSibling:e}=t;if(e)return e},find:Ar,tag:function(t){if(1===t.nodeType)return yt(t.tagName)},text:function(t,e,n,i){if(!z(e))return t[pr];n&&Ht(t,$r)?t[$r].cssText=e:(i&&(t.value=e),t[pr]=e)},html:zr,addClass:Pr,removeClass:jr,on:Nr,off:Lr,addSpecialEvent:function(t,e){Cr[t]&&ae(`Special event "${t}" is existed.`),se(`Special event "${t}" add success.`),Cr[t]=e}});class Rr{static build(e,n,i){let o,r,s=t,c=t,a=[];if(j(i)?o=i:L(i)&&(D(i.cache)&&(s=i.cache),D(i.sync)&&(c=i.sync),N(i.deps)&&(a=Wt(i.deps)),j(i.get)&&(o=i.get),j(i.set)&&(r=i.set)),o)return new Rr(e,c,s,a,n,o,r)}constructor(e,n,i,o,r,s,c){const a=this;a.keypath=e,a.cache=i,a.deps=o,a.context=r.context,a.observer=r,a.getter=s,a.setter=c,a.unique={},a.watcher=function(n,i,o){const s=a.value,c=a.get(t);c!==s&&r.diff(e,c,s)},a.watcherOptions={sync:n,watcher:a.watcher},(a.fixed=!et(o))&&W(o,function(t){r.watch(t,a.watcherOptions)})}get(t){const e=this,{getter:n,context:i}=e;if(e.cache){if(t||!Ht(e,p))if(e.fixed)e.value=_(n,i);else{e.unbind();const t=Rr.current;Rr.current=e,e.value=_(n,i),e.bind(),Rr.current=t}}else e.value=_(n,i);return e.value}set(t){const{setter:e,context:n}=this;e&&e.call(n,t)}add(e){this.unique[e]=t}bind(){const{unique:t,deps:e,observer:n,watcherOptions:i}=this;qt(t,function(t,o){Y(e,o),n.watch(o,i)}),this.unique={}}unbind(){const{deps:e,observer:n,watcher:i}=this;W(e,function(t){n.unwatch(t,i)},t),e.length=0}}function Dr(t,n){let i;return W(t,function(t){const o=Ot(n,t);if(o>=0)return i={name:t,prop:lt(n,o)},e}),i}function qr(t,e){if(t==n||e===A)return t;const i=Mt(t,e);return i?i.value:void 0}function Ur(e,n,o,r,s){const c=function(t,n,i){if(n!==i){const o=zt(e,t);W(r,function(t){z(jt(o,t))&&s(t,o,n,i)}),Ur(o,n,i,r,s)}};(function(e,n,o){const r=I(e),s=I(n);if(r||s)return o(d,r?e.length:i,s?n.length:i),t})(n,o,c)||function(e,n,o){const r=N(e),s=N(n);if(r||s){const c=r?e.length:i,a=s?n.length:i;o(d,c,a);for(let t=0,r=Math.max(c||0,a||0);t<r;t++)o(""+t,e?e[t]:i,n?n[t]:i);return t}}(n,o,c)||function(t,e,n){const i=L(t),o=L(e);(i||o)&&(t=i?t:E,e=o?e:E,i&&qt(t,function(t,i){t!==e[i]&&n(i,t,e[i])}),o&&qt(e,function(e,i){e!==t[i]&&n(i,t[i],e)}))}(n,o,c)}function _r(t,e,n,i,o,r){let s;qt(i,function(i,c){if(Pt(c))return void(z(jt(t,c))?r(c,t,e,n):o&&(s?Y(s,c):s=[c]));const a=Ot(c,t);if(a>=0){const t=lt(c,a),i=qr(e,t),o=qr(n,t);i!==o&&r(c,c,i,o)}}),s&&Ur(t,e,n,s,r)}function Br(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}const Wr={watcher:T};function Mr(e,n){return j(e)?(Wr.watcher=e,Wr.immediate=n===t,Wr):e&&e.watcher?e:void ue("watcher should be a function or object.")}class Fr{constructor(t,e){this.data=t||{},this.context=e||this,this.nextTask=new ke,this.syncEmitter=new le,this.asyncEmitter=new le,this.asyncChanges={}}get(t,e,n){const i=Rr.current,{data:o,computed:r,reversedComputedKeys:s}=this;if(t===A)return o;let c,a;if(i&&!n&&i.add(t),r){if(a=r[t])return a.get();if(s){const e=Dr(s,t);e&&e.prop&&(c=Mt(r[e.name].get(),e.prop))}}return c||(c=Mt(o,t)),c?c.value:e}set(t,e){const n=this,{data:i,computed:o,reversedComputedKeys:r}=n,s=function(t,e){const s=n.get(e);if(t===s)return;let c;if(o&&((c=o[e])&&c.set(t),r)){const n=Dr(r,e);if(n&&n.prop&&(c=o[n.name])){const e=c.get();L(e)&&Ft(e,n.prop,t)}}c||Ft(i,e,t),n.diff(e,t,s)};I(t)?s(e,t):L(t)&&qt(t,s)}diff(e,n,o){const r=this,{syncEmitter:s,asyncEmitter:c,asyncChanges:a}=r,u=36!==gt(e);_r(e,n,o,s.listeners,u,function(t,e,n,i){s.fire(t,[n,i,e])}),_r(e,n,o,c.listeners,u,function(e,n,o,s){W(c.listeners[e],function(t){t.count++});const{keypaths:u}=a[n]||(a[n]={value:s,keypaths:[]});X(u,e)||Y(u,e),r.pending||(r.pending=t,r.nextTask.append(function(){r.pending&&(r.pending=i,r.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:e,asyncChanges:n}=t;t.asyncChanges={},qt(n,function(n,i){const o=[t.get(i),n.value,i];W(n.keypaths,function(t){e.fire(t,o,Br)})})}addComputed(e,n){const i=this,o=Rr.build(e,i,n);if(o)return i.computed||(i.computed={}),i.computed[e]=o,i.reversedComputedKeys=Dt(i.computed,t),o}removeComputed(e){const n=this,{computed:i}=n;i&&Ht(i,e)&&(delete i[e],n.reversedComputedKeys=Dt(i,t))}watch(t,e,n){const o=this,{context:r,syncEmitter:s,asyncEmitter:c}=o,a=function(t,e){const n=e.sync?s:c,a={fn:e.watcher,ctx:r,count:0};e.once&&(a.max=1),n.on(t,a),e.immediate&&_(e.watcher,r,[o.get(t),i,t])};I(t)?a(t,Mr(e,n)):qt(t,function(t,e){a(e,Mr(t))})}unwatch(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)}toggle(t){const e=!this.get(t);return this.set(t,e),e}increase(t,e,n){const i=Vn(this.get(t),0)+(e||1);if(!R(n)||i<=n)return this.set(t,i),i}decrease(t,e,n){const i=Vn(this.get(t),0)-(e||1);if(!R(n)||i>=n)return this.set(t,i),i}insert(n,i,o){let r=this.get(n);r=N(r)?Wt(r):[];const{length:s}=r;if(o===t||o===s)r.push(i);else if(o===e||0===o)r.unshift(i);else{if(!(o>0&&o<s))return;r.splice(o,0,i)}return this.set(n,r),t}append(e,n){return this.insert(e,n,t)}prepend(t,n){return this.insert(t,n,e)}removeAt(e,n){let i=this.get(e);if(N(i)&&n>=0&&n<i.length)return(i=Wt(i)).splice(n,1),this.set(e,i),t}remove(e,n){let i=this.get(e);if(N(i)&&J(i=Wt(i),n))return this.set(e,i),t}copy(t,e){return Wt(t,e)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Ut(this)}}function Hr(t,e,n){let o;return function(){if(!o){const r=Q(arguments);n&&_(t,i,r),o=setTimeout(function(){o=i,n||_(t,i,r)},e)}}}var Yr=Object.freeze({bind:function(e,n,i){let{name:o,handler:r}=n,{lazy:s}=i;if(r){if(s){const e=s[o]||s[A];e===t?o=C:e>0&&(r=Hr(r,e,o===w||o===$))}i.isComponent?(e.on(o,r),i.data[n.key]=function(){e.off(o,r)}):(Nr(e,o,r),i.data[n.key]=function(){Lr(e,o,r)})}},unbind:function(t,e,n){_(n.data[e.key])}});function Kr(e,n){return n&&n!==t?Hr(e,n):e}const Vr={set(t,e){t.value=Vt(e)},sync(t,e,n){n.set(e,t.value)},name:p},Gr={set(t,n){W(Q(t.options),t.multiple?function(t){t.selected=X(n,t.value,e)}:function(i,o){if(i.value==n)return t.selectedIndex=o,e})},sync(t,e,n){const{options:i}=t;if(t.multiple){const t=[];W(Q(i),function(e){e.selected&&Y(t,e.value)}),n.set(e,t)}else n.set(e,i[t.selectedIndex].value)},name:p},Zr={radio:{set(t,e){t.checked=t.value===Vt(e)},sync(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set(t,n){t.checked=N(n)?X(n,t.value,e):!!n},sync(t,n,i){const o=i.get(n);N(o)?t.checked?i.append(n,t.value):i.removeAt(n,V(o,t.value,e)):i.set(n,t.checked)},name:"checked"}},Jr=t;var Xr=Object.freeze({once:Jr,bind:function(e,n,o){let r,s,c,{context:a,lazy:u,isComponent:f}=o,l=n.binding,p=u&&(u[Re]||u[A]);if(f){let t=e,n=t.$model;r=function(e){r&&t.set(n,e)},s=Kr(function(t){a.set(l,t)},p),c=function(){t.unwatch(n,s)},t.watch(n,s)}else{let i=e,u="select"===o.tag?Gr:Vr,f=C;if(u===Vr){const n=e.type;Zr[n]?u=Zr[n]:p!==t&&(f=S)}r=function(t){r&&u.set(i,t)},s=Kr(function(){u.sync(i,l,a)},p),c=function(){Lr(i,f,s)},Nr(i,f,s),u.set(i,n.value)}a.watch(l,r),o.data[n.key]=function(){a.unwatch(l,r),r=i,c()}},unbind:function(t,e,n){_(n.data[e.key])}});const Qr=t;var ts=Object.freeze({once:Qr,bind:function(t,e,n){let o=e.binding,r=Pt(o),s=function(i,c,a){if(s){const s=r?jt(a,o):e.name;if(n.isComponent){const e=t;e.checkProp(s,i),e.set(s,i)}else{const n=t;z(e.hint)?Tr(n,s,i):Er(n,s,i)}}};n.context.watch(o,s),n.data[e.key]=function(){n.context.unwatch(o,s),s=i}},unbind:function(t,e,n){_(n.data[e.key])}});const es={},ns={},is={},os={},rs={},ss={},cs="$$",as=/^[#.][-\w+]+$/;class us{constructor(n){const o=this,r=n||E;o.$emitter=new le(t),r.events&&o.on(r.events),r.parent&&(o.$parent=r.parent),_(r[We],o,r),o.fire(We+Be,r);let{data:s,props:p,vnode:d,propTypes:m,computed:g,methods:v,watchers:y,extensions:x}=r;o.$options=r,x&&_t(o,x);const k=p?Wt(p):{};m&&qt(m,function(t,e){let n=k[e];ps(e,n,t),P(n)&&z(n=t.value)&&(k[e]=t.type===h?n:j(n)?n():n)});const b=o.$observer=new Fr(k,o);g&&qt(g,function(t,e){b.addComputed(e,t)}),d&&L(s)&&ce("child component's data should be a function which return an object.");const $=j(s)?_(s,o,n):s;L($)&&qt($,function(t,e){Ht(k,e)&&ce(`"${e}" is already defined as a prop. Use prop default value instead.`),k[e]=t}),v&&qt(v,function(t,e){o[e]&&ue(`method "${e}" is conflicted with built-in methods.`),o[e]=t});{let n=i,{el:s,root:p,model:h,context:m,replace:g,template:v,transitions:x,components:$,directives:w,partials:C,filters:S,slots:T}=r;if(h&&(o.$model=h),T&&_t(k,T),I(v)&&as.test(v)&&((n=Ar(v))?(v=zr(n),n=i):ue(`selector "${v}" can't match an element.`)),s){if(I(s)){const t=s;as.test(t)?(n=Ar(t))||ue(`selector "${t}" can't match an element.`):ue('"el" option should be a selector.')}else n=s;g||Or(n,n=Sr(A))}if(p&&(o.$root=p),m&&(o.$context=m),hs(o,l,x),hs(o,u,$),hs(o,f,w),hs(o,a,C),hs(o,c,S),v){const i=y?Wt(y):{};return i[cs]={sync:t,watcher:function(t){o.update(t,o.$vnode)}},b.addComputed(cs,{sync:e,get:function(){return o.render()}}),ds(o,i),o.$template=I(v)?us.compile(v):v,d||(n||ue('"el" option is required for root component.'),d=function(t,e,n,i){return{tag:t.tag(e),data:pn(),node:e,context:n,keypath:i}}(Ir,n,o,A)),void o.update(o.get(cs),d)}(n||d)&&ue('"template" option is required.')}ds(o,y)}static use(t){t.install(us)}static create(t){return t}static nextTick(t,e){ke.shared().append(t,e)}static compile(t,e){if(!ss[t]){const e=lo(t);1!==e.length&&ue('"template" should have just one root element.'),ss[t]=(n=e[0],Xo||(Xo=`function(${tt([Ao,zo,Po,jo,No,Lo,Io,Ro,Do,qo,Uo,_o,Bo,Wo,Mo,Fo,Ho,Yo,Ko,Vo,Go],mo)}){${Jo}`),Xo+Oo[n.type](n)+"}")}return t=ss[t],e?t:new Function(`return ${t}`)();var n}static directive(t,e){if(I(t)&&!e)return ys(es,t);xs(es,t,e)}static transition(t,e){if(I(t)&&!e)return ys(ns,t);xs(ns,t,e)}static component(t,e){if(I(t)&&!e)return ys(is,t);xs(is,t,e)}static partial(t,e){if(I(t)&&!e)return ys(os,t);xs(os,t,e,us.compile)}static filter(t,e){if(I(t)&&!e)return ys(rs,t);xs(rs,t,e)}addComputed(t,e){return this.$observer.addComputed(t,e)}removeComputed(t){this.$observer.removeComputed(t)}get(t,e,n){return this.$observer.get(t,e,n)}set(t,e){const{$observer:n}=this;n&&n.set(t,e)}on(t,e){return gs(this,t,e)}once(e,n){return gs(this,e,n,t)}off(t,e){return this.$emitter.off(t,e),this}fire(e,n,i){let o,r=this,s=e instanceof B?e:new B(e),c=[s];if(s.target||(s.target=r),L(n)?Y(c,n):n===t&&(i=t),o=r.$emitter.fire(s.type,c)){const{$parent:e,$children:c}=r;i?c&&(s.phase=B.PHASE_DOWNWARD,W(c,function(e){return o=e.fire(s,n,t)})):e&&(s.phase=B.PHASE_UPWARD,o=e.fire(s,n))}return o}watch(t,e,n){return this.$observer.watch(t,e,n),this}unwatch(t,e){return this.$observer.unwatch(t,e),this}loadComponent(t,e){vs(this.$components,t,e)||vs(is,t,e)||ae(`Component "${t}" is not found.`)}createComponent(e,n){{const i=this;(e=Wt(e)).root=i.$root||i,e.parent=i,e.context=n.context,e.vnode=n,e.replace=t;let{props:o,slots:r,directives:s}=n,c=s&&s[Re];if(c){o||(o={});const t=e.model||_e;o[t]=c.value,e.model=t}o&&(e.props=o),r&&(e.slots=r);const a=new us(e);Y(i.$children||(i.$children=[]),a);const u=a.$el;return u?n.node=u:ue(`The root element of [Component ${n.tag}] is not found.`),a}}directive(t,e){{const n=this,{$directives:i}=n;if(I(t)&&!e)return ys(i,t,us.directive);xs(i||(n.$directives={}),t,e)}}transition(t,e){{const n=this,{$transitions:i}=n;if(I(t)&&!e)return ys(i,t,us.transition);xs(i||(n.$transitions={}),t,e)}}component(t,e){{const n=this,{$components:i}=n;if(I(t)&&!e)return ys(i,t,us.component);xs(i||(n.$components={}),t,e)}}partial(t,e){{const n=this,{$partials:i}=n;if(I(t)&&!e)return ys(i,t,us.partial);xs(i||(n.$partials={}),t,e,us.compile)}}filter(t,e){{const n=this,{$filters:i}=n;if(I(t)&&!e)return ys(i,t,us.filter);xs(i||(n.$filters={}),t,e)}}forceUpdate(e){{const n=this,{$vnode:i,$observer:o}=n,{computed:r}=o;if(i&&r){const s=r[cs],c=s.get();e&&n.set(e),o.nextTask.run(),e||c!==s.get()||n.update(s.get(t),i)}}}render(){{const e=this;return function(e,o,r,s,c,a){let u,f={$keypath:A},l=[f],p=[],d={},h=function(t,o,s,c,a,u){let f=t[o],l=zt(f.$keypath,s),p=t,d=Nt;if(P(u)&&(u=l),z(f[s])?p=f[s]:z(f.$item)&&(f=f.$item,s===A?p=f:f!=n&&z(f[s])&&(p=f[s])),p===t&&(p=e.get(l,t,a))===t){if(c&&o>0)return re(`"${l}" can't be found in the current context, start looking up.`),h(t,o-1,s,c,a,u);const e=Mt(r,s);return e?(d=e).keypath=s:(d.value=i,d.keypath=u),d}return d.value=p,d.keypath=l,d},m=function(t,n,o){return function(r,s){const c=e[t];if(r instanceof B){let t=i;if(n){const a=G(o);a&&(a.$event=r,a.$data=s,t=_(c,e,n(o)),a.$event=a.$data=i)}else t=_(c,e,s?[r,s]:r);return t}_(c,e,n?n(o):i)}},v=function(t,e){return function(){return t(e)}},y=function(n){const i=G(p);if(i){const o=G(i);o&&o.isText?o.text+=n:Y(i,{isText:t,text:n,context:e,keypath:f.$keypath})}},x=function(t,e){u.isComponent?fr(u,"props",t,e):fr(u,"nativeAttrs",t,{name:t,value:e})},k=function(t,e,n){fr(u,"nativeProps",t,{name:t,value:n,hint:e})},b=function(t,e){fr(u,"lazy",t,e)},$=function(t){u.transition=a[t],u.transition||ue(`Transition "${t}" can't be found.`)},w=function(t,e,n){const i=zt(qe,t);return fr(u,lr,i,{ns:qe,name:t,key:i,hooks:c[qe],binding:e.keypath,hint:n}),e.value},C=function(t){fr(u,lr,Re,{ns:Re,name:A,key:Re,value:t.value,binding:t.keypath,hooks:c[Re]})},S=function(t,e,n,i,o){fr(u,lr,e,{ns:De,name:t,key:e,value:n,hooks:c[De],handler:m(i,o,l)})},T=function(t,n,i,o){var r;fr(u,lr,n,{ns:De,name:t,key:n,value:i,hooks:c[De],handler:(r=o,function(t,n){r!==t.type&&(t=new B(r,t)),e.fire(t,n)})})},E=function(t,e,n,o,r,s){const a=c[t];a||ue(`Directive ${t} can't be found.`),fr(u,lr,e,{ns:Ue,name:t,key:e,value:n,hooks:a,getter:s?v(s,l):i,handler:o?m(o,r,l):i})},O=function(t){const{value:e,keypath:i}=t;if(e!=n&&L(e)&&!N(e)&&(qt(e,function(t,e){fr(u,"props",e,t)}),i)){const t=zt(qe,i);fr(u,lr,t,{ns:qe,name:A,key:t,hooks:c[qe],binding:zt(i,g)})}},j=function(t,n,o,r,s){if(n){const i=e.get(n);i||ce(`Dynamic component "${n}" can't be found.`),t.tag=i}if(o&&(u=t,o(),u=i),r)p.push(t.children=[]),r(),Z(p);else if(s){const e={};qt(s,function(t,n){p.push([]),t();const o=Z(p);e[n]=o.length?o:i}),t.slots=e}t.context=e,t.keypath=f.$keypath;const c=G(p);return c&&Y(c,t),t},I=function(t,e,n,i,o,r){const s=r||l,c=h(s,s.length-((n||0)+1),t,e,o);return i?c:c.value},R=function(t,e){return K(e,t),tt(e,Et)},D=function(t,e,n,o){z(n)&&(e=tt(n,Et));const r=Mt(t,e);return Nt.keypath=i,Nt.value=r?r.value:i,o?Nt:Nt.value},q=function(t,n,o){return Nt.keypath=i,Nt.value=_(t,e,n||i),o?Nt:Nt.value},U=function(t,n){const i=G(p),o=e.get(t);i&&(o?W(o,function(n){Y(i,n),n.slot=t,n.parent=e}):n&&n())},M=function(t,e){d[t]=e},F=function(t){if(d[t])d[t]();else{const e=s[t];e?e(I,R,D,q,y,x,k,b,$,w,C,S,T,E,O,j,U,M,F,V,Vt):ue(`Partial "${t}" can't be found.`)}},H=function(t,e,n,i,o,r){const s=f,c=l;f={$keypath:i},l=c.concat(f),z(r)&&(f.$length=r),o&&(f[o]=n),i||(f.$item=e),t(),f=s,l=c},V=function(t,e,n,i,o){const r=e.value,s=e.keypath;if(n){let e=n.value,s=0;if(r<e)if(i)for(let n=r;n<=e;n++)H(t,n,s++,A,o);else for(let n=r;n<e;n++)H(t,n,s++,A,o);else if(i)for(let n=r;n>=e;n--)H(t,n,s++,A,o);else for(let n=r;n>e;n--)H(t,n,s++,A,o)}else if(N(r))for(let e=0,n=r.length;e<n;e++)H(t,r[e],e,s?zt(s,A+e):A,o,n);else if(L(r))for(let e in r)H(t,r[e],e,s?zt(s,e):A,o)};return o(I,R,D,q,y,x,k,b,$,w,C,S,T,E,O,j,U,M,F,V,Vt)}(e,e.$template,Bt(e.$filters,rs),Bt(e.$partials,os),Bt(e.$directives,es),Bt(e.$transitions,ns))}}update(t,e){{let n,i=this,{$vnode:o,$options:r}=i;i.$refs={},o?(_(r[Ye],i),i.fire(Ye+Be),kn(Ir,t,e),n=Ke):(_(r[Fe],i),i.fire(Fe+Be),kn(Ir,t,e),i.$el=t.node,n=He),i.$vnode=t,us.nextTick(function(){i.$vnode&&(_(r[n],i),i.fire(n+Be))})}}checkProps(t){{const e=this;qt(t,function(t,n){e.checkProp(n,t)})}}checkProp(t,e){{const{propTypes:n}=this.$options;if(n){const i=n[t];i&&ps(t,e,i)}}}destroy(){const t=this,{$parent:e,$options:n,$emitter:o,$observer:r}=t;{_(n[Ve],t),t.fire(Ve+Be);const{$vnode:o}=t;e&&e.$children&&J(e.$children,t),o&&(t.$vnode=i,function(t,e,n){if(n){const n=t.parent(e.node);n?vn(t,n,e):ue("Can't destroy vnode without parent node.")}else yn(t,e)}(Ir,o,!e))}r.destroy(),_(n[Ge],t),t.fire(Ge+Be),o.off(),Ut(t)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,e,n){return this.$observer.increase(t,e,n)}decrease(t,e,n){return this.$observer.decrease(t,e,n)}insert(t,e,n){return this.$observer.insert(t,e,n)}append(t,e){return this.$observer.append(t,e)}prepend(t,e){return this.$observer.prepend(t,e)}removeAt(t,e){return this.$observer.removeAt(t,e)}remove(t,e){return this.$observer.remove(t,e)}copy(t,e){return this.$observer.copy(t,e)}}us.version="1.0.0-alpha.78",us.is=U,us.dom=Ir,us.array=nt,us.object=Kt,us.string=bt,us.logger=fe,us.Event=B,us.Emitter=le;const fs=Object.prototype.toString;function ls(t,e){return"numeric"===e?q(t):yt(fs.call(t))===`[object ${e}]`}function ps(n,i,o){if(z(i)){const r=o.type;if(r)if(j(r))r(n,i);else{let o=e;kt(r)?et(r)||W(r,function(n){if(ls(i,n))return o=t,e}):o=ls(i,r),o||ce(`The type of prop "${n}" expected to be "${r}", but is "${i}".`)}else ce(`The prop "${n}" in propTypes has no type.`)}else o.required&&ce(`The prop "${n}" is marked as required, but its value is not found.`)}function ds(t,e){e&&t.watch(e),_(t.$options[Me],t),t.fire(Me+Be)}function hs(t,e,n){j(n)?t[e](_(n,t)):L(n)&&t[e](n)}function ms(t,e,n,i){const o={fn:n,ctx:t};i&&(o.max=1),t.$emitter.on(e,o)}function gs(t,e,n,i){return I(e)?ms(t,e,n,i):qt(e,function(e,n){ms(t,n,e,i)}),t}function vs(e,n,i){if(e&&e[n]){const o=e[n];if(j(o)){e[n]=[i];const t=function(t){const i=e[n],o=t.default||t;e[n]=o,W(i,function(t){t(o)})},r=o(t);r&&r.then(t)}else N(o)?Y(o,i):i(o);return t}}function ys(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function xs(t,e,n,i){I(e)?t[e]=i?i(n):n:qt(e,function(e,n){t[n]=i?i(e):e})}us.directive({event:Yr,model:Xr,binding:ts}),us.filter({hasSlot:function(t){return z(this.get(Ae+t))}});export default us;
//# sourceMappingURL=yox.esm.min.js.map
