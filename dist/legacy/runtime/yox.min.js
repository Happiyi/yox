!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=3,e="model",n="event",r="binding",i="o",o="native",a=".hook",u="beforeCreate",f="afterCreate",c=!0,s=!1,p=null,v=void 0,h=-1,l="filter",d="partial",m="component",y="directive",g="transition",$="length",x="function",k="*",b=".",w="undefined"!=typeof window?window:v,C="undefined"!=typeof document?document:v,E="undefined"!=typeof global?global:w,A="tap",T="click",O="change",P="model",S=function(){},j=Object.freeze({}),z=Object.freeze([]),N="";function D(t){return t!==v}function L(t){return t===v}function R(t){return typeof t===x}function U(t){return Array.isArray(t)}function I(t){return t!==p&&"object"==typeof t}function M(t){return"string"==typeof t}function W(t){return"number"==typeof t}function _(t){return"boolean"==typeof t}function H(t){return W(t)||M(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var Y=Object.freeze({func:R,array:U,object:I,string:M,number:W,boolean:_,numeric:H});function q(t,e,n){if(R(t))return U(n)?t.apply(e,n):D(e)?t.call(e,n):D(n)?t(n):t()}var B=function(){function t(e,n){this.type=e,this.phase=t.PHASE_CURRENT,n&&(this.originalEvent=n)}return t.prototype.preventDefault=function(){if(!this.isPrevented){var t=this.originalEvent;t&&t.preventDefault(),this.isPrevented=c}return this},t.prototype.stopPropagation=function(){if(!this.isStoped){var t=this.originalEvent;t&&t.stopPropagation(),this.isStoped=c}return this},t.prototype.prevent=function(){return this.preventDefault()},t.prototype.stop=function(){return this.stopPropagation()},t.PHASE_CURRENT=0,t.PHASE_UPWARD=1,t.PHASE_DOWNWARD=h,t}();function F(t,e,n){var r=t.length;if(r)if(n)for(var i=r-1;i>=0&&e(t[i],i)!==s;i--);else for(i=0;i<r&&e(t[i],i)!==s;i++);}function K(t,e){t[t.length]=e}function G(t,e){t.unshift(e)}function V(t,e,n){U(e)?F(e,function(e){n(t,e)}):n(t,e)}function X(t,e){V(t,e,K)}function Z(t,e){V(t,e,G)}function J(t,e,n){var r=h;return F(t,function(t,i){if(n===s?t==e:t===e)return r=i,s}),r}function Q(t){var e=t.length;if(e>0)return t[e-1]}function tt(t){if(t.length>0)return t.pop()}function et(t,e,n){var r=0;return F(t,function(i,o){(n===s?i==e:i===e)&&(t.splice(o,1),r++)},c),r}function nt(t,e,n){return J(t,e,n)>=0}function rt(t){return U(t)?t:q(z.slice,t)}function it(t,e){return t.join(e)}function ot(t){return!U(t)||!t.length}var at=Object.freeze({each:F,push:X,unshift:Z,indexOf:J,last:Q,pop:tt,remove:et,has:nt,toArray:rt,toObject:function(t,e,n){var r={};return F(t,function(t){r[e?t[e]:t]=n||t}),r},join:it,falsy:ot}),ut=/-([a-z])/gi,ft=/\B([A-Z])/g,ct=/^[a-z]/,st={},pt={},vt={};function ht(t,e,n){return W(n)?e===n?N:t.slice(e,n):t.slice(e)}function lt(t,e,n){return t.indexOf(e,D(n)?n:0)}function dt(t,e,n){return t.lastIndexOf(e,D(n)?n:t.length)}function mt(t,e){return 0===lt(t,e)}function yt(t,e){return t.charCodeAt(e||0)}function gt(t){return t.toUpperCase()}function $t(t){return t.toLowerCase()}function xt(t,e){return lt(t,e)>=0}function kt(t){return!M(t)||!t.length}var bt=Object.freeze({camelize:function(t){return st[t]||(st[t]=t.replace(ut,function(t,e){return gt(e)})),st[t]},hyphenate:function(t){return pt[t]||(pt[t]=t.replace(ft,function(t,e){return"-"+$t(e)})),pt[t]},capitalize:function(t){return vt[t]||(vt[t]=t.replace(ct,gt)),vt[t]},trim:function(t){return kt(t)?N:t.trim()},slice:ht,indexOf:lt,lastIndexOf:dt,startsWith:mt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&dt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:yt,upper:gt,lower:$t,has:xt,falsy:kt}),wt=/\./g,Ct=/\*/g,Et=/\*\*/g,At={},Tt={};function Ot(t,e){return t===e?e.length:mt(t,e+=b)?e.length:h}function Pt(t,e){for(var n=D(At[t])?At[t]:At[t]=t.split(b),r=0,i=n.length-1;r<=i&&e(n[r],r===i)!==s;r++);}function St(t,e){return t&&e?t+b+e:t||e}function jt(t){return xt(t,k)}function zt(t,e){var n=Tt[e];if(!n){var r=e.replace(wt,"\\.").replace(Ct,"(\\w+)").replace(Et,"([.\\w]+?)");n=Tt[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var Nt={value:v};function Dt(t){return Object.keys(t)}function Lt(t,e){return t.length-e.length}function Rt(t,e){return e.length-t.length}function Ut(t,e){return Dt(t).sort(e?Rt:Lt)}function It(t,e){for(var n in t)if(e(t[n],n)===s)break}function Mt(t){It(t,function(e,n){delete t[n]})}function Wt(t,e){return It(e,function(e,n){t[n]=e}),t}function _t(t,e){return t&&e?Wt(Wt({},t),e):t||e}function Ht(t,e){var n=t;return U(t)?e?(n=[],F(t,function(t,r){n[r]=Ht(t,e)})):n=t.slice():I(t)&&(n={},It(t,function(t,r){n[r]=e?Ht(t,e):t})),n}function Yt(t,e){return Pt(e,function(e,n){if(t==p)return t=v,s;var r=t[e],i=D(r);r&&R(r.get)&&(r=r.get()),n?i?(Nt.value=r,t=Nt):t=v:t=r}),t}function qt(t,e,n,r){Pt(e,function(e,i){if(i)t[e]=n;else if(t[e])t=t[e];else{if(!r)return s;t=t[e]={}}})}function Bt(t,e){return D(t[e])}function Ft(t){return!I(t)||U(t)||!Dt(t).length}var Kt=Object.freeze({keys:Dt,sort:Ut,each:It,clear:Mt,extend:Wt,merge:_t,copy:Ht,get:Yt,set:qt,has:Bt,falsy:Ft});function Gt(t,e){return t!=p&&t.toString?t.toString():D(e)?e:N}var Vt=1,Xt=2,Zt=3,Jt=4,Qt=5,te="undefined"!=typeof console?console:p,ee=/yox/.test(Gt(S))?Vt:Zt,ne=w&&/edge|msie|trident/i.test(w.navigator.userAgent)?N:"%c",re=te?ne?function(t,e,n){te.log(ne+t,n,e)}:function(t,e){te.log(t,e)}:S;function ie(){if(E){var t=E.YOX_LOG_LEVEL;if(t>=Vt&&t<=Qt)return t}return ee}function oe(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var ae=Object.freeze({DEBUG:Vt,INFO:Xt,WARN:Zt,ERROR:Jt,FATAL:Qt,debug:function(t,e){ie()<=Vt&&re(e||"Yox debug",t,oe("#999"))},info:function(t,e){ie()<=Xt&&re(e||"Yox info",t,oe("#2db7f5"))},warn:function(t,e){ie()<=Zt&&re(e||"Yox warn",t,oe("#f90"))},error:function(t,e){ie()<=Jt&&re(e||"Yox error",t,oe("#ed4014"))},fatal:function(t,e){if(ie()<=Qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),ue=function(){function t(t){this.ns=t||s,this.listeners={}}return t.prototype.fire=function(t,e,n){var r=this,i=M(t)?r.parse(t):t,o=r.listeners[i.name],a=c;if(o){o=Ht(o);var u=e&&e[0]instanceof B?e[0]:v;F(o,function(t){if(se(i.ns,t)&&nt(o,t)&&(!n||n(i,e,t))){u&&(u.listener=t.fn);var f=q(t.fn,t.ctx,e);return u&&(u.listener=v),t.num=t.num?t.num+1:1,t.num===t.max&&r.off(i.key,t.fn),u&&(f===s?u.prevent().stop():u.isStoped&&(f=s)),f===s?a=s:void 0}})}return a},t.prototype.on=function(t,e){var n=this.listeners,r=R(e)?{fn:e}:e;if(I(r)&&R(r.fn)){var i=this.parse(t),o=i.name,a=i.ns;r.ns=a,X(n[o]||(n[o]=[]),r)}},t.prototype.off=function(t,e){var n=this.listeners;if(t){var r=this.parse(t),i=r.name,o=r.ns,a=ce(e),u=function(t,e){F(t,function(e,n){a(e)&&se(o,e)&&t.splice(n,1)},c),t.length||delete n[e]};i?n[i]&&u(n[i],i):o&&It(n,u)}else this.listeners={}},t.prototype.has=function(t,e){var n=this.listeners,r=this.parse(t),i=r.name,o=r.ns,a=c,u=ce(e),f=function(t){return F(t,function(t){if(u(t)&&se(o,t))return a=s}),a};return i?n[i]&&f(n[i]):o&&It(n,f),!a},t.prototype.parse=function(t){var e={key:t,name:t,ns:N};if(this.ns){var n=lt(t,b);n>=0&&(e.name=ht(t,0,n),e.ns=ht(t,n+1))}return e},t}();function fe(){return c}function ce(t){return R(t)?function(e){return t===e.fn}:fe}function se(t,e){var n=e.ns;return n&&t?n===t:c}function pe(t){return R(t)&&/native code/.test(Gt(t))}typeof setImmediate===x&&pe(setImmediate)&&setImmediate;var ve,he=typeof MessageChannel===x&&pe(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,le=function(){function t(){this.tasks=[]}return t.shared=function(){return ve||(ve=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;X(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;Z(r,{fn:t,ctx:e}),1===r.length&&he(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],F(t,function(t){q(t.fn,t.ctx)}))},t}(),de=0;var me="$id",ye="$vnode",ge="$loading",$e="$component",xe="$leaving";function ke(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||j,u=o||j;It(a,function(e,n){u[n]&&e.value===u[n].value||t.attr(r,n,e.value)}),It(u,function(e,n){a[n]||t.removeAttr(r,n)})}}function be(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||j,u=o||j;It(a,function(e,n){u[n]&&e.value===u[n].value||t.prop(r,n,e.value)}),It(u,function(e,n){a[n]||t.removeProp(r,n,e.hint)})}}function we(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[$e]||t.node,a=e&&t.keypath!==e.keypath,u=r||j,f=i||j;It(u,function(n,r){var i=n.hooks,u=i.once,c=i.bind,s=i.unbind;f[r]?(u||n.value!==f[r].value||a)&&(s&&s(o,f[r],e),c(o,n,t)):c(o,n,t)}),It(f,function(t,n){if(!u[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function Ce(t){var e=t.directives;if(e){var n=t.data[$e]||t.node;It(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ee(t,n){var r,i=t.data,o=t.ref,a=t.props,u=t.slots,f=t.directives,c=t.context;if(t.isComponent){if(r=i[$e],n){var s=f&&f[e];s&&(a||(a={}),a[r.$model]=s.value),a&&r.checkProps(a);var p=_t(a,u);p&&r.forceUpdate(p)}}else r=t.node;if(o){var v=c.$refs;v&&(v[o]=r)}}function Ae(t,e){return t.tag===e.tag&&t.key===e.key}function Te(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||j}function Oe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Pe(t,e){var n=(t.parent||t.context).createComponent(e,t);return t.data[$e]=n,t.data[ge]=s,Ee(t),we(t),n}function Se(){var t={};return t[me]=++de,t}function je(t,e){var n=e.tag,r=e.node,i=e.data,o=e.isComponent,a=e.isComment,u=e.isText,f=e.isStyle,s=e.isOption,p=e.children,h=e.text,l=e.html,d=e.context;if(!r||!i)if(i=Se(),e.data=i,u)e.node=t.createText(h);else if(a)e.node=t.createComment(h);else if(o){var y=v;n&&d.loadComponent(n,function(t){Bt(i,ge)?i[ge]&&(i[ye]&&(e=i[ye],delete i[ye]),Ue(e,Pe(e,t))):y=t}),e.node=t.createComment(m),y?Pe(e,y):i[ge]=c}else r=e.node=t.createElement(e.tag,e.isSvg),p?ze(t,r,p):h?t.text(r,h,f,s):l&&t.html(r,l,f,s),ke(t,e),be(t,e),Ee(e),we(e)}function ze(t,e,n,r,i,o){for(var a,u=r||0,f=D(i)?i:n.length-1;u<=f;)je(t,a=n[u]),Ne(t,e,a,o),u++}function Ne(t,e,n,r){var i=n.node,o=n.data,a=n.context,u=t.parent(i);if(r?t.before(e,i,r.node):t.append(e,i),!u){var f=v;if(n.isComponent){var c=o[$e];c&&(f=function(){Ue(n,c)})}else n.isStatic||n.isText||n.isComment||(f=function(){Ue(n)});f&&a.$observer.nextTask.prepend(f)}}function De(t,e,n,r,i){for(var o,a=r||0,u=D(i)?i:n.length-1;a<=u;)(o=n[a])&&Le(t,e,o),a++}function Le(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var i,o=function(){Re(t,n),t.remove(e,r)};if(n.isComponent&&!(i=n.data[$e]))return void o();!function(t,e,n){var r=t.data,i=t.transition;e&&!i&&(i=e.$vnode.transition);if(i){var o=i.leave;if(o)return void o(t.node,r[xe]=function(){r[xe]&&(n(),r[xe]=v)})}n()}(n,i,o)}}function Re(t,e){var n=e.data,r=e.children,i=e.parent,o=e.slot;if(o&&i&&i.$vnode){var a=i.get(o);if(a&&nt(a,e))return}if(e.isComponent){var u=n[$e];u?(Ce(e),u.destroy()):n[ge]=s}else Ce(e),r&&F(r,function(e){Re(t,e)})}function Ue(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),q(n[xe]),r){var i=r.enter;if(i)return void i(t.node)}}function Ie(t,e,n){if(e!==n){var r=n.node,i=n.data;if(!Ae(e,n)){var o=t.parent(r);return je(t,e),void(o&&(Ne(t,o,e,n),Le(t,o,n)))}if(e.node=r,e.data=i,n.isComponent&&i[ge])i[ye]=e;else if(!e.isStatic||!n.isStatic){ke(t,e,n),be(t,e,n),Ee(e,n),we(e,n);var a=e.text,u=e.html,f=e.children,c=e.isStyle,s=e.isOption,p=n.text,h=n.html,l=n.children;M(a)?a!==p&&t.text(r,a,c,s):M(u)?u!==h&&t.html(r,u,c,s):f&&l?f!==l&&function(t,e,n,r){for(var i,o,a=0,u=n.length-1,f=n[a],c=n[u],s=0,p=r.length-1,h=r[s],l=r[p];s<=p&&a<=u;)f?c?h?l?Ae(f,h)?(Ie(t,f,h),f=n[++a],h=r[++s]):Ae(c,l)?(Ie(t,c,l),c=n[--u],l=r[--p]):Ae(c,h)?(Ie(t,c,h),Oe(t,e,h.node,t.next(l.node)),c=n[--u],h=r[++s]):Ae(f,l)?(Ie(t,f,l),Oe(t,e,l.node,h.node),f=n[++a],l=r[--p]):(i||(i=Te(r,s,p)),D(o=f.key?i[f.key]:v)?(Ie(t,f,r[o]),r[o]=v):je(t,f),Ne(t,e,f,h),f=n[++a]):l=r[--p]:h=r[++s]:c=n[--u]:f=n[++a];s>p?ze(t,e,n,a,u,n[u+1]):a>u&&De(t,e,r,s,p)}(t,r,f,l):f?((M(p)||M(h))&&t.text(r,N,c),ze(t,r,f)):l?De(t,r,l):(M(p)||M(h))&&t.text(r,N,c)}}}function Me(t,e){return H(t)?+t:D(e)?e:0}function We(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var _e="directives";var He="textContent",Ye="innerHTML",qe=function(t){var e=C.querySelector(t);if(e)return e},Be=function(t,e,n){t.addEventListener(e,n,s)},Fe=function(t,e,n){t.removeEventListener(e,n,s)},Ke=function(t,e){t.classList.add(e)},Ge=function(t,e){t.classList.remove(e)},Ve=function(t,e){return t};if(C&&(C.documentElement.classList||(Ke=function(t,e){var n=t.className.split(Je);nt(n,e)||(X(n,e),t.className=it(n,Je))},Ge=function(t,e){var n=t.className.split(Je);et(n,e)&&(t.className=it(n,Je))}),!C.addEventListener)){Be=function(t,e,n){"input"===e?Be(t,"propertychange",n[Qe]=function(t){"value"===t.propertyName&&((t=new B(t)).type="input",q(n,this,t))}):e===O&&Xe(t)?Be(t,T,n[Qe]=function(t){(t=new B(t)).type=O,q(n,this,t)}):t.attachEvent("on"+e,n)},Fe=function(t,e,n){"input"===e?(Fe(t,"propertychange",n[Qe]),delete n[Qe]):e===O&&Xe(t)?(Fe(t,T,n[Qe]),delete n[Qe]):t.detachEvent("on"+e,n)};var Xe=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},Ze=function(){function t(t,e){Wt(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return t.prototype.preventDefault=function(){this.originalEvent.returnValue=s},t.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=c},t}();He="innerText",Ve=function(t,e){return new Ze(t,e)},qe=function(t){35===yt(t,0)&&(t=ht(t,1));var e=C.getElementById(t);if(e)return e}}var Je=" ",Qe="$emitter",tn="styleSheet",en={svg:"http://www.w3.org/2000/svg"},nn={};function rn(t){return C.createComment(t)}function on(t,e,n){if(D(n))qt(t,e,n,s);else{var r=Yt(t,e);if(r)return r.value}}function an(t,e,n){if(D(n))t.setAttribute(e,n);else{var r=t.getAttribute(e);if(r!=p)return r}}function un(t,e){t.appendChild(e)}nn[P]={on:function(t,e){var n=s;vn(t,"compositionstart",e.compositionstart=function(){n=c}),vn(t,"compositionend",e.compositionend=function(t){n=s,e(t)}),Be(t,"input",e.input=function(t){n||e(t)})},off:function(t,e){hn(t,"compositionstart",e.compositionstart),hn(t,"compositionend",e.compositionend),Fe(t,"input",e.input),e.compositionstart=e.compositionend=e.input=v}};var fn=qe;function cn(t,e,n,r){if(!D(e))return t[Ye];n&&Bt(t,tn)?t[tn].cssText=e:(r&&(t.value=e),t[Ye]=e)}var sn=Ke,pn=Ge;function vn(t,e,n,r){var i=t[Qe]||(t[Qe]=new ue),o=i.nativeListeners||(i.nativeListeners={});if(!o[e]){var a=nn[e],u=function(n){var r=n instanceof B?n:new B(n.type,Ve(n,t));r.type!==e&&(r.type=e),i.fire(e,[r])};o[e]=u,a?a.on(t,u):Be(t,e,u)}i.on(e,{fn:n,ctx:r})}function hn(t,e,n){var r=t[Qe],i=r.listeners,o=r.nativeListeners;if(r.off(e,n),o&&!r.has(e)){var a=nn[e],u=o[e];a?a.off(t,u):Fe(t,e,u),delete o[e]}Ft(i)&&(t[Qe]=v)}var ln=Object.freeze({createElement:function(t,e){return e?C.createElementNS(en.svg,t):C.createElement(t)},createText:function(t){return C.createTextNode(t)},createComment:rn,prop:on,removeProp:function(e,n,r){qt(e,n,r===t?s:N,s)},attr:an,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:un,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:fn,tag:function(t){if(1===t.nodeType)return $t(t.tagName)},text:function(t,e,n,r){if(!D(e))return t[He];n&&Bt(t,tn)?t[tn].cssText=e:(r&&(t.value=e),t[He]=e)},html:cn,addClass:sn,removeClass:pn,on:vn,off:hn,addSpecialEvent:function(t,e){nn[t]=e}}),dn=function(){function t(t,e,n,r,i,o,a){var u=this;u.keypath=t,u.cache=n,u.deps=r,u.context=i.context,u.observer=i,u.getter=o,u.setter=a,u.unique={},u.watcher=function(e,n,r){var o=u.value,a=u.get(c);a!==o&&i.diff(t,a,o)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!ot(r))&&F(r,function(t){i.watch(t,u.watcherOptions)})}return t.prototype.get=function(e){var n=this.getter,r=this.context;if(this.cache){if(e||!Bt(this,"value"))if(this.fixed)this.value=q(n,r);else{this.unbind();var i=t.current;t.current=this,this.value=q(n,r),this.bind(),t.current=i}}else this.value=q(n,r);return this.value},t.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},t.prototype.add=function(t){this.unique[t]=c},t.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;It(t,function(t,i){X(e,i),n.watch(i,r)}),this.unique={}},t.prototype.unbind=function(){var t=this.deps,e=this.observer,n=this.watcher;F(t,function(t){e.unwatch(t,n)},c),t.length=0},t}();function mn(t,e){var n;return F(t,function(t){var r=Ot(e,t);if(r>=0)return n={name:t,prop:ht(e,r)},s}),n}function yn(t,e){if(t==p||e===N)return t;var n=Yt(t,e);return n?n.value:void 0}function gn(t,e,n,r,i){var o=function(e,n,o){if(n!==o){var a=St(t,e);F(r,function(t){D(zt(a,t))&&i(t,a,n,o)}),gn(a,n,o,r,i)}};(function(t,e,n){var r=M(t),i=M(e);if(r||i)return n($,r?t.length:v,i?e.length:v),c})(e,n,o)||function(t,e,n){var r=U(t),i=U(e);if(r||i){var o=r?t.length:v,a=i?e.length:v;n($,o,a);for(var u=0,f=Math.max(o||0,a||0);u<f;u++)n(""+u,t?t[u]:v,e?e[u]:v);return c}}(e,n,o)||function(t,e,n){var r=I(t),i=I(e);(r||i)&&(t=r?t:j,e=i?e:j,r&&It(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&It(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(e,n,o)}function $n(t,e,n,r,i,o){var a;It(r,function(r,u){if(jt(u))D(zt(t,u))?o(u,t,e,n):i&&(a?X(a,u):a=[u]);else{var f=Ot(u,t);if(f>=0){var c=ht(u,f),s=yn(e,c),p=yn(n,c);s!==p&&o(u,u,s,p)}}}),a&&gn(t,e,n,a,o)}function xn(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var kn={watcher:S};function bn(t,e){return R(t)?(kn.watcher=t,kn.immediate=e===c,kn):t&&t.watcher?t:void 0}var wn=function(){function t(t,e){this.data=t||{},this.context=e||this,this.nextTask=new le,this.syncEmitter=new ue,this.asyncEmitter=new ue,this.asyncChanges={}}return t.prototype.get=function(t,e,n){var r,i,o=dn.current,a=this.data,u=this.computed,f=this.reversedComputedKeys;if(t===N)return a;if(o&&!n&&o.add(t),u){if(i=u[t])return i.get();if(f){var c=mn(f,t);c&&c.prop&&(r=Yt(u[c.name].get(),c.prop))}}return r||(r=Yt(a,t)),r?r.value:e},t.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var u;if(i&&((u=i[e])&&u.set(t),o)){var f=mn(o,e);if(f&&f.prop&&(u=i[f.name])){var c=u.get();I(c)&&qt(c,f.prop,t)}}u||qt(r,e,t),n.diff(e,t,a)}};M(t)?a(e,t):I(t)&&It(t,a)},t.prototype.diff=function(t,e,n){var r=this,i=r.syncEmitter,o=r.asyncEmitter,a=r.asyncChanges,u=36!==yt(t);$n(t,e,n,i.listeners,u,function(t,e,n,r){i.fire(t,[n,r,e])}),$n(t,e,n,o.listeners,u,function(t,e,n,i){F(o.listeners[t],function(t){t.count++});var u=(a[e]||(a[e]={value:i,keypaths:[]})).keypaths;nt(u,t)||X(u,t),r.pending||(r.pending=c,r.nextTask.append(function(){r.pending&&(r.pending=v,r.diffAsync())}))})},t.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},It(n,function(n,r){var i=[t.get(r),n.value,r];F(n.keypaths,function(t){e.fire(t,i,xn)})})},t.prototype.addComputed=function(t,e){var n,r,i=c,o=c,a=[];if(R(e))n=e;else if(I(e)){var u=e;_(u.cache)&&(i=u.cache),_(u.sync)&&(o=u.sync),U(u.deps)&&(a=Ht(u.deps)),R(u.get)&&(n=u.get),R(u.set)&&(r=u.set)}if(n){var f=new dn(t,o,i,a,this,n,r);return this.computed||(this.computed={}),this.computed[t]=f,this.reversedComputedKeys=Ut(this.computed,c),f}},t.prototype.removeComputed=function(t){var e=this.computed;e&&Bt(e,t)&&(delete e[t],this.reversedComputedKeys=Ut(e,c))},t.prototype.watch=function(t,e,n){var r=this,i=r.context,o=r.syncEmitter,a=r.asyncEmitter,u=function(t,e){var n=e.sync?o:a,u={fn:e.watcher,ctx:i,count:0};e.once&&(u.max=1),n.on(t,u),e.immediate&&q(e.watcher,i,[r.get(t),v,t])};M(t)?u(t,bn(e,n)):It(t,function(t,e){u(e,bn(t))})},t.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},t.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},t.prototype.increase=function(t,e,n){var r=Me(this.get(t),0)+(e||1);if(!W(n)||r<=n)return this.set(t,r),r},t.prototype.decrease=function(t,e,n){var r=Me(this.get(t),0)-(e||1);if(!W(n)||r>=n)return this.set(t,r),r},t.prototype.insert=function(t,e,n){var r=this.get(t),i=(r=U(r)?Ht(r):[]).length;if(n===c||n===i)r.push(e);else if(n===s||0===n)r.unshift(e);else{if(!(n>0&&n<i))return;r.splice(n,0,e)}return this.set(t,r),c},t.prototype.append=function(t,e){return this.insert(t,e,c)},t.prototype.prepend=function(t,e){return this.insert(t,e,s)},t.prototype.removeAt=function(t,e){var n=this.get(t);if(U(n)&&e>=0&&e<n.length)return(n=Ht(n)).splice(e,1),this.set(t,n),c},t.prototype.remove=function(t,e){var n=this.get(t);if(U(n)&&et(n=Ht(n),e))return this.set(t,n),c},t.prototype.copy=function(t,e){return Ht(t,e)},t.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Mt(this)},t}();function Cn(t,e,n){var r;return function(){if(!r){var i=rt(arguments);n&&q(t,v,i),r=setTimeout(function(){r=v,n||q(t,v,i)},e)}}}var En=Object.freeze({bind:function(t,e,n){var r=e.key,i=e.name,a=e.modifier,u=e.handler,f=n.lazy;if(u){if(f){var s=f[i]||f[N];s===c?i=O:s>0&&(u=Cn(u,s,i===T||i===A))}var p;if(n.isComponent){var v=t;a===o?(vn(p=v.$el,i,u),n.data[r]=function(){hn(p,i,u)}):(a&&(i+=b+a),v.on(i,u),n.data[r]=function(){v.off(i,u)})}else vn(p=t,i,u),n.data[r]=function(){hn(p,i,u)}}},unbind:function(t,e,n){q(n.data[e.key])}});function An(t,e){return e&&e!==c?Cn(t,e):t}var Tn={set:function(t,e){t.value=Gt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},On={set:function(t,e){t.checked=t.value===Gt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},Pn={set:function(t,e){t.checked=U(e)?nt(e,t.value,s):!!e},sync:function(t,e,n){var r=n.get(e);U(r)?t.checked?n.append(e,t.value):n.removeAt(e,J(r,t.value,s)):n.set(e,t.checked)},name:"checked"},Sn={set:function(t,e){F(rt(t.options),t.multiple?function(t){t.selected=nt(e,t.value,s)}:function(n,r){if(n.value==e)return t.selectedIndex=r,s})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];F(rt(r),function(t){t.selected&&X(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},jn=c;var zn=Object.freeze({once:jn,bind:function(t,n,r){var i,o,a=r.context,u=r.lazy,f=r.isComponent,s=n.modifier,p=u&&(u[e]||u[N]);if(f){var h=t,l=h.$model,d=An(function(t){a.set(s,t)},p);i=function(t){i&&h.set(l,t)},o=function(){h.unwatch(l,d)},h.watch(l,d)}else{var m=t,y="select"===r.tag?Sn:Tn,g=O;if(y===Tn){var $=t.type;"radio"===$?y=On:"checkbox"===$?y=Pn:p!==c&&(g=P)}i=function(t){i&&y.set(m,t)};var x=An(function(){y.sync(m,s,a)},p);o=function(){hn(m,g,x)},vn(m,g,x),y.set(m,n.value)}a.watch(s,i),r.data[n.key]=function(){a.unwatch(s,i),i=v,o()}},unbind:function(t,e,n){q(n.data[e.key])}}),Nn=c;var Dn=Object.freeze({once:Nn,bind:function(t,e,n){var r=e.modifier,i=jt(r),o=function(a,u,f){if(o){var c=i?zt(f,r):e.name;if(n.isComponent){var s=t;s.checkProp(c,a),s.set(c,a)}else{var p=t;D(e.hint)?on(p,c,a):an(p,c,a)}}};n.context.watch(r,o),n.data[e.key]=function(){n.context.unwatch(r,o),o=v}},unbind:function(t,e,n){q(n.data[e.key])}}),Ln={},Rn={},Un={},In={},Mn={},Wn="$$",_n=/^[#.][-\w+]+$/,Hn=function(){function t(e){var n=this,r=e||j;n.$emitter=new ue(c),r.events&&n.on(r.events),r.parent&&(n.$parent=r.parent),q(r[u],n,r),n.fire(u+a,r);var i=r.data,o=r.props,f=r.vnode,p=r.propTypes,h=r.computed,$=r.methods,k=r.watchers,b=r.extensions;n.$options=r,b&&Wt(n,b);var w=o?Ht(o):{};p&&It(p,function(t,e){var n=w[e];L(n)&&D(n=t.value)&&(w[e]=t.type===x?n:R(n)?n():n)});var C=n.$observer=new wn(w,n);h&&It(h,function(t,e){C.addComputed(e,t)});var E=R(i)?q(i,n,e):i;I(E)&&It(E,function(t,e){w[e]=t}),$&&It($,function(t,e){n[e]=t});var A=v,T=r.el,O=r.root,P=r.model,S=r.context,z=r.replace,U=r.template,W=r.transitions,_=r.components,H=r.directives,Y=r.partials,B=r.filters,F=r.slots;if(P&&(n.$model=P),F&&Wt(w,F),M(U)&&_n.test(U)&&(A=fn(U))&&(U=cn(A),A=v),T){if(M(T)){var K=T;_n.test(K)&&(A=fn(K))}else A=T;z||un(A,A=rn(N))}if(O&&(n.$root=O),S&&(n.$context=S),qn(n,g,W),qn(n,m,_),qn(n,y,H),qn(n,d,Y),qn(n,l,B),U){var G=k?Ht(k):{};return G[Wn]={sync:c,watcher:function(t){n.update(t,n.$vnode)}},C.addComputed(Wn,{sync:s,get:function(){return n.render()}}),Yn(n,G),n.$template=M(U)?t.compile(U):U,f||(f=function(t,e,n,r){return{tag:t.tag(e),data:Se(),node:e,context:n,keypath:r}}(ln,A,n,N)),void n.update(n.get(Wn),f)}Yn(n,k)}return t.use=function(e){e.install(t)},t.define=function(t){return t},t.nextTick=function(t,e){le.shared().append(t,e)},t.compile=function(t,e){return N},t.directive=function(t,e){if(M(t)&&!e)return Gn(Ln,t);Vn(Ln,t,e)},t.transition=function(t,e){if(M(t)&&!e)return Gn(Rn,t);Vn(Rn,t,e)},t.component=function(t,e){if(M(t)&&!e)return Gn(Un,t);Vn(Un,t,e)},t.partial=function(e,n){if(M(e)&&!n)return Gn(In,e);Vn(In,e,n,t.compile)},t.filter=function(t,e){if(M(t)&&!e)return Gn(Mn,t);Vn(Mn,t,e)},t.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},t.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},t.prototype.on=function(t,e){return Fn(this,t,e),this},t.prototype.once=function(t,e){return Fn(this,t,e,c),this},t.prototype.off=function(t,e){return this.$emitter.off(t,e),this},t.prototype.fire=function(t,e,n){var r,i=this.$emitter,o=this.$parent,a=this.$children,u=t instanceof B?t:new B(t),f=u.ns||(u.ns=i.parse(u.type)),s=[u];return u.target||(u.target=this),I(e)?X(s,e):e===c&&(n=c),(r=i.fire(f,s))&&(n?a&&(u.phase=B.PHASE_DOWNWARD,F(a,function(t){return r=t.fire(u,e,c)})):o&&(u.phase=B.PHASE_UPWARD,r=o.fire(u,e))),r},t.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},t.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},t.prototype.loadComponent=function(t,e){Kn(this.$components,t,e)||Kn(Un,t,e)},t.prototype.createComponent=function(n,r){(n=Ht(n)).root=this.$root||this,n.parent=this,n.context=r.context,n.vnode=r,n.replace=c;var i=r.props,o=r.slots,a=r.directives,u=a&&a[e];if(u){i||(i={});var f=n.model||"value";i[f]=u.value,n.model=f}i&&(n.props=i),o&&(n.slots=o);var s=new t(n);X(this.$children||(this.$children=[]),s);var p=s.$el;return p&&(r.node=p),s},t.prototype.directive=function(e,n){var r=this.$directives;if(M(e)&&!n)return Gn(r,e,t.directive);Vn(r||(this.$directives={}),e,n)},t.prototype.transition=function(e,n){var r=this.$transitions;if(M(e)&&!n)return Gn(r,e,t.transition);Vn(r||(this.$transitions={}),e,n)},t.prototype.component=function(e,n){var r=this.$components;if(M(e)&&!n)return Gn(r,e,t.component);Vn(r||(this.$components={}),e,n)},t.prototype.partial=function(e,n){var r=this.$partials;if(M(e)&&!n)return Gn(r,e,t.partial);Vn(r||(this.$partials={}),e,n,t.compile)},t.prototype.filter=function(e,n){var r=this.$filters;if(M(e)&&!n)return Gn(r,e,t.filter);Vn(r||(this.$filters={}),e,n)},t.prototype.forceUpdate=function(t){var e=this.$vnode,n=this.$observer,r=n.computed;if(e&&r){var i=r[Wn],o=i.get();t&&this.set(t),n.nextTask.run(),t||o!==i.get()||this.update(i.get(c),e)}},t.prototype.render=function(){var t,o,a,u,f,s,h,l,d,m,y,g,$,x,w,C,E,A,T,O,P,S,j,z,R,M,W,_,H,Y,K,G,V,J,et,nt;return t=this,o=this.$template,a=_t(this.$filters,Mn),u=_t(this.$partials,In),f=_t(this.$directives,Ln),s=_t(this.$transitions,Rn),d=[l={$keypath:N}],m=[],y={},g=function(e,n,r,i,o,u){var f=e[n],c=St(f.$keypath,r),s=e,h=Nt;if(L(u)&&(u=c),D(f[r])?s=f[r]:D(f.$item)&&(f=f.$item,r===N?s=f:f!=p&&D(f[r])&&(s=f[r])),s===e&&(s=t.get(c,e,o))===e){if(i&&n>0)return g(e,n-1,r,i,o,u);var l=Yt(a,r);return l?(h=l).keypath=r:(h.value=v,h.keypath=u),h}return h.value=s,h.keypath=c,h},$=function(e,n,r){return function(i,o){var a=t[e];if(i instanceof B){var u=v;if(n){var f=Q(r);f&&(f.$event=i,f.$data=o,u=q(a,t,n(r)),f.$event=f.$data=v)}else u=q(a,t,o?[i,o]:i);return u}q(a,t,n?n(r):v)}},x=function(t,e){return function(){return t(e)}},J=function(t,e,n,r,i,o){var a=l,u=d;l={$keypath:r},d=u.concat(l),D(o)&&(l.$length=o),i&&(l[i]=n),r||(l.$item=e),t(),l=a,d=u},o(W=function(t,e,n,r,i,o){var a=o||d,u=g(a,a.length-((n||0)+1),t,e,i);return r?u:u.value},_=function(t,e){return Z(e,t),it(e,b)},H=function(t,e,n,r){D(n)&&(e=it(n,b));var i=Yt(t,e);return Nt.keypath=v,Nt.value=i?i.value:v,r?Nt:Nt.value},Y=function(e,n,r){return Nt.keypath=v,Nt.value=q(e,t,n||v),r?Nt:Nt.value},w=function(e){var n=Q(m);if(n){var r=Q(n);r&&r.isText?r.text+=e:X(n,{isText:c,text:e,context:t,keypath:l.$keypath})}},C=function(t,e){h.isComponent?We(h,"props",t,e):We(h,"nativeAttrs",t,{name:t,value:e})},E=function(t,e,n){We(h,"nativeProps",t,{name:t,value:n,hint:e})},A=function(t,e){We(h,"lazy",t,e)},T=function(t){h.transition=s[t]},O=function(t,e,n){var i=St(r,t);return We(h,_e,i,{ns:r,name:t,key:i,modifier:e.keypath,hooks:f[r],hint:n}),e.value},P=function(t){We(h,_e,e,{ns:e,name:N,key:e,value:t.value,modifier:t.keypath,hooks:f[e]})},S=function(t,e,r,i,o,a){We(h,_e,e,{ns:n,name:t,key:e,value:i,modifier:r,hooks:f[n],handler:$(o,a,d)})},j=function(e,r,i,o,a){var u;We(h,_e,r,{ns:n,name:e,key:r,value:o,modifier:i,hooks:f[n],handler:(u=a,function(e,n){u!==e.type&&(e=new B(u,e)),t.fire(e,n)})})},z=function(t,e,n,r,o,a,u){var c=f[t];We(h,_e,e,{ns:i,name:t,key:e,value:r,hooks:c,modifier:n,getter:u?x(u,d):v,handler:o?$(o,a,d):v})},R=function(t){var e=t.value,n=t.keypath;if(e!=p&&I(e)&&!U(e)&&(It(e,function(t,e){We(h,"props",e,t)}),n)){var i=St(r,n);We(h,_e,i,{ns:r,name:N,key:i,modifier:St(n,k),hooks:f[r]})}},M=function(e,n,r,i,o){if(n){var a=t.get(n);e.tag=a}if(r&&(h=e,r(),h=v),i)m.push(e.children=[]),i(),tt(m);else if(o){var u={};It(o,function(t,e){m.push([]),t();var n=tt(m);u[e]=n.length?n:v}),e.slots=u}e.context=t,e.keypath=l.$keypath;var f=Q(m);return f&&X(f,e),e},K=function(e,n){var r=Q(m),i=t.get(e);r&&(i?F(i,function(n){X(r,n),n.slot=e,n.parent=t}):n&&n())},G=function(t,e){y[t]=e},V=function(t){if(y[t])y[t]();else{var e=u[t];e&&e(W,_,H,Y,w,C,E,A,T,O,P,S,j,z,R,M,K,G,V,et,nt,Gt)}},et=function(t,e,n){var r=e.keypath,i=e.value;if(U(i))for(var o=0,a=i.length;o<a;o++)J(t,i[o],o,r?St(r,N+o):N,n,a);else if(I(i))for(var u in i)J(t,i[u],u,r?St(r,u):N,n)},nt=function(t,e,n,r,i){var o=0;if(e<n)if(r)for(var a=e;a<=n;a++)J(t,a,o++,N,i);else for(a=e;a<n;a++)J(t,a,o++,N,i);else if(r)for(a=e;a>=n;a--)J(t,a,o++,N,i);else for(a=e;a>n;a--)J(t,a,o++,N,i)},Gt)},t.prototype.update=function(e,n){var r,i=this,o=i.$vnode,u=i.$options;i.$refs={},o?(q(u.beforeUpdate,i),i.fire("beforeUpdate"+a),Ie(ln,e,n),r="afterUpdate"):(q(u.beforeMount,i),i.fire("beforeMount"+a),Ie(ln,e,n),i.$el=e.node,r="afterMount"),i.$vnode=e,t.nextTick(function(){i.$vnode&&(q(u[r],i),i.fire(r+a))})},t.prototype.checkProps=function(t){},t.prototype.checkProp=function(t,e){},t.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,r=this.$observer;q(e.beforeDestroy,this),this.fire("beforeDestroy"+a);var i=this.$vnode;t&&t.$children&&et(t.$children,this),i&&(this.$vnode=v,function(t,e,n){if(n){var r=t.parent(e.node);r&&Le(t,r,e)}else Re(t,e)}(ln,i,!t)),r.destroy(),q(e.afterDestroy,this),this.fire("afterDestroy"+a),n.off(),Mt(this)},t.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},t.prototype.toggle=function(t){return this.$observer.toggle(t)},t.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},t.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},t.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},t.prototype.append=function(t,e){return this.$observer.append(t,e)},t.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},t.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},t.prototype.remove=function(t,e){return this.$observer.remove(t,e)},t.prototype.copy=function(t,e){return this.$observer.copy(t,e)},t.version="1.0.0-alpha.85",t.is=Y,t.dom=ln,t.array=at,t.object=Kt,t.string=bt,t.logger=ae,t.Event=B,t.Emitter=ue,t}();function Yn(t,e){e&&t.watch(e),q(t.$options[f],t),t.fire(f+a)}function qn(t,e,n){R(n)?t[e](q(n,t)):I(n)&&t[e](n)}function Bn(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Fn(t,e,n,r){M(e)?Bn(t,e,n,r):It(e,function(e,n){Bn(t,n,e,r)})}function Kn(t,e,n){if(t&&t[e]){var r=t[e];if(R(r)){t[e]=[n];var i=function(n){var r=t[e],i=n.default||n;t[e]=i,F(r,function(t){t(i)})},o=r(i);o&&o.then(i)}else U(r)?X(r,n):n(r);return c}}function Gn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Vn(t,e,n,r){M(e)?t[e]=r?r(n):n:It(e,function(e,n){t[n]=r?r(e):e})}return Hn.directive({event:En,model:zn,binding:Dn}),Hn.filter({hasSlot:function(t){return D(this.get("$slot_"+t))}}),Hn});
//# sourceMappingURL=yox.min.js.map
