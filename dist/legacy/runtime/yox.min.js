!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,r=void 0,i="filter",o="partial",a="component",u="directive",c="transition",f="length",s="function",p="*",v=-1,h="undefined"!=typeof window?window:r,l="undefined"!=typeof document?document:r,d="undefined"!=typeof global?global:h,m="tap",y="click",g="change",$="model",b=function(){},x=Object.freeze({}),k=Object.freeze([]),w="";function C(t){return t!==r}function E(t){return t===r}function A(t){return typeof t===s}function T(t){return Array.isArray(t)}function O(t){return t!==n&&"object"==typeof t}function P(t){return"string"==typeof t}function S(t){return"number"==typeof t}function j(t){return"boolean"==typeof t}function z(t){return S(t)||P(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var N=Object.freeze({func:A,array:T,object:O,string:P,number:S,boolean:j,numeric:z});function D(t,e,n){if(A(t))return T(n)?t.apply(e,n):C(e)?t.call(e,n):C(n)?t(n):t()}var L=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=v,e}();function R(t,n,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&n(t[o],o,i)!==e;o--);else for(o=0;o<i&&n(t[o],o,i)!==e;o++);}function U(t,e){t[t.length]=e}function I(t,e){t.unshift(e)}function M(t,e,n){T(e)?R(e,function(e){n(t,e)}):n(t,e)}function W(t,e){M(t,e,U)}function _(t,e){M(t,e,I)}function H(t,n,r){var i=v;return R(t,function(t,o){if(r===e?t==n:t===n)return i=o,e}),i}function Y(t){var e=t.length;if(e>0)return t[e-1]}function q(t){if(t.length>0)return t.pop()}function B(n,r,i){var o=0;return R(n,function(t,a){(i===e?t==r:t===r)&&(n.splice(a,1),o++)},t),o}function F(t,e,n){return H(t,e,n)>=0}function K(t){return T(t)?t:D(k.slice,t)}function G(t,e){return t.join(e)}function V(t){return!T(t)||!t.length}var X=Object.freeze({each:R,push:W,unshift:_,indexOf:H,last:Y,pop:q,remove:B,has:F,toArray:K,toObject:function(t,e,n){var r={};return R(t,function(t){r[e?t[e]:t]=n||t}),r},join:G,falsy:V}),Z=/-([a-z])/gi,J=/\B([A-Z])/g,Q=/^[a-z]/,tt={},et={},nt={};function rt(t,e,n){return S(n)?e===n?w:t.slice(e,n):t.slice(e)}function it(t,e,n){return t.indexOf(e,C(n)?n:0)}function ot(t,e,n){return t.lastIndexOf(e,C(n)?n:t.length)}function at(t,e){return 0===it(t,e)}function ut(t,e){return t.charCodeAt(e||0)}function ct(t){return t.toUpperCase()}function ft(t){return t.toLowerCase()}function st(t,e){return it(t,e)>=0}function pt(t){return!P(t)||!t.length}var vt=Object.freeze({camelize:function(t){return tt[t]||(tt[t]=t.replace(Z,function(t,e){return ct(e)})),tt[t]},hyphenate:function(t){return et[t]||(et[t]=t.replace(J,function(t,e){return"-"+ft(e)})),et[t]},capitalize:function(t){return nt[t]||(nt[t]=t.replace(Q,ct)),nt[t]},trim:function(t){return pt(t)?w:t.trim()},slice:rt,indexOf:it,lastIndexOf:ot,startsWith:at,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&ot(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:ut,upper:ct,lower:ft,has:st,falsy:pt}),ht=/\./g,lt=/\*/g,dt=/\*\*/g,mt={},yt={},gt=".";function $t(t,e){return t===e?e.length:at(t,e+=gt)?e.length:v}function bt(t,n){for(var r=C(mt[t])?mt[t]:mt[t]=t.split(gt),i=0,o=r.length-1;i<=o&&n(r[i],i===o)!==e;i++);}function xt(t,e){return t&&e?t+gt+e:t||e}function kt(t){return st(t,p)}function wt(t,e){var n=yt[e];if(!n){var r=e.replace(ht,"\\.").replace(lt,"(\\w+)").replace(dt,"([.\\w]+?)");n=yt[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var Ct={value:r};function Et(t){return Object.keys(t)}function At(t,e){return t.length-e.length}function Tt(t,e){return e.length-t.length}function Ot(t,e){return Et(t).sort(e?Tt:At)}function Pt(t,n){for(var r in t)if(n(t[r],r)===e)break}function St(t){Pt(t,function(e,n){delete t[n]})}function jt(t,e){return Pt(e,function(e,n){t[n]=e}),t}function zt(t,e){return t&&e?jt(jt({},t),e):t||e}function Nt(t,e){var n=t;return T(t)?e?(n=[],R(t,function(t,r){n[r]=Nt(t,e)})):n=t.slice():O(t)&&(n={},Pt(t,function(t,r){n[r]=e?Nt(t,e):t})),n}function Dt(t,i){return bt(i,function(i,o){if(t==n)return t=r,e;var a=t[i],u=C(a);a&&A(a.get)&&(a=a.get()),o?u?(Ct.value=a,t=Ct):t=r:t=a}),t}function Lt(t,n,r,i){bt(n,function(n,o){if(o)t[n]=r;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function Rt(t,e){return C(t[e])}function Ut(t){return!O(t)||T(t)||!Et(t).length}var It=Object.freeze({keys:Et,sort:Ot,each:Pt,clear:St,extend:jt,merge:zt,copy:Nt,get:Dt,set:Lt,has:Rt,falsy:Ut});function Mt(t,e){return t!=n&&t.toString?t.toString():C(e)?e:w}var Wt=1,_t=2,Ht=3,Yt=4,qt=5,Bt="undefined"!=typeof console?console:n,Ft=/yox/.test(Mt(b))?Wt:Ht,Kt=h&&/edge|msie|trident/i.test(h.navigator.userAgent)?w:"%c",Gt=Bt?Kt?function(t,e,n){Bt.log(Kt+t,n,e)}:function(t,e){Bt.log(t,e)}:b;function Vt(){if(d){var t=d.YOX_LOG_LEVEL;if(t>=Wt&&t<=qt)return t}return Ft}function Xt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Zt=Object.freeze({DEBUG:Wt,INFO:_t,WARN:Ht,ERROR:Yt,FATAL:qt,debug:function(t,e){Vt()<=Wt&&Gt(e||"Yox debug",t,Xt("#999"))},info:function(t,e){Vt()<=_t&&Gt(e||"Yox info",t,Xt("#2db7f5"))},warn:function(t,e){Vt()<=Ht&&Gt(e||"Yox warn",t,Xt("#f90"))},error:function(t,e){Vt()<=Yt&&Gt(e||"Yox error",t,Xt("#ed4014"))},fatal:function(t,e){if(Vt()<=qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),Jt=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,i,o){var a=this,u=Qt(a.ns,n),c=u.name,f=u.ns,s=a.listeners[c],p=t;if(s){s=Nt(s);var v=i&&i[0]instanceof L?i[0]:r;R(s,function(t,u){if(ne(f,t)&&F(s,t)&&(!o||o(n,i,t))){v&&(v.listener=t.fn);var c=D(t.fn,t.ctx,i);return v&&(v.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&a.off(n,t.fn),v&&(c===e?v.prevent().stop():v.isStoped&&(c=e)),c===e?p=e:void 0}})}return p},n.prototype.on=function(t,e){var n=this.listeners,r=A(e)?{fn:e}:e;if(O(r)&&A(r.fn)){var i=Qt(this.ns,t),o=i.name,a=i.ns;r.ns=a,W(n[o]||(n[o]=[]),r)}},n.prototype.off=function(e,n){var r=this.listeners;if(e){var i=Qt(this.ns,e),o=i.name,a=i.ns,u=ee(n),c=function(e,n){R(e,function(t,n){u(t)&&ne(a,t)&&e.splice(n,1)},t),e.length||delete r[n]};o?r[o]&&c(r[o],o):a&&Pt(r,c)}else this.listeners={}},n.prototype.has=function(n,r){var i=this.listeners,o=Qt(this.ns,n),a=o.name,u=o.ns,c=t,f=ee(r),s=function(t){return R(t,function(t){if(f(t)&&ne(u,t))return c=e}),c};return a?i[a]&&s(i[a]):u&&Pt(i,s),!c},n}();function Qt(t,e){var n={name:e,ns:w};if(t){var r=it(e,".");r>=0&&(n.name=rt(e,0,r),n.ns=rt(e,r+1))}return n}function te(e){return t}function ee(t){return A(t)?function(e){return t===e.fn}:te}function ne(e,n){var r=n.ns;return r&&e?r===e:t}function re(t){return A(t)&&/native code/.test(Mt(t))}typeof setImmediate===s&&re(setImmediate)&&setImmediate;var ie,oe=typeof MessageChannel===s&&re(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,ae=function(){function t(){this.tasks=[]}return t.shared=function(){return ie||(ie=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;W(r,{fn:t,ctx:e}),1===r.length&&oe(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;_(r,{fn:t,ctx:e}),1===r.length&&oe(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],R(t,function(t){D(t.fn,t.ctx)}))},t}(),ue=3,ce="model",fe="event",se="binding",pe="o",ve=".hook",he="beforeCreate",le="afterCreate",de=0;var me="$id",ye="$vnode",ge="$loading",$e="$component",be="$leaving";function xe(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||x,u=o||x;Pt(a,function(e,n){u[n]&&e.value===u[n].value||t.attr(r,n,e.value)}),Pt(u,function(e,n){a[n]||t.removeAttr(r,n)})}}function ke(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||x,u=o||x;Pt(a,function(e,n){u[n]&&e.value===u[n].value||t.prop(r,n,e.value)}),Pt(u,function(e,n){a[n]||t.removeProp(r,n,e.hint)})}}function we(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[$e]||t.node,a=e&&t.keypath!==e.keypath,u=r||x,c=i||x;Pt(u,function(n,r){var i=n.hooks,u=i.once,f=i.bind,s=i.unbind;c[r]?(u||n.value!==c[r].value||a)&&(s&&s(o,c[r],e),f(o,n,t)):f(o,n,t)}),Pt(c,function(t,n){if(!u[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function Ce(t){var e=t.directives;if(e){var n=t.data[$e]||t.node;Pt(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ee(t,e){var n,r=t.data,i=t.ref,o=t.props,a=t.slots,u=t.directives,c=t.context;if(t.isComponent){if(n=r[$e],e){var f=u&&u[ce];f&&(o||(o={}),o[n.$model]=f.value),o&&n.checkProps(o);var s=zt(o,a);s&&n.forceUpdate(s)}}else n=t.node;if(i){var p=c.$refs;p&&(p[i]=n)}}function Ae(t,e){return t.tag===e.tag&&t.key===e.key}function Te(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||x}function Oe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Pe(t,n){var r=(t.parent||t.context).createComponent(n,t);return t.data[$e]=r,t.data[ge]=e,Ee(t),we(t),r}function Se(){var t={};return t[me]=++de,t}function je(e,n){var i=n.tag,o=n.node,u=n.data,c=n.isComponent,f=n.isComment,s=n.isText,p=n.isStyle,v=n.isOption,h=n.children,l=n.text,d=n.html,m=n.context;if(!o||!u)if(u=Se(),n.data=u,s)n.node=e.createText(l);else if(f)n.node=e.createComment(l);else if(c){var y=r;i&&m.loadComponent(i,function(t){Rt(u,ge)?u[ge]&&(u[ye]&&(n=u[ye],delete u[ye]),Ue(n,Pe(n,t))):y=t}),n.node=e.createComment(a),y?Pe(n,y):u[ge]=t}else o=n.node=e.createElement(n.tag,n.isSvg),h?ze(e,o,h):l?e.text(o,l,p,v):d&&e.html(o,d,p,v),xe(e,n),ke(e,n),Ee(n),we(n)}function ze(t,e,n,r,i,o){for(var a,u=r||0,c=C(i)?i:n.length-1;u<=c;)je(t,a=n[u]),Ne(t,e,a,o),u++}function Ne(t,e,n,i){var o=n.node,a=n.data,u=n.context,c=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!c){var f=r;if(n.isComponent){var s=a[$e];s&&(f=function(){Ue(n,s)})}else n.isStatic||n.isText||n.isComment||(f=function(){Ue(n)});f&&u.$observer.nextTask.prepend(f)}}function De(t,e,n,r,i){for(var o,a=r||0,u=C(i)?i:n.length-1;a<=u;)(o=n[a])&&Le(t,e,o),a++}function Le(t,e,n){var i=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{var o,a=function(){Re(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[$e]))return void a();!function(t,e,n){var i=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var a=o.leave;if(a)return void a(t.node,i[be]=function(){i[be]&&(n(),i[be]=r)})}n()}(n,o,a)}}function Re(t,n){var r=n.data,i=n.children,o=n.parent,a=n.slot;if(a&&o&&o.$vnode){var u=o.get(a);if(u&&F(u,n))return}if(n.isComponent){var c=r[$e];c?(Ce(n),c.destroy()):r[ge]=e}else Ce(n),i&&R(i,function(e){Re(t,e)})}function Ue(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),D(n[be]),r){var i=r.enter;if(i)return void i(t.node)}}function Ie(t,e,n){if(e!==n){var i=n.node,o=n.data;if(!Ae(e,n)){var a=t.parent(i);return je(t,e),void(a&&(Ne(t,a,e,n),Le(t,a,n)))}if(e.node=i,e.data=o,n.isComponent&&o[ge])o[ye]=e;else if(!e.isStatic||!n.isStatic){xe(t,e,n),ke(t,e,n),Ee(e,n),we(e,n);var u=e.text,c=e.html,f=e.children,s=e.isStyle,p=e.isOption,v=n.text,h=n.html,l=n.children;P(u)?u!==v&&t.text(i,u,s,p):P(c)?c!==h&&t.html(i,c,s,p):f&&l?f!==l&&function(t,e,n,i){for(var o,a,u=0,c=n.length-1,f=n[u],s=n[c],p=0,v=i.length-1,h=i[p],l=i[v];p<=v&&u<=c;)f?s?h?l?Ae(f,h)?(Ie(t,f,h),f=n[++u],h=i[++p]):Ae(s,l)?(Ie(t,s,l),s=n[--c],l=i[--v]):Ae(s,h)?(Ie(t,s,h),Oe(t,e,h.node,t.next(l.node)),s=n[--c],h=i[++p]):Ae(f,l)?(Ie(t,f,l),Oe(t,e,l.node,h.node),f=n[++u],l=i[--v]):(o||(o=Te(i,p,v)),C(a=f.key?o[f.key]:r)?(Ie(t,f,i[a]),i[a]=r):je(t,f),Ne(t,e,f,h),f=n[++u]):l=i[--v]:h=i[++p]:s=n[--c]:f=n[++u];p>v?ze(t,e,n,u,c,n[c+1]):u>c&&De(t,e,i,p,v)}(t,i,f,l):f?((P(v)||P(h))&&t.text(i,w,s),ze(t,i,f)):l?De(t,i,l):(P(v)||P(h))&&t.text(i,w,s)}}}function Me(t,e){return z(t)?+t:C(e)?e:0}function We(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var _e="directives";var He="textContent",Ye="innerHTML",qe=function(t){var e=l.querySelector(t);if(e)return e},Be=function(t,n,r){t.addEventListener(n,r,e)},Fe=function(t,n,r){t.removeEventListener(n,r,e)},Ke=function(t,e){t.classList.add(e)},Ge=function(t,e){t.classList.remove(e)},Ve=function(t,e){return t};if(l&&(l.documentElement.classList||(Ke=function(t,e){var n=t.className.split(Je);F(n,e)||(W(n,e),t.className=G(n,Je))},Ge=function(t,e){var n=t.className.split(Je);B(n,e)&&(t.className=G(n,Je))}),!l.addEventListener)){Be=function(t,e,n){"input"===e?Be(t,"propertychange",n[Qe]=function(t){"value"===t.propertyName&&((t=new L(t)).type="input",D(n,this,t))}):e===g&&Xe(t)?Be(t,y,n[Qe]=function(t){(t=new L(t)).type=g,D(n,this,t)}):t.attachEvent("on"+e,n)},Fe=function(t,e,n){"input"===e?(Fe(t,"propertychange",n[Qe]),delete n[Qe]):e===g&&Xe(t)?(Fe(t,y,n[Qe]),delete n[Qe]):t.detachEvent("on"+e,n)};var Xe=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},Ze=function(){function n(t,e){jt(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return n.prototype.preventDefault=function(){this.originalEvent.returnValue=e},n.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=t},n}();He="innerText",Ve=function(t,e){return new Ze(t,e)},qe=function(t){35===ut(t,0)&&(t=rt(t,1));var e=l.getElementById(t);if(e)return e}}var Je=" ",Qe="$emitter",tn="styleSheet",en={svg:"http://www.w3.org/2000/svg"},nn={};function rn(t){return l.createComment(t)}function on(t,n,r){if(C(r))Lt(t,n,r,e);else{var i=Dt(t,n);if(i)return i.value}}function an(t,e,r){if(C(r))t.setAttribute(e,r);else{var i=t.getAttribute(e);if(i!=n)return i}}function un(t,e){t.appendChild(e)}nn[$]={on:function(n,r){var i=e;vn(n,"compositionstart",r.compositionstart=function(){i=t}),vn(n,"compositionend",r.compositionend=function(t){i=e,r(t)}),Be(n,"input",r.input=function(t){i||r(t)})},off:function(t,e){hn(t,"compositionstart",e.compositionstart),hn(t,"compositionend",e.compositionend),Fe(t,"input",e.input),e.compositionstart=e.compositionend=e.input=r}};var cn=qe;function fn(t,e,n,r){if(!C(e))return t[Ye];n&&Rt(t,tn)?t[tn].cssText=e:(r&&(t.value=e),t[Ye]=e)}var sn=Ke,pn=Ge;function vn(t,e,n){var r=t[Qe]||(t[Qe]=new Jt),i=r.nativeListeners||(r.nativeListeners={});if(!i[e]){var o=nn[e],a=function(n){var i=n instanceof L?n:new L(n.type,Ve(n,t));i.type!==e&&(i.type=e),r.fire(e,[i])};i[e]=a,o?o.on(t,a):Be(t,e,a)}r.on(e,n)}function hn(t,e,n){var i=t[Qe],o=i.listeners,a=i.nativeListeners;if(i.off(e,n),a&&!i.has(e)){var u=nn[e],c=a[e];u?u.off(t,c):Fe(t,e,c),delete a[e]}Ut(o)&&(t[Qe]=r)}var ln=Object.freeze({createElement:function(t,e){return e?l.createElementNS(en.svg,t):l.createElement(t)},createText:function(t){return l.createTextNode(t)},createComment:rn,prop:on,removeProp:function(t,n,r){Lt(t,n,r===ue?e:w,e)},attr:an,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:un,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:cn,tag:function(t){if(1===t.nodeType)return ft(t.tagName)},text:function(t,e,n,r){if(!C(e))return t[He];n&&Rt(t,tn)?t[tn].cssText=e:(r&&(t.value=e),t[He]=e)},html:fn,addClass:sn,removeClass:pn,on:vn,off:hn,addSpecialEvent:function(t,e){nn[t]=e}}),dn=function(){function e(e,n,r,i,o,a,u){var c=this;c.keypath=e,c.cache=r,c.deps=i,c.context=o.context,c.observer=o,c.getter=a,c.setter=u,c.unique={},c.watcher=function(n,r,i){var a=c.value,u=c.get(t);u!==a&&o.diff(e,u,a)},c.watcherOptions={sync:n,watcher:c.watcher},(c.fixed=!V(i))&&R(i,function(t){o.watch(t,c.watcherOptions)})}return e.prototype.get=function(t){var n=this.getter,r=this.context;if(this.cache){if(t||!Rt(this,"value"))if(this.fixed)this.value=D(n,r);else{this.unbind();var i=e.current;e.current=this,this.value=D(n,r),this.bind(),e.current=i}}else this.value=D(n,r);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Pt(t,function(t,i){W(e,i),n.watch(i,r)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,r=this.watcher;R(e,function(t){n.unwatch(t,r)},t),e.length=0},e}();function mn(t,n){var r;return R(t,function(t){var i=$t(n,t);if(i>=0)return r={name:t,prop:rt(n,i)},e}),r}function yn(t,e){if(t==n||e===w)return t;var r=Dt(t,e);return r?r.value:void 0}function gn(e,n,i,o,a){var u=function(t,n,r){if(n!==r){var i=xt(e,t);R(o,function(t){C(wt(i,t))&&a(t,i,n,r)}),gn(i,n,r,o,a)}};(function(e,n,i){var o=P(e),a=P(n);if(o||a)return i(f,o?e.length:r,a?n.length:r),t})(n,i,u)||function(e,n,i){var o=T(e),a=T(n);if(o||a){var u=o?e.length:r,c=a?n.length:r;i(f,u,c);for(var s=0,p=Math.max(u||0,c||0);s<p;s++)i(""+s,e?e[s]:r,n?n[s]:r);return t}}(n,i,u)||function(t,e,n){var r=O(t),i=O(e);(r||i)&&(t=r?t:x,e=i?e:x,r&&Pt(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Pt(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(n,i,u)}function $n(t,e,n,r,i,o){var a;Pt(r,function(r,u){if(kt(u))C(wt(t,u))?o(u,t,e,n):i&&(a?W(a,u):a=[u]);else{var c=$t(u,t);if(c>=0){var f=rt(u,c),s=yn(e,f),p=yn(n,f);s!==p&&o(u,u,s,p)}}}),a&&gn(t,e,n,a,o)}function bn(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var xn={watcher:b};function kn(e,n){return A(e)?(xn.watcher=e,xn.immediate=n===t,xn):e&&e.watcher?e:void 0}var wn=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new ae,this.syncEmitter=new Jt,this.asyncEmitter=new Jt,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var r,i,o=dn.current,a=this.data,u=this.computed,c=this.reversedComputedKeys;if(t===w)return a;if(o&&!n&&o.add(t),u){if(i=u[t])return i.get();if(c){var f=mn(c,t);f&&f.prop&&(r=Dt(u[f.name].get(),f.prop))}}return r||(r=Dt(a,t)),r?r.value:e},n.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var u;if(i&&((u=i[e])&&u.set(t),o)){var c=mn(o,e);if(c&&c.prop&&(u=i[c.name])){var f=u.get();O(f)&&Lt(f,c.prop,t)}}u||Lt(r,e,t),n.diff(e,t,a)}};P(t)?a(e,t):O(t)&&Pt(t,a)},n.prototype.diff=function(e,n,i){var o=this,a=o.syncEmitter,u=o.asyncEmitter,c=o.asyncChanges,f=36!==ut(e);$n(e,n,i,a.listeners,f,function(t,e,n,r){a.fire(t,[n,r,e])}),$n(e,n,i,u.listeners,f,function(e,n,i,a){R(u.listeners[e],function(t){t.count++});var f=(c[n]||(c[n]={value:a,keypaths:[]})).keypaths;F(f,e)||W(f,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Pt(n,function(n,r){var i=[t.get(r),n.value,r];R(n.keypaths,function(t){e.fire(t,i,bn)})})},n.prototype.addComputed=function(e,n){var r,i,o=t,a=t,u=[];if(A(n))r=n;else if(O(n)){var c=n;j(c.cache)&&(o=c.cache),j(c.sync)&&(a=c.sync),T(c.deps)&&(u=Nt(c.deps)),A(c.get)&&(r=c.get),A(c.set)&&(i=c.set)}if(r){var f=new dn(e,a,o,u,this,r,i);return this.computed||(this.computed={}),this.computed[e]=f,this.reversedComputedKeys=Ot(this.computed,t),f}},n.prototype.removeComputed=function(e){var n=this.computed;n&&Rt(n,e)&&(delete n[e],this.reversedComputedKeys=Ot(n,t))},n.prototype.watch=function(t,e,n){var i=this,o=i.context,a=i.syncEmitter,u=i.asyncEmitter,c=function(t,e){var n=e.sync?a:u,c={fn:e.watcher,ctx:o,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&D(e.watcher,o,[i.get(t),r,t])};P(t)?c(t,kn(e,n)):Pt(t,function(t,e){c(e,kn(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var r=Me(this.get(t),0)+(e||1);if(!S(n)||r<=n)return this.set(t,r),r},n.prototype.decrease=function(t,e,n){var r=Me(this.get(t),0)-(e||1);if(!S(n)||r>=n)return this.set(t,r),r},n.prototype.insert=function(n,r,i){var o=this.get(n),a=(o=T(o)?Nt(o):[]).length;if(i===t||i===a)o.push(r);else if(i===e||0===i)o.unshift(r);else{if(!(i>0&&i<a))return;o.splice(i,0,r)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var r=this.get(e);if(T(r)&&n>=0&&n<r.length)return(r=Nt(r)).splice(n,1),this.set(e,r),t},n.prototype.remove=function(e,n){var r=this.get(e);if(T(r)&&B(r=Nt(r),n))return this.set(e,r),t},n.prototype.copy=function(t,e){return Nt(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),St(this)},n}();function Cn(t,e,n){var i;return function(){if(!i){var o=K(arguments);n&&D(t,r,o),i=setTimeout(function(){i=r,n||D(t,r,o)},e)}}}var En=Object.freeze({bind:function(e,n,r){var i=n.name,o=n.handler,a=r.lazy;if(o){if(a){var u=a[i]||a[w];u===t?i=g:u>0&&(o=Cn(o,u,i===y||i===m))}r.isComponent?(e.on(i,o),r.data[n.key]=function(){e.off(i,o)}):(vn(e,i,o),r.data[n.key]=function(){hn(e,i,o)})}},unbind:function(t,e,n){D(n.data[e.key])}});function An(e,n){return n&&n!==t?Cn(e,n):e}var Tn={set:function(t,e){t.value=Mt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},On={set:function(t,n){R(K(t.options),t.multiple?function(t){t.selected=F(n,t.value,e)}:function(r,i){if(r.value==n)return t.selectedIndex=i,e})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];R(K(r),function(t){t.selected&&W(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},Pn={radio:{set:function(t,e){t.checked=t.value===Mt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set:function(t,n){t.checked=T(n)?F(n,t.value,e):!!n},sync:function(t,n,r){var i=r.get(n);T(i)?t.checked?r.append(n,t.value):r.removeAt(n,H(i,t.value,e)):r.set(n,t.checked)},name:"checked"}},Sn=t;var jn=Object.freeze({once:Sn,bind:function(e,n,i){var o,a,u=i.context,c=i.lazy,f=i.isComponent,s=n.binding,p=c&&(c[ce]||c[w]);if(f){var v=e,h=v.$model,l=An(function(t){u.set(s,t)},p);o=function(t){o&&v.set(h,t)},a=function(){v.unwatch(h,l)},v.watch(h,l)}else{var d=e,m="select"===i.tag?On:Tn,y=g;if(m===Tn){var b=e.type;Pn[b]?m=Pn[b]:p!==t&&(y=$)}o=function(t){o&&m.set(d,t)};var x=An(function(){m.sync(d,s,u)},p);a=function(){hn(d,y,x)},vn(d,y,x),m.set(d,n.value)}u.watch(s,o),i.data[n.key]=function(){u.unwatch(s,o),o=r,a()}},unbind:function(t,e,n){D(n.data[e.key])}}),zn=t;var Nn=Object.freeze({once:zn,bind:function(t,e,n){var i=e.binding,o=kt(i),a=function(r,u,c){if(a){var f=o?wt(c,i):e.name;if(n.isComponent){var s=t;s.checkProp(f,r),s.set(f,r)}else{var p=t;C(e.hint)?on(p,f,r):an(p,f,r)}}};n.context.watch(i,a),n.data[e.key]=function(){n.context.unwatch(i,a),a=r}},unbind:function(t,e,n){D(n.data[e.key])}}),Dn={},Ln={},Rn={},Un={},In={},Mn="$$",Wn=/^[#.][-\w+]+$/,_n=function(){function f(n){var p=this,v=n||x;p.$emitter=new Jt(t),v.events&&p.on(v.events),v.parent&&(p.$parent=v.parent),D(v[he],p,v),p.fire(he+ve,v);var h=v.data,l=v.props,d=v.vnode,m=v.propTypes,y=v.computed,g=v.methods,$=v.watchers,b=v.extensions;p.$options=v,b&&jt(p,b);var k=l?Nt(l):{};m&&Pt(m,function(t,e){var n=k[e];E(n)&&C(n=t.value)&&(k[e]=t.type===s?n:A(n)?n():n)});var T=p.$observer=new wn(k,p);y&&Pt(y,function(t,e){T.addComputed(e,t)});var S=A(h)?D(h,p,n):h;O(S)&&Pt(S,function(t,e){k[e]=t}),g&&Pt(g,function(t,e){p[e]=t});var j=r,z=v.el,N=v.root,L=v.model,R=v.context,U=v.replace,I=v.template,M=v.transitions,W=v.components,_=v.directives,H=v.partials,Y=v.filters,q=v.slots;if(L&&(p.$model=L),q&&jt(k,q),P(I)&&Wn.test(I)&&(j=cn(I))&&(I=fn(j),j=r),z){if(P(z)){var B=z;Wn.test(B)&&(j=cn(B))}else j=z;U||un(j,j=rn(w))}if(N&&(p.$root=N),R&&(p.$context=R),Yn(p,c,M),Yn(p,a,W),Yn(p,u,_),Yn(p,o,H),Yn(p,i,Y),I){var F=$?Nt($):{};return F[Mn]={sync:t,watcher:function(t){p.update(t,p.$vnode)}},T.addComputed(Mn,{sync:e,get:function(){return p.render()}}),Hn(p,F),p.$template=P(I)?f.compile(I):I,d||(d=function(t,e,n,r){return{tag:t.tag(e),data:Se(),node:e,context:n,keypath:r}}(ln,j,p,w)),void p.update(p.get(Mn),d)}Hn(p,$)}return f.use=function(t){t.install(f)},f.define=function(t){return t},f.nextTick=function(t,e){ae.shared().append(t,e)},f.compile=function(t,e){return w},f.directive=function(t,e){if(P(t)&&!e)return Kn(Dn,t);Gn(Dn,t,e)},f.transition=function(t,e){if(P(t)&&!e)return Kn(Ln,t);Gn(Ln,t,e)},f.component=function(t,e){if(P(t)&&!e)return Kn(Rn,t);Gn(Rn,t,e)},f.partial=function(t,e){if(P(t)&&!e)return Kn(Un,t);Gn(Un,t,e,f.compile)},f.filter=function(t,e){if(P(t)&&!e)return Kn(In,t);Gn(In,t,e)},f.prototype.addComputed=function(t,e){return this.$observer.addComputed(t,e)},f.prototype.removeComputed=function(t){this.$observer.removeComputed(t)},f.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},f.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},f.prototype.on=function(t,e){return Bn(this,t,e)},f.prototype.once=function(e,n){return Bn(this,e,n,t)},f.prototype.off=function(t,e){return this.$emitter.off(t,e),this},f.prototype.fire=function(e,n,r){var i,o=e instanceof L?e:new L(e),a=[o];if(o.target||(o.target=this),O(n)?W(a,n):n===t&&(r=t),i=this.$emitter.fire(o.type,a)){var u=this.$parent,c=this.$children;r?c&&(o.phase=L.PHASE_DOWNWARD,R(c,function(e){return i=e.fire(o,n,t)})):u&&(o.phase=L.PHASE_UPWARD,i=u.fire(o,n))}return i},f.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},f.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},f.prototype.loadComponent=function(t,e){Fn(this.$components,t,e)||Fn(Rn,t,e)},f.prototype.createComponent=function(e,n){(e=Nt(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=t;var r=n.props,i=n.slots,o=n.directives,a=o&&o[ce];if(a){r||(r={});var u=e.model||"value";r[u]=a.value,e.model=u}r&&(e.props=r),i&&(e.slots=i);var c=new f(e);W(this.$children||(this.$children=[]),c);var s=c.$el;return s&&(n.node=s),c},f.prototype.directive=function(t,e){var n=this.$directives;if(P(t)&&!e)return Kn(n,t,f.directive);Gn(n||(this.$directives={}),t,e)},f.prototype.transition=function(t,e){var n=this.$transitions;if(P(t)&&!e)return Kn(n,t,f.transition);Gn(n||(this.$transitions={}),t,e)},f.prototype.component=function(t,e){var n=this.$components;if(P(t)&&!e)return Kn(n,t,f.component);Gn(n||(this.$components={}),t,e)},f.prototype.partial=function(t,e){var n=this.$partials;if(P(t)&&!e)return Kn(n,t,f.partial);Gn(n||(this.$partials={}),t,e,f.compile)},f.prototype.filter=function(t,e){var n=this.$filters;if(P(t)&&!e)return Kn(n,t,f.filter);Gn(n||(this.$filters={}),t,e)},f.prototype.forceUpdate=function(e){var n=this.$vnode,r=this.$observer,i=r.computed;if(n&&i){var o=i[Mn],a=o.get();e&&this.set(e),r.nextTask.run(),e||a!==o.get()||this.update(o.get(t),n)}},f.prototype.render=function(){var e,i,o,a,u,c,f,s,v,h,l,d,m,y,g,$,b,x,k,A,P,S,j,z,N,U,I,M,H,B,F,K,V,X,Z;return e=this,i=this.$template,o=zt(this.$filters,In),a=zt(this.$partials,Un),u=zt(this.$directives,Dn),c=zt(this.$transitions,Ln),v=[s={$keypath:w}],h=[],l={},d=function(t,i,a,u,c,f){var s=t[i],p=xt(s.$keypath,a),v=t,h=Ct;if(E(f)&&(f=p),C(s[a])?v=s[a]:C(s.$item)&&(s=s.$item,a===w?v=s:s!=n&&C(s[a])&&(v=s[a])),v===t&&(v=e.get(p,t,c))===t){if(u&&i>0)return d(t,i-1,a,u,c,f);var l=Dt(o,a);return l?(h=l).keypath=a:(h.value=r,h.keypath=f),h}return h.value=v,h.keypath=p,h},m=function(t,n,i){return function(o,a){var u=e[t];if(o instanceof L){var c=r;if(n){var f=Y(i);f&&(f.$event=o,f.$data=a,c=D(u,e,n(i)),f.$event=f.$data=r)}else c=D(u,e,a?[o,a]:o);return c}D(u,e,n?n(i):r)}},y=function(t,e){return function(){return t(e)}},X=function(t,e,n,r,i,o){var a=s,u=v;s={$keypath:r},v=u.concat(s),C(o)&&(s.$length=o),i&&(s[i]=n),r||(s.$item=e),t(),s=a,v=u},i(I=function(t,e,n,r,i,o){var a=o||v,u=d(a,a.length-((n||0)+1),t,e,i);return r?u:u.value},M=function(t,e){return _(e,t),G(e,gt)},H=function(t,e,n,i){C(n)&&(e=G(n,gt));var o=Dt(t,e);return Ct.keypath=r,Ct.value=o?o.value:r,i?Ct:Ct.value},B=function(t,n,i){return Ct.keypath=r,Ct.value=D(t,e,n||r),i?Ct:Ct.value},g=function(n){var r=Y(h);if(r){var i=Y(r);i&&i.isText?i.text+=n:W(r,{isText:t,text:n,context:e,keypath:s.$keypath})}},$=function(t,e){f.isComponent?We(f,"props",t,e):We(f,"nativeAttrs",t,{name:t,value:e})},b=function(t,e,n){We(f,"nativeProps",t,{name:t,value:n,hint:e})},x=function(t,e){We(f,"lazy",t,e)},k=function(t){f.transition=c[t]},A=function(t,e,n){var r=xt(se,t);return We(f,_e,r,{ns:se,name:t,key:r,hooks:u[se],binding:e.keypath,hint:n}),e.value},P=function(t){We(f,_e,ce,{ns:ce,name:w,key:ce,value:t.value,binding:t.keypath,hooks:u[ce]})},S=function(t,e,n,r,i){We(f,_e,e,{ns:fe,name:t,key:e,value:n,hooks:u[fe],handler:m(r,i,v)})},j=function(t,n,r,i){var o;We(f,_e,n,{ns:fe,name:t,key:n,value:r,hooks:u[fe],handler:(o=i,function(t,n){o!==t.type&&(t=new L(o,t)),e.fire(t,n)})})},z=function(t,e,n,i,o,a){var c=u[t];We(f,_e,e,{ns:pe,name:t,key:e,value:n,hooks:c,getter:a?y(a,v):r,handler:i?m(i,o,v):r})},N=function(t){var e=t.value,r=t.keypath;if(e!=n&&O(e)&&!T(e)&&(Pt(e,function(t,e){We(f,"props",e,t)}),r)){var i=xt(se,r);We(f,_e,i,{ns:se,name:w,key:i,hooks:u[se],binding:xt(r,p)})}},U=function(t,n,i,o,a){if(n){var u=e.get(n);t.tag=u}if(i&&(f=t,i(),f=r),o)h.push(t.children=[]),o(),q(h);else if(a){var c={};Pt(a,function(t,e){h.push([]),t();var n=q(h);c[e]=n.length?n:r}),t.slots=c}t.context=e,t.keypath=s.$keypath;var p=Y(h);return p&&W(p,t),t},F=function(t,n){var r=Y(h),i=e.get(t);r&&(i?R(i,function(n){W(r,n),n.slot=t,n.parent=e}):n&&n())},K=function(t,e){l[t]=e},V=function(t){if(l[t])l[t]();else{var e=a[t];e&&e(I,M,H,B,g,$,b,x,k,A,P,S,j,z,N,U,F,K,V,Z,Mt)}},Z=function(t,e,n,r,i){var o=e.value,a=e.keypath;if(n){var u=n.value,c=0;if(o<u)if(r)for(var f=o;f<=u;f++)X(t,f,c++,w,i);else for(f=o;f<u;f++)X(t,f,c++,w,i);else if(r)for(f=o;f>=u;f--)X(t,f,c++,w,i);else for(f=o;f>u;f--)X(t,f,c++,w,i)}else if(T(o)){f=0;for(var s=o.length;f<s;f++)X(t,o[f],f,a?xt(a,w+f):w,i,s)}else if(O(o))for(var p in o)X(t,o[p],p,a?xt(a,p):w,i)},Mt)},f.prototype.update=function(t,e){var n,r=this,i=r.$vnode,o=r.$options;r.$refs={},i?(D(o.beforeUpdate,r),r.fire("beforeUpdate"+ve),Ie(ln,t,e),n="afterUpdate"):(D(o.beforeMount,r),r.fire("beforeMount"+ve),Ie(ln,t,e),r.$el=t.node,n="afterMount"),r.$vnode=t,f.nextTick(function(){r.$vnode&&(D(o[n],r),r.fire(n+ve))})},f.prototype.checkProps=function(t){},f.prototype.checkProp=function(t,e){},f.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,i=this.$observer;D(e.beforeDestroy,this),this.fire("beforeDestroy"+ve);var o=this.$vnode;t&&t.$children&&B(t.$children,this),o&&(this.$vnode=r,function(t,e,n){if(n){var r=t.parent(e.node);r&&Le(t,r,e)}else Re(t,e)}(ln,o,!t)),i.destroy(),D(e.afterDestroy,this),this.fire("afterDestroy"+ve),n.off(),St(this)},f.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},f.prototype.toggle=function(t){return this.$observer.toggle(t)},f.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},f.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},f.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},f.prototype.append=function(t,e){return this.$observer.append(t,e)},f.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},f.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},f.prototype.remove=function(t,e){return this.$observer.remove(t,e)},f.prototype.copy=function(t,e){return this.$observer.copy(t,e)},f.version="1.0.0-alpha.80",f.is=N,f.dom=ln,f.array=X,f.object=It,f.string=vt,f.logger=Zt,f.Event=L,f.Emitter=Jt,f}();function Hn(t,e){e&&t.watch(e),D(t.$options[le],t),t.fire(le+ve)}function Yn(t,e,n){A(n)?t[e](D(n,t)):O(n)&&t[e](n)}function qn(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Bn(t,e,n,r){return P(e)?qn(t,e,n,r):Pt(e,function(e,n){qn(t,n,e,r)}),t}function Fn(e,n,r){if(e&&e[n]){var i=e[n];if(A(i)){e[n]=[r];var o=function(t){var r=e[n],i=t.default||t;e[n]=i,R(r,function(t){t(i)})},a=i(o);a&&a.then(o)}else T(i)?W(i,r):r(i);return t}}function Kn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Gn(t,e,n,r){P(e)?t[e]=r?r(n):n:Pt(e,function(e,n){t[n]=r?r(e):e})}return _n.directive({event:En,model:jn,binding:Nn}),_n.filter({hasSlot:function(t){return C(this.get("$slot_"+t))}}),_n});
//# sourceMappingURL=yox.min.js.map
