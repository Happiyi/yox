!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,r=void 0,i="filter",o="partial",u="component",a="directive",c="transition",f="length",s="function",p="*",v=-1,h="undefined"!=typeof window?window:r,l="undefined"!=typeof document?document:r,d="undefined"!=typeof global?global:h,m="tap",y="click",g="change",$="model",b=function(){},x=Object.freeze({}),k=Object.freeze([]),w="";function C(t){return t!==r}function E(t){return t===r}function A(t){return typeof t===s}function T(t){return Array.isArray(t)}function O(t){return t!==n&&"object"==typeof t}function P(t){return"string"==typeof t}function S(t){return"number"==typeof t}function j(t){return"boolean"==typeof t}function z(t){return S(t)||P(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var N=Object.freeze({func:A,array:T,object:O,string:P,number:S,boolean:j,numeric:z});function D(t,e,n){if(A(t))return T(n)?t.apply(e,n):C(e)?t.call(e,n):C(n)?t(n):t()}var L=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=v,e}();function R(t,n,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&n(t[o],o,i)!==e;o--);else for(o=0;o<i&&n(t[o],o,i)!==e;o++);}function U(t,e){t[t.length]=e}function I(t,e){t.unshift(e)}function M(t,e,n){T(e)?R(e,function(e){n(t,e)}):n(t,e)}function W(t,e){M(t,e,U)}function _(t,e){M(t,e,I)}function H(t,n,r){var i=v;return R(t,function(t,o){if(r===e?t==n:t===n)return i=o,e}),i}function Y(t){var e=t.length;if(e>0)return t[e-1]}function q(t){if(t.length>0)return t.pop()}function B(n,r,i){var o=0;return R(n,function(t,u){(i===e?t==r:t===r)&&(n.splice(u,1),o++)},t),o}function F(t,e,n){return H(t,e,n)>=0}function K(t){return T(t)?t:D(k.slice,t)}function G(t,e){return t.join(e)}function V(t){return!T(t)||!t.length}var X=Object.freeze({each:R,push:W,unshift:_,indexOf:H,last:Y,pop:q,remove:B,has:F,toArray:K,toObject:function(t,e,n){var r={};return R(t,function(t){r[e?t[e]:t]=n||t}),r},join:G,falsy:V}),Z=/-([a-z])/gi,J=/\B([A-Z])/g,Q=/^[a-z]/,tt={},et={},nt={};function rt(t,e,n){return S(n)?e===n?w:t.slice(e,n):t.slice(e)}function it(t,e,n){return t.indexOf(e,C(n)?n:0)}function ot(t,e,n){return t.lastIndexOf(e,C(n)?n:t.length)}function ut(t,e){return 0===it(t,e)}function at(t,e){return t.charCodeAt(e||0)}function ct(t){return t.toUpperCase()}function ft(t){return t.toLowerCase()}function st(t,e){return it(t,e)>=0}function pt(t){return!P(t)||!t.length}var vt=Object.freeze({camelize:function(t){return tt[t]||(tt[t]=t.replace(Z,function(t,e){return ct(e)})),tt[t]},hyphenate:function(t){return et[t]||(et[t]=t.replace(J,function(t,e){return"-"+ft(e)})),et[t]},capitalize:function(t){return nt[t]||(nt[t]=t.replace(Q,ct)),nt[t]},trim:function(t){return pt(t)?w:t.trim()},slice:rt,indexOf:it,lastIndexOf:ot,startsWith:ut,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&ot(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:at,upper:ct,lower:ft,has:st,falsy:pt}),ht=/\./g,lt=/\*/g,dt=/\*\*/g,mt={},yt={},gt=".";function $t(t,e){return t===e?e.length:ut(t,e+=gt)?e.length:v}function bt(t,n){for(var r=C(mt[t])?mt[t]:mt[t]=t.split(gt),i=0,o=r.length-1;i<=o&&n(r[i],i===o)!==e;i++);}function xt(t,e){return t&&e?t+gt+e:t||e}function kt(t){return st(t,p)}function wt(t,e){var n=yt[e];if(!n){var r=e.replace(ht,"\\.").replace(lt,"(\\w+)").replace(dt,"([.\\w]+?)");n=yt[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var Ct={value:r};function Et(t){return Object.keys(t)}function At(t,e){return t.length-e.length}function Tt(t,e){return e.length-t.length}function Ot(t,e){return Et(t).sort(e?Tt:At)}function Pt(t,n){for(var r in t)if(n(t[r],r)===e)break}function St(t){Pt(t,function(e,n){delete t[n]})}function jt(t,e){return Pt(e,function(e,n){t[n]=e}),t}function zt(t,e){return t&&e?jt(jt({},t),e):t||e}function Nt(t,e){var n=t;return T(t)?e?(n=[],R(t,function(t,r){n[r]=Nt(t,e)})):n=t.slice():O(t)&&(n={},Pt(t,function(t,r){n[r]=e?Nt(t,e):t})),n}function Dt(t,i){return bt(i,function(i,o){if(t==n)return t=r,e;var u=t[i],a=C(u);u&&A(u.get)&&(u=u.get()),o?a?(Ct.value=u,t=Ct):t=r:t=u}),t}function Lt(t,n,r,i){bt(n,function(n,o){if(o)t[n]=r;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function Rt(t,e){return C(t[e])}function Ut(t){return!O(t)||T(t)||!Et(t).length}var It=Object.freeze({keys:Et,sort:Ot,each:Pt,clear:St,extend:jt,merge:zt,copy:Nt,get:Dt,set:Lt,has:Rt,falsy:Ut});function Mt(t,e){return t!=n&&t.toString?t.toString():C(e)?e:w}var Wt=1,_t=2,Ht=3,Yt=4,qt=5,Bt="undefined"!=typeof console?console:n,Ft=/yox/.test(Mt(b))?Wt:Ht,Kt=h&&/edge|msie|trident/i.test(h.navigator.userAgent)?w:"%c",Gt=Bt?Kt?function(t,e,n){Bt.log(Kt+t,n,e)}:function(t,e){Bt.log(t,e)}:b;function Vt(){if(d){var t=d.YOX_LOG_LEVEL;if(t>=Wt&&t<=qt)return t}return Ft}function Xt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Zt=Object.freeze({DEBUG:Wt,INFO:_t,WARN:Ht,ERROR:Yt,FATAL:qt,debug:function(t,e){Vt()<=Wt&&Gt(e||"Yox debug",t,Xt("#999"))},info:function(t,e){Vt()<=_t&&Gt(e||"Yox info",t,Xt("#2db7f5"))},warn:function(t,e){Vt()<=Ht&&Gt(e||"Yox warn",t,Xt("#f90"))},error:function(t,e){Vt()<=Yt&&Gt(e||"Yox error",t,Xt("#ed4014"))},fatal:function(t,e){if(Vt()<=qt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),Jt=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,i,o){var u=this,a=Qt(u.ns,n),c=a.name,f=a.ns,s=u.listeners[c],p=t;if(s){s=Nt(s);var v=i&&i[0]instanceof L?i[0]:r;R(s,function(t,a){if(ne(f,t)&&F(s,t)&&(!o||o(n,i,t))){v&&(v.listener=t.fn);var c=D(t.fn,t.ctx,i);return v&&(v.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&u.off(n,t.fn),v&&(c===e?v.prevent().stop():v.isStoped&&(c=e)),c===e?p=e:void 0}})}return p},n.prototype.on=function(t,e){var n=this.listeners,r=A(e)?{fn:e}:e;if(O(r)&&A(r.fn)){var i=Qt(this.ns,t),o=i.name,u=i.ns;r.ns=u,W(n[o]||(n[o]=[]),r)}},n.prototype.off=function(e,n){var r=this.listeners;if(e){var i=Qt(this.ns,e),o=i.name,u=i.ns,a=ee(n),c=function(e,n){R(e,function(t,n){a(t)&&ne(u,t)&&e.splice(n,1)},t),e.length||delete r[n]};o?r[o]&&c(r[o],o):u&&Pt(r,c)}else this.listeners={}},n.prototype.has=function(n,r){var i=this.listeners,o=Qt(this.ns,n),u=o.name,a=o.ns,c=t,f=ee(r),s=function(t){return R(t,function(t){if(f(t)&&ne(a,t))return c=e}),c};return u?i[u]&&s(i[u]):a&&Pt(i,s),!c},n}();function Qt(t,e){var n={name:e,ns:w};if(t){var r=it(e,".");r>=0&&(n.name=rt(e,0,r),n.ns=rt(e,r+1))}return n}function te(e){return t}function ee(t){return A(t)?function(e){return t===e.fn}:te}function ne(e,n){var r=n.ns;return r&&e?r===e:t}function re(t){return A(t)&&/native code/.test(Mt(t))}typeof setImmediate===s&&re(setImmediate)&&setImmediate;var ie,oe=typeof MessageChannel===s&&re(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,ue=function(){function t(){this.tasks=[]}return t.shared=function(){return ie||(ie=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;W(r,{fn:t,ctx:e}),1===r.length&&oe(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;_(r,{fn:t,ctx:e}),1===r.length&&oe(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],R(t,function(t){D(t.fn,t.ctx)}))},t}(),ae="$slot_",ce=3,fe="model",se="event",pe="binding",ve="o",he=".hook",le="beforeCreate",de="afterCreate",me=0;var ye="$id",ge="$vnode",$e="$loading",be="$component",xe="$leaving";function ke(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var u=i||x,a=o||x;Pt(u,function(e,n){a[n]&&e.value===a[n].value||t.attr(r,n,e.value)}),Pt(a,function(e,n){u[n]||t.removeAttr(r,n)})}}function we(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var u=i||x,a=o||x;Pt(u,function(e,n){a[n]&&e.value===a[n].value||t.prop(r,n,e.value)}),Pt(a,function(e,n){u[n]||t.removeProp(r,n,e.hint)})}}function Ce(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[be]||t.node,u=e&&t.keypath!==e.keypath,a=r||x,c=i||x;Pt(a,function(n,r){var i=n.hooks,a=i.once,f=i.bind,s=i.unbind;c[r]?(a||n.value!==c[r].value||u)&&(s&&s(o,c[r],e),f(o,n,t)):f(o,n,t)}),Pt(c,function(t,n){if(!a[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function Ee(t){var e=t.directives;if(e){var n=t.data[be]||t.node;Pt(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ae(t,e){var n,r=t.data,i=t.ref,o=t.props,u=t.slots,a=t.directives,c=t.context;if(t.isComponent){if(n=r[be],e){var f=a&&a[fe];f&&(o||(o={}),o[n.$model]=f.value),o&&n.checkProps(o);var s=zt(o,u);s&&n.forceUpdate(s)}}else n=t.node;if(i){var p=c.$refs;p&&(p[i]=n)}}function Te(t,e){return t.tag===e.tag&&t.key===e.key}function Oe(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||x}function Pe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Se(t,n){var r=(t.parent||t.context).createComponent(n,t);return t.data[be]=r,t.data[$e]=e,Ae(t),Ce(t),r}function je(){var t={};return t[ye]=++me,t}function ze(e,n){var i=n.tag,o=n.node,a=n.data,c=n.isComponent,f=n.isComment,s=n.isText,p=n.isStyle,v=n.isOption,h=n.children,l=n.text,d=n.html,m=n.context;if(!o||!a)if(a=je(),n.data=a,s)n.node=e.createText(l);else if(f)n.node=e.createComment(l);else if(c){var y=r;i&&m.loadComponent(i,function(t){Rt(a,$e)?a[$e]&&(a[ge]&&(n=a[ge],delete a[ge]),Ie(n,Se(n,t))):y=t}),n.node=e.createComment(u),y?Se(n,y):a[$e]=t}else o=n.node=e.createElement(n.tag,n.isSvg),h?Ne(e,o,h):l?e.text(o,l,p,v):d&&e.html(o,d,p,v),ke(e,n),we(e,n),Ae(n),Ce(n)}function Ne(t,e,n,r,i,o){for(var u,a=r||0,c=C(i)?i:n.length-1;a<=c;)ze(t,u=n[a]),De(t,e,u,o),a++}function De(t,e,n,i){var o=n.node,u=n.data,a=n.context,c=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!c){var f=r;if(n.isComponent){var s=u[be];s&&(f=function(){Ie(n,s)})}else n.isStatic||n.isText||n.isComment||(f=function(){Ie(n)});f&&a.$observer.nextTask.prepend(f)}}function Le(t,e,n,r,i){for(var o,u=r||0,a=C(i)?i:n.length-1;u<=a;)(o=n[u])&&Re(t,e,o),u++}function Re(t,e,n){var i=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{var o,u=function(){Ue(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[be]))return void u();!function(t,e,n){var i=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var u=o.leave;if(u)return void u(t.node,i[xe]=function(){i[xe]&&(n(),i[xe]=r)})}n()}(n,o,u)}}function Ue(t,n){var r=n.data,i=n.children,o=n.parent,u=n.slot;if(u&&o&&o.$vnode){var a=o.get(u);if(a&&F(a,n))return}if(n.isComponent){var c=r[be];c?(Ee(n),c.destroy()):r[$e]=e}else Ee(n),i&&R(i,function(e){Ue(t,e)})}function Ie(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),D(n[xe]),r){var i=r.enter;if(i)return void i(t.node)}}function Me(t,e,n){if(e!==n){var i=n.node,o=n.data;if(!Te(e,n)){var u=t.parent(i);return ze(t,e),void(u&&(De(t,u,e,n),Re(t,u,n)))}if(e.node=i,e.data=o,n.isComponent&&o[$e])o[ge]=e;else if(!e.isStatic||!n.isStatic){ke(t,e,n),we(t,e,n),Ae(e,n),Ce(e,n);var a=e.text,c=e.html,f=e.children,s=e.isStyle,p=e.isOption,v=n.text,h=n.html,l=n.children;P(a)?a!==v&&t.text(i,a,s,p):P(c)?c!==h&&t.html(i,c,s,p):f&&l?f!==l&&function(t,e,n,i){for(var o,u,a=0,c=n.length-1,f=n[a],s=n[c],p=0,v=i.length-1,h=i[p],l=i[v];p<=v&&a<=c;)f?s?h?l?Te(f,h)?(Me(t,f,h),f=n[++a],h=i[++p]):Te(s,l)?(Me(t,s,l),s=n[--c],l=i[--v]):Te(s,h)?(Me(t,s,h),Pe(t,e,h.node,t.next(l.node)),s=n[--c],h=i[++p]):Te(f,l)?(Me(t,f,l),Pe(t,e,l.node,h.node),f=n[++a],l=i[--v]):(o||(o=Oe(i,p,v)),C(u=f.key?o[f.key]:r)?(Me(t,f,i[u]),i[u]=r):ze(t,f),De(t,e,f,h),f=n[++a]):l=i[--v]:h=i[++p]:s=n[--c]:f=n[++a];p>v?Ne(t,e,n,a,c,n[c+1]):a>c&&Le(t,e,i,p,v)}(t,i,f,l):f?((P(v)||P(h))&&t.text(i,w,s),Ne(t,i,f)):l?Le(t,i,l):(P(v)||P(h))&&t.text(i,w,s)}}}function We(t,e){return z(t)?+t:C(e)?e:0}function _e(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var He="directives";var Ye="textContent",qe="innerHTML",Be=function(t){var e=l.querySelector(t);if(e)return e},Fe=function(t,n,r){t.addEventListener(n,r,e)},Ke=function(t,n,r){t.removeEventListener(n,r,e)},Ge=function(t,e){t.classList.add(e)},Ve=function(t,e){t.classList.remove(e)},Xe=function(t,e){return t};if(l&&(l.documentElement.classList||(Ge=function(t,e){var n=t.className.split(Qe);F(n,e)||(W(n,e),t.className=G(n,Qe))},Ve=function(t,e){var n=t.className.split(Qe);B(n,e)&&(t.className=G(n,Qe))}),!l.addEventListener)){Fe=function(t,e,n){"input"===e?Fe(t,"propertychange",n[tn]=function(t){"value"===t.propertyName&&((t=new L(t)).type="input",D(n,this,t))}):e===g&&Ze(t)?Fe(t,y,n[tn]=function(t){(t=new L(t)).type=g,D(n,this,t)}):t.attachEvent("on"+e,n)},Ke=function(t,e,n){"input"===e?(Ke(t,"propertychange",n[tn]),delete n[tn]):e===g&&Ze(t)?(Ke(t,y,n[tn]),delete n[tn]):t.detachEvent("on"+e,n)};var Ze=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},Je=function(){function n(t,e){jt(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return n.prototype.preventDefault=function(){this.originalEvent.returnValue=e},n.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=t},n}();Ye="innerText",Xe=function(t,e){return new Je(t,e)},Be=function(t){35===at(t,0)&&(t=rt(t,1));var e=l.getElementById(t);if(e)return e}}var Qe=" ",tn="$emitter",en="styleSheet",nn={svg:"http://www.w3.org/2000/svg"},rn={};function on(t){return l.createComment(t)}function un(t,n,r){if(C(r))Lt(t,n,r,e);else{var i=Dt(t,n);if(i)return i.value}}function an(t,e,r){if(C(r))t.setAttribute(e,r);else{var i=t.getAttribute(e);if(i!=n)return i}}function cn(t,e){t.appendChild(e)}rn[$]={on:function(n,r){var i=e;hn(n,"compositionstart",r.compositionstart=function(){i=t}),hn(n,"compositionend",r.compositionend=function(t){i=e,r(t)}),Fe(n,"input",r.input=function(t){i||r(t)})},off:function(t,e){ln(t,"compositionstart",e.compositionstart),ln(t,"compositionend",e.compositionend),Ke(t,"input",e.input),e.compositionstart=e.compositionend=e.input=r}};var fn=Be;function sn(t,e,n,r){if(!C(e))return t[qe];n&&Rt(t,en)?t[en].cssText=e:(r&&(t.value=e),t[qe]=e)}var pn=Ge,vn=Ve;function hn(t,e,n){var r=t[tn]||(t[tn]=new Jt),i=r.nativeListeners||(r.nativeListeners={});if(!i[e]){var o=rn[e],u=function(n){var i=n instanceof L?n:new L(n.type,Xe(n,t));i.type!==e&&(i.type=e),r.fire(e,[i])};i[e]=u,o?o.on(t,u):Fe(t,e,u)}r.on(e,n)}function ln(t,e,n){var i=t[tn],o=i.listeners,u=i.nativeListeners;if(i.off(e,n),u&&!i.has(e)){var a=rn[e],c=u[e];a?a.off(t,c):Ke(t,e,c),delete u[e]}Ut(o)&&(t[tn]=r)}var dn=Object.freeze({createElement:function(t,e){return e?l.createElementNS(nn.svg,t):l.createElement(t)},createText:function(t){return l.createTextNode(t)},createComment:on,prop:un,removeProp:function(t,n,r){Lt(t,n,r===ce?e:w,e)},attr:an,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:cn,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:fn,tag:function(t){if(1===t.nodeType)return ft(t.tagName)},text:function(t,e,n,r){if(!C(e))return t[Ye];n&&Rt(t,en)?t[en].cssText=e:(r&&(t.value=e),t[Ye]=e)},html:sn,addClass:pn,removeClass:vn,on:hn,off:ln,addSpecialEvent:function(t,e){rn[t]=e}}),mn=function(){function e(e,n,r,i,o,u,a){var c=this;c.keypath=e,c.cache=r,c.deps=i,c.context=o.context,c.observer=o,c.getter=u,c.setter=a,c.unique={},c.watcher=function(n,r,i){var u=c.value,a=c.get(t);a!==u&&o.diff(e,a,u)},c.watcherOptions={sync:n,watcher:c.watcher},(c.fixed=!V(i))&&R(i,function(t){o.watch(t,c.watcherOptions)})}return e.build=function(n,r,i){var o,u,a=t,c=t,f=[];if(A(i)?o=i:O(i)&&(j(i.cache)&&(a=i.cache),j(i.sync)&&(c=i.sync),T(i.deps)&&(f=Nt(i.deps)),A(i.get)&&(o=i.get),A(i.set)&&(u=i.set)),o)return new e(n,c,a,f,r,o,u)},e.prototype.get=function(t){var n=this.getter,r=this.context;if(this.cache){if(t||!Rt(this,"value"))if(this.fixed)this.value=D(n,r);else{this.unbind();var i=e.current;e.current=this,this.value=D(n,r),this.bind(),e.current=i}}else this.value=D(n,r);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Pt(t,function(t,i){W(e,i),n.watch(i,r)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,r=this.watcher;R(e,function(t){n.unwatch(t,r)},t),e.length=0},e}();function yn(t,n){var r;return R(t,function(t){var i=$t(n,t);if(i>=0)return r={name:t,prop:rt(n,i)},e}),r}function gn(t,e){if(t==n||e===w)return t;var r=Dt(t,e);return r?r.value:void 0}function $n(e,n,i,o,u){var a=function(t,n,r){if(n!==r){var i=xt(e,t);R(o,function(t){C(wt(i,t))&&u(t,i,n,r)}),$n(i,n,r,o,u)}};(function(e,n,i){var o=P(e),u=P(n);if(o||u)return i(f,o?e.length:r,u?n.length:r),t})(n,i,a)||function(e,n,i){var o=T(e),u=T(n);if(o||u){var a=o?e.length:r,c=u?n.length:r;i(f,a,c);for(var s=0,p=Math.max(a||0,c||0);s<p;s++)i(""+s,e?e[s]:r,n?n[s]:r);return t}}(n,i,a)||function(t,e,n){var r=O(t),i=O(e);(r||i)&&(t=r?t:x,e=i?e:x,r&&Pt(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Pt(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(n,i,a)}function bn(t,e,n,r,i,o){var u;Pt(r,function(r,a){if(kt(a))C(wt(t,a))?o(a,t,e,n):i&&(u?W(u,a):u=[a]);else{var c=$t(a,t);if(c>=0){var f=rt(a,c),s=gn(e,f),p=gn(n,f);s!==p&&o(a,a,s,p)}}}),u&&$n(t,e,n,u,o)}function xn(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var kn={watcher:b};function wn(e,n){return A(e)?(kn.watcher=e,kn.immediate=n===t,kn):e&&e.watcher?e:void 0}var Cn=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new ue,this.syncEmitter=new Jt,this.asyncEmitter=new Jt,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var r,i,o=mn.current,u=this.data,a=this.computed,c=this.reversedComputedKeys;if(t===w)return u;if(o&&!n&&o.add(t),a){if(i=a[t])return i.get();if(c){var f=yn(c,t);f&&f.prop&&(r=Dt(a[f.name].get(),f.prop))}}return r||(r=Dt(u,t)),r?r.value:e},n.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,u=function(t,e){var u=n.get(e);if(t!==u){var a;if(i&&((a=i[e])&&a.set(t),o)){var c=yn(o,e);if(c&&c.prop&&(a=i[c.name])){var f=a.get();O(f)&&Lt(f,c.prop,t)}}a||Lt(r,e,t),n.diff(e,t,u)}};P(t)?u(e,t):O(t)&&Pt(t,u)},n.prototype.diff=function(e,n,i){var o=this,u=o.syncEmitter,a=o.asyncEmitter,c=o.asyncChanges,f=36!==at(e);bn(e,n,i,u.listeners,f,function(t,e,n,r){u.fire(t,[n,r,e])}),bn(e,n,i,a.listeners,f,function(e,n,i,u){R(a.listeners[e],function(t){t.count++});var f=(c[n]||(c[n]={value:u,keypaths:[]})).keypaths;F(f,e)||W(f,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Pt(n,function(n,r){var i=[t.get(r),n.value,r];R(n.keypaths,function(t){e.fire(t,i,xn)})})},n.prototype.addComputed=function(e,n){var r=mn.build(e,this,n);if(r)return this.computed||(this.computed={}),this.computed[e]=r,this.reversedComputedKeys=Ot(this.computed,t),r},n.prototype.removeComputed=function(e){var n=this.computed;n&&Rt(n,e)&&(delete n[e],this.reversedComputedKeys=Ot(n,t))},n.prototype.watch=function(t,e,n){var i=this,o=i.context,u=i.syncEmitter,a=i.asyncEmitter,c=function(t,e){var n=e.sync?u:a,c={fn:e.watcher,ctx:o,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&D(e.watcher,o,[i.get(t),r,t])};P(t)?c(t,wn(e,n)):Pt(t,function(t,e){c(e,wn(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var r=We(this.get(t),0)+(e||1);if(!S(n)||r<=n)return this.set(t,r),r},n.prototype.decrease=function(t,e,n){var r=We(this.get(t),0)-(e||1);if(!S(n)||r>=n)return this.set(t,r),r},n.prototype.insert=function(n,r,i){var o=this.get(n),u=(o=T(o)?Nt(o):[]).length;if(i===t||i===u)o.push(r);else if(i===e||0===i)o.unshift(r);else{if(!(i>0&&i<u))return;o.splice(i,0,r)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var r=this.get(e);if(T(r)&&n>=0&&n<r.length)return(r=Nt(r)).splice(n,1),this.set(e,r),t},n.prototype.remove=function(e,n){var r=this.get(e);if(T(r)&&B(r=Nt(r),n))return this.set(e,r),t},n.prototype.copy=function(t,e){return Nt(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),St(this)},n}();function En(t,e,n){var i;return function(){if(!i){var o=K(arguments);n&&D(t,r,o),i=setTimeout(function(){i=r,n||D(t,r,o)},e)}}}var An=Object.freeze({bind:function(e,n,r){var i=n.name,o=n.handler,u=r.lazy;if(o){if(u){var a=u[i]||u[w];a===t?i=g:a>0&&(o=En(o,a,i===y||i===m))}r.isComponent?(e.on(i,o),r.data[n.key]=function(){e.off(i,o)}):(hn(e,i,o),r.data[n.key]=function(){ln(e,i,o)})}},unbind:function(t,e,n){D(n.data[e.key])}});function Tn(e,n){return n&&n!==t?En(e,n):e}var On={set:function(t,e){t.value=Mt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},Pn={set:function(t,n){R(K(t.options),t.multiple?function(t){t.selected=F(n,t.value,e)}:function(r,i){if(r.value==n)return t.selectedIndex=i,e})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];R(K(r),function(t){t.selected&&W(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},Sn={radio:{set:function(t,e){t.checked=t.value===Mt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set:function(t,n){t.checked=T(n)?F(n,t.value,e):!!n},sync:function(t,n,r){var i=r.get(n);T(i)?t.checked?r.append(n,t.value):r.removeAt(n,H(i,t.value,e)):r.set(n,t.checked)},name:"checked"}},jn=t;var zn=Object.freeze({once:jn,bind:function(e,n,i){var o,u,a,c=i.context,f=i.lazy,s=i.isComponent,p=n.binding,v=f&&(f[fe]||f[w]);if(s){var h=e,l=h.$model;o=function(t){o&&h.set(l,t)},u=Tn(function(t){c.set(p,t)},v),a=function(){h.unwatch(l,u)},h.watch(l,u)}else{var d=e,m="select"===i.tag?Pn:On,y=g;if(m===On){var b=e.type;Sn[b]?m=Sn[b]:v!==t&&(y=$)}o=function(t){o&&m.set(d,t)},u=Tn(function(){m.sync(d,p,c)},v),a=function(){ln(d,y,u)},hn(d,y,u),m.set(d,n.value)}c.watch(p,o),i.data[n.key]=function(){c.unwatch(p,o),o=r,a()}},unbind:function(t,e,n){D(n.data[e.key])}}),Nn=t;var Dn=Object.freeze({once:Nn,bind:function(t,e,n){var i=e.binding,o=kt(i),u=function(r,a,c){if(u){var f=o?wt(c,i):e.name;if(n.isComponent){var s=t;s.checkProp(f,r),s.set(f,r)}else{var p=t;C(e.hint)?un(p,f,r):an(p,f,r)}}};n.context.watch(i,u),n.data[e.key]=function(){n.context.unwatch(i,u),u=r}},unbind:function(t,e,n){D(n.data[e.key])}});var Ln={},Rn={},Un={},In={},Mn={},Wn="$$",_n=/^[#.][-\w+]+$/,Hn=function(){function f(n){var p=this,v=n||x;p.$emitter=new Jt(t),v.events&&p.on(v.events),v.parent&&(p.$parent=v.parent),D(v[le],p,v),p.fire(le+he,v);var h=v.data,l=v.props,d=v.vnode,m=v.propTypes,y=v.computed,g=v.methods,$=v.watchers,b=v.extensions;p.$options=v,b&&jt(p,b);var k=l?Nt(l):{};m&&Pt(m,function(t,e){var n=k[e];E(n)&&C(n=t.value)&&(k[e]=t.type===s?n:A(n)?n():n)});var T=p.$observer=new Cn(k,p);y&&Pt(y,function(t,e){T.addComputed(e,t)});var S=A(h)?D(h,p,n):h;O(S)&&Pt(S,function(t,e){k[e]=t}),g&&Pt(g,function(t,e){p[e]=t});var j=r,z=v.el,N=v.root,L=v.model,R=v.context,U=v.replace,I=v.template,M=v.transitions,W=v.components,_=v.directives,H=v.partials,Y=v.filters,q=v.slots;if(L&&(p.$model=L),q&&jt(k,q),P(I)&&_n.test(I)&&(j=fn(I))&&(I=sn(j),j=r),z){if(P(z)){var B=z;_n.test(B)&&(j=fn(B))}else j=z;U||cn(j,j=on(w))}if(N&&(p.$root=N),R&&(p.$context=R),qn(p,c,M),qn(p,u,W),qn(p,a,_),qn(p,o,H),qn(p,i,Y),I){var F=$?Nt($):{};return F[Wn]={sync:t,watcher:function(t){p.update(t,p.$vnode)}},T.addComputed(Wn,{sync:e,get:function(){return p.render()}}),Yn(p,F),p.$template=P(I)?f.compile(I):I,d||(d=function(t,e,n,r){return{tag:t.tag(e),data:je(),node:e,context:n,keypath:r}}(dn,j,p,w)),void p.update(p.get(Wn),d)}Yn(p,$)}return f.use=function(t){t.install(f)},f.create=function(t){return t},f.nextTick=function(t,e){ue.shared().append(t,e)},f.compile=function(t,e){return w},f.directive=function(t,e){if(P(t)&&!e)return Gn(Ln,t);Vn(Ln,t,e)},f.transition=function(t,e){if(P(t)&&!e)return Gn(Rn,t);Vn(Rn,t,e)},f.component=function(t,e){if(P(t)&&!e)return Gn(Un,t);Vn(Un,t,e)},f.partial=function(t,e){if(P(t)&&!e)return Gn(In,t);Vn(In,t,e,f.compile)},f.filter=function(t,e){if(P(t)&&!e)return Gn(Mn,t);Vn(Mn,t,e)},f.prototype.addComputed=function(t,e){return this.$observer.addComputed(t,e)},f.prototype.removeComputed=function(t){this.$observer.removeComputed(t)},f.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},f.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},f.prototype.on=function(t,e){return Fn(this,t,e)},f.prototype.once=function(e,n){return Fn(this,e,n,t)},f.prototype.off=function(t,e){return this.$emitter.off(t,e),this},f.prototype.fire=function(e,n,r){var i,o=e instanceof L?e:new L(e),u=[o];if(o.target||(o.target=this),O(n)?W(u,n):n===t&&(r=t),i=this.$emitter.fire(o.type,u)){var a=this.$parent,c=this.$children;r?c&&(o.phase=L.PHASE_DOWNWARD,R(c,function(e){return i=e.fire(o,n,t)})):a&&(o.phase=L.PHASE_UPWARD,i=a.fire(o,n))}return i},f.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},f.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},f.prototype.loadComponent=function(t,e){Kn(this.$components,t,e)||Kn(Un,t,e)},f.prototype.createComponent=function(e,n){(e=Nt(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=t;var r=n.props,i=n.slots,o=n.directives,u=o&&o[fe];if(u){r||(r={});var a=e.model||"value";r[a]=u.value,e.model=a}r&&(e.props=r),i&&(e.slots=i);var c=new f(e);W(this.$children||(this.$children=[]),c);var s=c.$el;return s&&(n.node=s),c},f.prototype.directive=function(t,e){var n=this.$directives;if(P(t)&&!e)return Gn(n,t,f.directive);Vn(n||(this.$directives={}),t,e)},f.prototype.transition=function(t,e){var n=this.$transitions;if(P(t)&&!e)return Gn(n,t,f.transition);Vn(n||(this.$transitions={}),t,e)},f.prototype.component=function(t,e){var n=this.$components;if(P(t)&&!e)return Gn(n,t,f.component);Vn(n||(this.$components={}),t,e)},f.prototype.partial=function(t,e){var n=this.$partials;if(P(t)&&!e)return Gn(n,t,f.partial);Vn(n||(this.$partials={}),t,e,f.compile)},f.prototype.filter=function(t,e){var n=this.$filters;if(P(t)&&!e)return Gn(n,t,f.filter);Vn(n||(this.$filters={}),t,e)},f.prototype.forceUpdate=function(e){var n=this.$vnode,r=this.$observer,i=r.computed;if(n&&i){var o=i[Wn],u=o.get();e&&this.set(e),r.nextTask.run(),e||u!==o.get()||this.update(o.get(t),n)}},f.prototype.render=function(){var e,i,o,u,a,c,f,s,v,h,l,d,m,y,g,$,b,x,k,A,P,S,j,z,N,U,I,M,H,B,F,K,V,X,Z;return e=this,i=this.$template,o=zt(this.$filters,Mn),u=zt(this.$partials,In),a=zt(this.$directives,Ln),c=zt(this.$transitions,Rn),v=[s={$keypath:w}],h=[],l={},d=function(t,i,u,a,c,f){var s=t[i],p=xt(s.$keypath,u),v=t,h=Ct;if(E(f)&&(f=p),C(s[u])?v=s[u]:C(s.$item)&&(s=s.$item,u===w?v=s:s!=n&&C(s[u])&&(v=s[u])),v===t&&(v=e.get(p,t,c))===t){if(a&&i>0)return d(t,i-1,u,a,c,f);var l=Dt(o,u);return l?(h=l).keypath=u:(h.value=r,h.keypath=f),h}return h.value=v,h.keypath=p,h},m=function(t,n,i){return function(o,u){var a=e[t];if(o instanceof L){var c=r;if(n){var f=Y(i);f&&(f.$event=o,f.$data=u,c=D(a,e,n(i)),f.$event=f.$data=r)}else c=D(a,e,u?[o,u]:o);return c}D(a,e,n?n(i):r)}},y=function(t,e){return function(){return t(e)}},X=function(t,e,n,r,i,o){var u=s,a=v;s={$keypath:r},v=a.concat(s),C(o)&&(s.$length=o),i&&(s[i]=n),r||(s.$item=e),t(),s=u,v=a},i(I=function(t,e,n,r,i,o){var u=o||v,a=d(u,u.length-((n||0)+1),t,e,i);return r?a:a.value},M=function(t,e){return _(e,t),G(e,gt)},H=function(t,e,n,i){C(n)&&(e=G(n,gt));var o=Dt(t,e);return Ct.keypath=r,Ct.value=o?o.value:r,i?Ct:Ct.value},B=function(t,n,i){return Ct.keypath=r,Ct.value=D(t,e,n||r),i?Ct:Ct.value},g=function(n){var r=Y(h);if(r){var i=Y(r);i&&i.isText?i.text+=n:W(r,{isText:t,text:n,context:e,keypath:s.$keypath})}},$=function(t,e){f.isComponent?_e(f,"props",t,e):_e(f,"nativeAttrs",t,{name:t,value:e})},b=function(t,e,n){_e(f,"nativeProps",t,{name:t,value:n,hint:e})},x=function(t,e){_e(f,"lazy",t,e)},k=function(t){f.transition=c[t]},A=function(t,e,n){var r=xt(pe,t);return _e(f,He,r,{ns:pe,name:t,key:r,hooks:a[pe],binding:e.keypath,hint:n}),e.value},P=function(t){_e(f,He,fe,{ns:fe,name:w,key:fe,value:t.value,binding:t.keypath,hooks:a[fe]})},S=function(t,e,n,r,i){_e(f,He,e,{ns:se,name:t,key:e,value:n,hooks:a[se],handler:m(r,i,v)})},j=function(t,n,r,i){var o;_e(f,He,n,{ns:se,name:t,key:n,value:r,hooks:a[se],handler:(o=i,function(t,n){o!==t.type&&(t=new L(o,t)),e.fire(t,n)})})},z=function(t,e,n,i,o,u){var c=a[t];_e(f,He,e,{ns:ve,name:t,key:e,value:n,hooks:c,getter:u?y(u,v):r,handler:i?m(i,o,v):r})},N=function(t){var e=t.value,r=t.keypath;if(e!=n&&O(e)&&!T(e)&&(Pt(e,function(t,e){_e(f,"props",e,t)}),r)){var i=xt(pe,r);_e(f,He,i,{ns:pe,name:w,key:i,hooks:a[pe],binding:xt(r,p)})}},U=function(t,n,i,o,u){if(n){var a=e.get(n);t.tag=a}if(i&&(f=t,i(),f=r),o)h.push(t.children=[]),o(),q(h);else if(u){var c={};Pt(u,function(t,e){h.push([]),t();var n=q(h);c[e]=n.length?n:r}),t.slots=c}t.context=e,t.keypath=s.$keypath;var p=Y(h);return p&&W(p,t),t},F=function(t,n){var r=Y(h),i=e.get(t);r&&(i?R(i,function(n){W(r,n),n.slot=t,n.parent=e}):n&&n())},K=function(t,e){l[t]=e},V=function(t){if(l[t])l[t]();else{var e=u[t];e&&e(I,M,H,B,g,$,b,x,k,A,P,S,j,z,N,U,F,K,V,Z,Mt)}},Z=function(t,e,n,r,i){var o=e.value,u=e.keypath;if(n){var a=n.value,c=0;if(o<a)if(r)for(var f=o;f<=a;f++)X(t,f,c++,w,i);else for(f=o;f<a;f++)X(t,f,c++,w,i);else if(r)for(f=o;f>=a;f--)X(t,f,c++,w,i);else for(f=o;f>a;f--)X(t,f,c++,w,i)}else if(T(o)){f=0;for(var s=o.length;f<s;f++)X(t,o[f],f,u?xt(u,w+f):w,i,s)}else if(O(o))for(var p in o)X(t,o[p],p,u?xt(u,p):w,i)},Mt)},f.prototype.update=function(t,e){var n,r=this,i=r.$vnode,o=r.$options;r.$refs={},i?(D(o.beforeUpdate,r),r.fire("beforeUpdate"+he),Me(dn,t,e),n="afterUpdate"):(D(o.beforeMount,r),r.fire("beforeMount"+he),Me(dn,t,e),r.$el=t.node,n="afterMount"),r.$vnode=t,f.nextTick(function(){r.$vnode&&(D(o[n],r),r.fire(n+he))})},f.prototype.checkProps=function(t){},f.prototype.checkProp=function(t,e){},f.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,i=this.$observer;D(e.beforeDestroy,this),this.fire("beforeDestroy"+he);var o=this.$vnode;t&&t.$children&&B(t.$children,this),o&&(this.$vnode=r,function(t,e,n){if(n){var r=t.parent(e.node);r&&Re(t,r,e)}else Ue(t,e)}(dn,o,!t)),i.destroy(),D(e.afterDestroy,this),this.fire("afterDestroy"+he),n.off(),St(this)},f.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},f.prototype.toggle=function(t){return this.$observer.toggle(t)},f.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},f.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},f.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},f.prototype.append=function(t,e){return this.$observer.append(t,e)},f.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},f.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},f.prototype.remove=function(t,e){return this.$observer.remove(t,e)},f.prototype.copy=function(t,e){return this.$observer.copy(t,e)},f.version="1.0.0-alpha.79",f.is=N,f.dom=dn,f.array=X,f.object=It,f.string=vt,f.logger=Zt,f.Event=L,f.Emitter=Jt,f}();function Yn(t,e){e&&t.watch(e),D(t.$options[de],t),t.fire(de+he)}function qn(t,e,n){A(n)?t[e](D(n,t)):O(n)&&t[e](n)}function Bn(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Fn(t,e,n,r){return P(e)?Bn(t,e,n,r):Pt(e,function(e,n){Bn(t,n,e,r)}),t}function Kn(e,n,r){if(e&&e[n]){var i=e[n];if(A(i)){e[n]=[r];var o=function(t){var r=e[n],i=t.default||t;e[n]=i,R(r,function(t){t(i)})},u=i(o);u&&u.then(o)}else T(i)?W(i,r):r(i);return t}}function Gn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Vn(t,e,n,r){P(e)?t[e]=r?r(n):n:Pt(e,function(e,n){t[n]=r?r(e):e})}return Hn.directive({event:An,model:zn,binding:Dn}),Hn.filter({hasSlot:function(t){return C(this.get(ae+t))}}),Hn});
//# sourceMappingURL=yox.min.js.map
