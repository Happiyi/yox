!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t="model",e="event",n="binding",r="o",i="native",o=".hook",a="beforeCreate",u="afterCreate",f=!0,c=!1,s=null,p=void 0,v=-1,h="filter",l="partial",d="component",y="directive",m="transition",g="length",$="function",x="*",k=".",b="undefined"!=typeof window?window:p,w="undefined"!=typeof document?document:p,C="undefined"!=typeof global?global:b,E="tap",A="click",O="change",T="model",S=function(){},P=Object.freeze({}),j=Object.freeze([]),z="";function N(t){return t!==p}function D(t){return t===p}function L(t){return typeof t===$}function R(t){return Array.isArray(t)}function U(t){return t!==s&&"object"==typeof t}function I(t){return"string"==typeof t}function M(t){return"number"==typeof t}function W(t){return"boolean"==typeof t}function _(t){return M(t)||I(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var H=Object.freeze({func:L,array:R,object:U,string:I,number:M,boolean:W,numeric:_});function Y(t,e,n){if(L(t))return R(n)?t.apply(e,n):N(e)?t.call(e,n):N(n)?t(n):t()}var q=function(){function t(e,n){this.type=e,this.phase=t.PHASE_CURRENT,n&&(this.originalEvent=n)}return t.prototype.preventDefault=function(){if(!this.isPrevented){var t=this.originalEvent;t&&t.preventDefault(),this.isPrevented=f}return this},t.prototype.stopPropagation=function(){if(!this.isStoped){var t=this.originalEvent;t&&t.stopPropagation(),this.isStoped=f}return this},t.prototype.prevent=function(){return this.preventDefault()},t.prototype.stop=function(){return this.stopPropagation()},t.PHASE_CURRENT=0,t.PHASE_UPWARD=1,t.PHASE_DOWNWARD=v,t}();function B(t,e,n){var r=t.length;if(r)if(n)for(var i=r-1;i>=0&&e(t[i],i)!==c;i--);else for(i=0;i<r&&e(t[i],i)!==c;i++);}function F(t,e){t[t.length]=e}function K(t,e){t.unshift(e)}function G(t,e,n){R(e)?B(e,function(e){n(t,e)}):n(t,e)}function V(t,e){G(t,e,F)}function X(t,e){G(t,e,K)}function Z(t,e,n){var r=v;return B(t,function(t,i){if(n===c?t==e:t===e)return r=i,c}),r}function J(t){var e=t.length;if(e>0)return t[e-1]}function Q(t){if(t.length>0)return t.pop()}function tt(t,e,n){var r=0;return B(t,function(i,o){(n===c?i==e:i===e)&&(t.splice(o,1),r++)},f),r}function et(t,e,n){return Z(t,e,n)>=0}function nt(t){return R(t)?t:Y(j.slice,t)}function rt(t,e){return t.join(e)}function it(t){return!R(t)||!t.length}var ot=Object.freeze({each:B,push:V,unshift:X,indexOf:Z,last:J,pop:Q,remove:tt,has:et,toArray:nt,toObject:function(t,e,n){var r={};return B(t,function(t){r[e?t[e]:t]=n||t}),r},join:rt,falsy:it}),at=/-([a-z])/gi,ut=/\B([A-Z])/g,ft=/^[a-z]/,ct={},st={},pt={};function vt(t,e,n){return M(n)?e===n?z:t.slice(e,n):t.slice(e)}function ht(t,e,n){return t.indexOf(e,N(n)?n:0)}function lt(t,e,n){return t.lastIndexOf(e,N(n)?n:t.length)}function dt(t,e){return 0===ht(t,e)}function yt(t,e){return t.charCodeAt(e||0)}function mt(t){return t.toUpperCase()}function gt(t){return t.toLowerCase()}function $t(t,e){return ht(t,e)>=0}function xt(t){return!I(t)||!t.length}var kt=Object.freeze({camelize:function(t){return ct[t]||(ct[t]=t.replace(at,function(t,e){return mt(e)})),ct[t]},hyphenate:function(t){return st[t]||(st[t]=t.replace(ut,function(t,e){return"-"+gt(e)})),st[t]},capitalize:function(t){return pt[t]||(pt[t]=t.replace(ft,mt)),pt[t]},trim:function(t){return xt(t)?z:t.trim()},slice:vt,indexOf:ht,lastIndexOf:lt,startsWith:dt,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&lt(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:yt,upper:mt,lower:gt,has:$t,falsy:xt}),bt=/\./g,wt=/\*/g,Ct=/\*\*/g,Et={},At={};function Ot(t,e){return t===e?e.length:dt(t,e+=k)?e.length:v}function Tt(t,e){for(var n=Et.hasOwnProperty(t)?Et[t]:Et[t]=t.split(k),r=0,i=n.length-1;r<=i&&e(n[r],r===i)!==c;r++);}function St(t,e){return t&&e?t+k+e:t||e}function Pt(t){return $t(t,x)}function jt(t,e){var n=At[e];if(!n){var r=e.replace(bt,"\\.").replace(wt,"(\\w+)").replace(Ct,"([.\\w]+?)");n=At[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var zt={value:p};function Nt(t){return Object.keys(t)}function Dt(t,e){return t.length-e.length}function Lt(t,e){return e.length-t.length}function Rt(t,e){return Nt(t).sort(e?Lt:Dt)}function Ut(t,e){for(var n in t)if(e(t[n],n)===c)break}function It(t){Ut(t,function(e,n){delete t[n]})}function Mt(t,e){return Ut(e,function(e,n){t[n]=e}),t}function Wt(t,e){return t&&e?Mt(Mt({},t),e):t||e}function _t(t,e){var n=t;return R(t)?e?(n=[],B(t,function(t,r){n[r]=_t(t,e)})):n=t.slice():U(t)&&(n={},Ut(t,function(t,r){n[r]=e?_t(t,e):t})),n}function Ht(t,e){return Tt(e,function(e,n){if(t==s)return t=p,c;var r=t[e],i=N(r);r&&L(r.get)&&(r=r.get()),n?i?(zt.value=r,t=zt):t=p:t=r}),t}function Yt(t,e,n,r){Tt(e,function(e,i){if(i)t[e]=n;else if(t[e])t=t[e];else{if(!r)return c;t=t[e]={}}})}function qt(t,e){return N(t[e])}function Bt(t){return!U(t)||R(t)||!Nt(t).length}var Ft=Object.freeze({keys:Nt,sort:Rt,each:Ut,clear:It,extend:Mt,merge:Wt,copy:_t,get:Ht,set:Yt,has:qt,falsy:Bt});function Kt(t,e){return t!=s&&t.toString?t.toString():N(e)?e:z}var Gt=1,Vt=2,Xt=3,Zt=4,Jt=5,Qt="undefined"!=typeof console?console:s,te=/yox/.test(Kt(S))?Vt:Xt,ee=b&&/edge|msie|trident/i.test(b.navigator.userAgent)?z:"%c",ne=Qt?ee?function(t,e,n){Qt.log(ee+t,n,e)}:function(t,e){Qt.log(t,e)}:S;function re(){if(C){var t=C.YOX_LOG_LEVEL;if(t>=Gt&&t<=Jt)return t}return te}function ie(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var oe=Object.freeze({DEBUG:Gt,INFO:Vt,WARN:Xt,ERROR:Zt,FATAL:Jt,debug:function(t,e){re()<=Gt&&ne(e||"Yox debug",t,ie("#999"))},info:function(t,e){re()<=Vt&&ne(e||"Yox info",t,ie("#2db7f5"))},warn:function(t,e){re()<=Xt&&ne(e||"Yox warn",t,ie("#f90"))},error:function(t,e){re()<=Zt&&ne(e||"Yox error",t,ie("#ed4014"))},fatal:function(t,e){if(re()<=Jt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),ae=function(){function t(t){this.ns=t||c,this.listeners={}}return t.prototype.fire=function(t,e,n){var r=this,i=I(t)?r.parse(t):t,o=r.listeners[i.type],a=f;if(o){o=_t(o);var u=e&&e[0]instanceof q?e[0]:p;B(o,function(t){if(ce(i.ns,t)&&et(o,t)&&(!n||n(i,e,t))){u&&(u.listener=t.fn);var f=Y(t.fn,t.ctx,e);return u&&(u.listener=p),t.num=t.num?t.num+1:1,t.num===t.max&&r.off(i,t.fn),u&&(f===c?u.prevent().stop():u.isStoped&&(f=c)),f===c?a=c:void 0}})}return a},t.prototype.on=function(t,e){var n=this.listeners,r=L(e)?{fn:e}:e;if(U(r)&&L(r.fn)){var i=I(t)?this.parse(t):t;r.ns=i.ns,V(n[i.type]||(n[i.type]=[]),r)}},t.prototype.off=function(t,e){var n=this.listeners;if(t){var r=I(t)?this.parse(t):t,i=r.type,o=r.ns,a=fe(e),u=function(t,e){B(t,function(e,n){a(e)&&ce(o,e)&&t.splice(n,1)},f),t.length||delete n[e]};i?n[i]&&u(n[i],i):o&&Ut(n,u)}else this.listeners={}},t.prototype.has=function(t,e){var n=this.listeners,r=I(t)?this.parse(t):t,i=r.type,o=r.ns,a=f,u=fe(e),s=function(t){return B(t,function(t){if(u(t)&&ce(o,t))return a=c}),a};return i?n[i]&&s(n[i]):o&&Ut(n,s),!a},t.prototype.parse=function(t){var e={type:t,ns:z};if(this.ns){var n=ht(t,k);n>=0&&(e.type=vt(t,0,n),e.ns=vt(t,n+1))}return e},t}();function ue(){return f}function fe(t){return L(t)?function(e){return t===e.fn}:ue}function ce(t,e){var n=e.ns;return n&&t?n===t:f}function se(t){return L(t)&&$t(Kt(t),"[native code]")}typeof setImmediate===$&&se(setImmediate)&&setImmediate;var pe,ve=typeof MessageChannel===$&&se(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,he=function(){function t(){this.tasks=[]}return t.shared=function(){return pe||(pe=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;V(r,{fn:t,ctx:e}),1===r.length&&ve(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;X(r,{fn:t,ctx:e}),1===r.length&&ve(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],B(t,function(t){Y(t.fn,t.ctx)}))},t}(),le=0;var de="$id",ye="$vnode",me="$loading",ge="$component",$e="$leaving";function xe(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var a=i||P,u=o||P;for(var f in a)u[f]!==p&&a[f]===u[f]||t.attr(r,f,a[f]);for(var f in u)a[f]===p&&t.removeAttr(r,f)}}function ke(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var a=i||P,u=o||P;for(var f in a)u[f]!==p&&a[f]===u[f]||t.prop(r,f,a[f]);for(var f in u)a[f]===p&&t.removeProp(r,f)}}function be(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[ge]||t.node,a=e&&t.keypath!==e.keypath,u=r||P,f=i||P;for(var c in u){var s=u[c],p=s.hooks,v=p.once,h=p.bind,l=p.unbind;f[c]?(v||s.value!==f[c].value||a)&&(l&&l(o,f[c],e),h(o,s,t)):h(o,s,t)}for(var c in f){if(!u[c])(l=f[c].hooks.unbind)&&l(o,f[c],e)}}}function we(t){var e=t.directives;if(e){var n=t.data[ge]||t.node;for(var r in e){var i=e[r].hooks.unbind;i&&i(n,e[r],t)}}}function Ce(e,n){var r,i=e.data,o=e.ref,a=e.props,u=e.slots,f=e.directives,c=e.context;if(e.isComponent){if(r=i[ge],n){var s=f&&f[t];s&&(a||(a={}),a[r.$model]=s.value);var p=Wt(a,u);p&&r.forceUpdate(p)}}else r=e.node;if(o){var v=c.$refs;v&&(v[o]=r)}}function Ee(t,e){return t.tag===e.tag&&t.key===e.key}function Ae(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||P}function Oe(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Te(t,e){var n=(t.parent||t.context).createComponent(e,t);return t.data[ge]=n,t.data[me]=c,Ce(t),be(t),n}function Se(){var t={};return t[de]=++le,t}function Pe(t,e){var n=e.tag,r=e.node,i=e.data,o=e.isComponent,a=e.isComment,u=e.isText,c=e.isStyle,s=e.isOption,v=e.children,h=e.text,l=e.html,y=e.context;if(!r||!i)if(i=Se(),e.data=i,u)e.node=t.createText(h);else if(a)e.node=t.createComment(h);else if(o){var m=p;n&&y.loadComponent(n,function(t){qt(i,me)?i[me]&&(i[ye]&&(e=i[ye],delete i[ye]),Re(e,Te(e,t))):m=t}),e.node=t.createComment(d),m?Te(e,m):i[me]=f}else r=e.node=t.createElement(e.tag,e.isSvg),v?je(t,r,v):h?t.text(r,h,c,s):l&&t.html(r,l,c,s),xe(t,e),ke(t,e),Ce(e),be(e)}function je(t,e,n,r,i,o){for(var a,u=r||0,f=N(i)?i:n.length-1;u<=f;)Pe(t,a=n[u]),ze(t,e,a,o),u++}function ze(t,e,n,r){var i=n.node,o=n.data,a=n.context,u=t.parent(i);if(r?t.before(e,i,r.node):t.append(e,i),!u){var f=p;if(n.isComponent){var c=o[ge];c&&(f=function(){Re(n,c)})}else n.isStatic||n.isText||n.isComment||(f=function(){Re(n)});f&&a.$observer.nextTask.prepend(f)}}function Ne(t,e,n,r,i){for(var o,a=r||0,u=N(i)?i:n.length-1;a<=u;)(o=n[a])&&De(t,e,o),a++}function De(t,e,n){var r=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,r);else{var i,o=function(){Le(t,n),t.remove(e,r)};if(n.isComponent&&!(i=n.data[ge]))return void o();!function(t,e,n){var r=t.data,i=t.transition;e&&!i&&(i=e.$vnode.transition);if(i){var o=i.leave;if(o)return void o(t.node,r[$e]=function(){r[$e]&&(n(),r[$e]=p)})}n()}(n,i,o)}}function Le(t,e){var n=e.data,r=e.children,i=e.parent,o=e.slot;if(o&&i&&i.$vnode){var a=i.get(o);if(a&&et(a,e))return}if(e.isComponent){var u=n[ge];u?(we(e),u.destroy()):n[me]=c}else we(e),r&&B(r,function(e){Le(t,e)})}function Re(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),Y(n[$e]),r){var i=r.enter;if(i)return void i(t.node)}}function Ue(t,e,n){if(e!==n){var r=n.node,i=n.data;if(!Ee(e,n)){var o=t.parent(r);return Pe(t,e),void(o&&(ze(t,o,e,n),De(t,o,n)))}if(e.node=r,e.data=i,n.isComponent&&i[me])i[ye]=e;else{xe(t,e,n),ke(t,e,n),Ce(e,n),be(e,n);var a=e.text,u=e.html,f=e.children,c=e.isStyle,s=e.isOption,v=n.text,h=n.html,l=n.children;I(a)?a!==v&&t.text(r,a,c,s):I(u)?u!==h&&t.html(r,u,c,s):f&&l?f!==l&&function(t,e,n,r){for(var i,o,a=0,u=n.length-1,f=n[a],c=n[u],s=0,v=r.length-1,h=r[s],l=r[v];s<=v&&a<=u;)f?c?h?l?Ee(f,h)?(Ue(t,f,h),f=n[++a],h=r[++s]):Ee(c,l)?(Ue(t,c,l),c=n[--u],l=r[--v]):Ee(c,h)?(Ue(t,c,h),Oe(t,e,h.node,t.next(l.node)),c=n[--u],h=r[++s]):Ee(f,l)?(Ue(t,f,l),Oe(t,e,l.node,h.node),f=n[++a],l=r[--v]):(i||(i=Ae(r,s,v)),N(o=f.key?i[f.key]:p)?(Ue(t,f,r[o]),r[o]=p):Pe(t,f),ze(t,e,f,h),f=n[++a]):l=r[--v]:h=r[++s]:c=n[--u]:f=n[++a];s>v?je(t,e,n,a,u,n[u+1]):a>u&&Ne(t,e,r,s,v)}(t,r,f,l):f?((I(v)||I(h))&&t.text(r,z,c),je(t,r,f)):l?Ne(t,r,l):(I(v)||I(h))&&t.text(r,z,c)}}}function Ie(t,e){return _(t)?+t:N(e)?e:0}function Me(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var We="directives";var _e="textContent",He="innerHTML",Ye=function(t,e){return t},qe=function(t){var e=w.querySelector(t);if(e)return e},Be=function(t,e,n){t.addEventListener(e,n,c)},Fe=function(t,e,n){t.removeEventListener(e,n,c)},Ke=function(t,e){t.classList.add(e)},Ge=function(t,e){t.classList.remove(e)};if(w&&(w.documentElement.classList||(Ke=function(t,e){var n=t.className.split(Ze);et(n,e)||(V(n,e),t.className=rt(n,Ze))},Ge=function(t,e){var n=t.className.split(Ze);tt(n,e)&&(t.className=rt(n,Ze))}),!w.addEventListener)){var Ve=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},Xe=function(){function t(t,e){Mt(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return t.prototype.preventDefault=function(){this.originalEvent.returnValue=c},t.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=f},t}();_e="innerText",Ye=function(t,e){return new Xe(t,e)},qe=function(t){35===yt(t,0)&&(t=vt(t,1));var e=w.getElementById(t);if(e)return e},Be=function(t,e,n){"input"===e?Be(t,"propertychange",n[Je]=function(t){"value"===t.propertyName&&((t=new q(t)).type="input",Y(n,this,t))}):e===O&&Ve(t)?Be(t,A,n[Je]=function(t){(t=new q(t)).type=O,Y(n,this,t)}):t.attachEvent("on"+e,n)},Fe=function(t,e,n){"input"===e?(Fe(t,"propertychange",n[Je]),delete n[Je]):e===O&&Ve(t)?(Fe(t,A,n[Je]),delete n[Je]):t.detachEvent("on"+e,n)}}var Ze=" ",Je="$emitter",Qe="styleSheet",tn={svg:"http://www.w3.org/2000/svg"},en={};function nn(t){return w.createComment(t)}function rn(t,e,n){if(N(n))Yt(t,e,n,c);else{var r=Ht(t,e);if(r)return r.value}}function on(t,e,n){if(N(n))t.setAttribute(e,n);else{var r=t.getAttribute(e);if(r!=s)return r}}function an(t,e){t.appendChild(e)}en[T]={on:function(t,e){var n=c;pn(t,"compositionstart",e.compositionstart=function(){n=f}),pn(t,"compositionend",e.compositionend=function(t){n=c,e(t)}),Be(t,"input",e.input=function(t){n||e(t)})},off:function(t,e){vn(t,"compositionstart",e.compositionstart),vn(t,"compositionend",e.compositionend),Fe(t,"input",e.input),e.compositionstart=e.compositionend=e.input=p}};var un=qe;function fn(t,e,n,r){if(!N(e))return t[He];n&&qt(t,Qe)?t[Qe].cssText=e:(r&&(t.value=e),t[He]=e)}var cn=Ke,sn=Ge;function pn(t,e,n,r){var i=t[Je]||(t[Je]=new ae),o=i.nativeListeners||(i.nativeListeners={});if(!o[e]){var a=en[e],u=function(n){var r=n instanceof q?n:new q(n.type,Ye(n,t));r.type!==e&&(r.type=e),i.fire(e,[r])};o[e]=u,a?a.on(t,u):Be(t,e,u)}i.on(e,{fn:n,ctx:r})}function vn(t,e,n){var r=t[Je],i=r.listeners,o=r.nativeListeners;if(r.off(e,n),o&&!r.has(e)){var a=en[e],u=o[e];a?a.off(t,u):Fe(t,e,u),delete o[e]}Bt(i)&&(t[Je]=p)}var hn=Object.freeze({createElement:function(t,e){return e?w.createElementNS(tn.svg,t):w.createElement(t)},createText:function(t){return w.createTextNode(t)},createComment:nn,prop:rn,removeProp:function(t,e){Yt(t,e,p)},attr:on,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:an,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:un,tag:function(t){if(1===t.nodeType)return gt(t.tagName)},text:function(t,e,n,r){if(!N(e))return t[_e];n&&qt(t,Qe)?t[Qe].cssText=e:(r&&(t.value=e),t[_e]=e)},html:fn,addClass:cn,removeClass:sn,on:pn,off:vn,addSpecialEvent:function(t,e){en[t]=e}}),ln=function(){function t(t,e,n,r,i,o,a){var u=this;u.keypath=t,u.cache=n,u.deps=r,u.context=i.context,u.observer=i,u.getter=o,u.setter=a,u.unique={},u.watcher=function(e,n,r){var o=u.value,a=u.get(f);a!==o&&i.diff(t,a,o)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!it(r))&&B(r,function(t){i.watch(t,u.watcherOptions)})}return t.prototype.get=function(e){var n=this.getter,r=this.context;if(this.cache){if(e||!qt(this,"value"))if(this.fixed)this.value=Y(n,r);else{this.unbind();var i=t.current;t.current=this,this.value=Y(n,r),this.bind(),t.current=i}}else this.value=Y(n,r);return this.value},t.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},t.prototype.add=function(t){this.unique[t]=f},t.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Ut(t,function(t,i){V(e,i),n.watch(i,r)}),this.unique={}},t.prototype.unbind=function(){var t=this.deps,e=this.observer,n=this.watcher;B(t,function(t){e.unwatch(t,n)},f),t.length=0},t}();function dn(t,e){var n;return B(t,function(t){var r=Ot(e,t);if(r>=0)return n={name:t,prop:vt(e,r)},c}),n}function yn(t,e){if(t==s||e===z)return t;var n=Ht(t,e);return n?n.value:void 0}function mn(t,e,n,r,i){var o=function(e,n,o){if(n!==o){var a=St(t,e);B(r,function(t){N(jt(a,t))&&i(t,a,n,o)}),mn(a,n,o,r,i)}};(function(t,e,n){var r=I(t),i=I(e);if(r||i)return n(g,r?t.length:p,i?e.length:p),f})(e,n,o)||function(t,e,n){var r=R(t),i=R(e);if(r||i){var o=r?t.length:p,a=i?e.length:p;n(g,o,a);for(var u=0,c=Math.max(o||0,a||0);u<c;u++)n(""+u,t?t[u]:p,e?e[u]:p);return f}}(e,n,o)||function(t,e,n){var r=U(t),i=U(e);(r||i)&&(t=r?t:P,e=i?e:P,r&&Ut(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Ut(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(e,n,o)}function gn(t,e,n,r,i,o){var a;Ut(r,function(r,u){if(Pt(u))N(jt(t,u))?o(u,t,e,n):i&&(a?V(a,u):a=[u]);else{var f=Ot(u,t);if(f>=0){var c=vt(u,f),s=yn(e,c),p=yn(n,c);s!==p&&o(u,u,s,p)}}}),a&&mn(t,e,n,a,o)}function $n(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var xn={watcher:S};function kn(t,e){return L(t)?(xn.watcher=t,xn.immediate=e===f,xn):t&&t.watcher?t:void 0}var bn=function(){function t(t,e){this.data=t||{},this.context=e||this,this.nextTask=new he,this.syncEmitter=new ae,this.asyncEmitter=new ae,this.asyncChanges={}}return t.prototype.get=function(t,e,n){var r,i,o=ln.current,a=this.data,u=this.computed,f=this.reversedComputedKeys;if(t===z)return a;if(o&&!n&&o.add(t),u){if(i=u[t])return i.get();if(f){var c=dn(f,t);c&&c.prop&&(r=Ht(u[c.name].get(),c.prop))}}return r||(r=Ht(a,t)),r?r.value:e},t.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,a=function(t,e){var a=n.get(e);if(t!==a){var u;if(i&&((u=i[e])&&u.set(t),o)){var f=dn(o,e);if(f&&f.prop&&(u=i[f.name])){var c=u.get();U(c)&&Yt(c,f.prop,t)}}u||Yt(r,e,t),n.diff(e,t,a)}};I(t)?a(e,t):U(t)&&Ut(t,a)},t.prototype.diff=function(t,e,n){var r=this,i=r.syncEmitter,o=r.asyncEmitter,a=r.asyncChanges,u=36!==yt(t);gn(t,e,n,i.listeners,u,function(t,e,n,r){i.fire(t,[n,r,e])}),gn(t,e,n,o.listeners,u,function(t,e,n,i){B(o.listeners[t],function(t){t.count++});var u=(a[e]||(a[e]={value:i,keypaths:[]})).keypaths;et(u,t)||V(u,t),r.pending||(r.pending=f,r.nextTask.append(function(){r.pending&&(r.pending=p,r.diffAsync())}))})},t.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Ut(n,function(n,r){var i=[t.get(r),n.value,r];B(n.keypaths,function(t){e.fire(t,i,$n)})})},t.prototype.addComputed=function(t,e){var n,r,i=f,o=f,a=[];if(L(e))n=e;else if(U(e)){var u=e;W(u.cache)&&(i=u.cache),W(u.sync)&&(o=u.sync),R(u.deps)&&(a=_t(u.deps)),L(u.get)&&(n=u.get),L(u.set)&&(r=u.set)}if(n){var c=new ln(t,o,i,a,this,n,r);return this.computed||(this.computed={}),this.computed[t]=c,this.reversedComputedKeys=Rt(this.computed,f),c}},t.prototype.removeComputed=function(t){var e=this.computed;e&&qt(e,t)&&(delete e[t],this.reversedComputedKeys=Rt(e,f))},t.prototype.watch=function(t,e,n){var r=this,i=r.context,o=r.syncEmitter,a=r.asyncEmitter,u=function(t,e){var n=e.sync?o:a,u={fn:e.watcher,ctx:i,count:0};e.once&&(u.max=1),n.on(t,u),e.immediate&&Y(e.watcher,i,[r.get(t),p,t])};I(t)?u(t,kn(e,n)):Ut(t,function(t,e){u(e,kn(t))})},t.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},t.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},t.prototype.increase=function(t,e,n){var r=Ie(this.get(t),0)+(e||1);if(!M(n)||r<=n)return this.set(t,r),r},t.prototype.decrease=function(t,e,n){var r=Ie(this.get(t),0)-(e||1);if(!M(n)||r>=n)return this.set(t,r),r},t.prototype.insert=function(t,e,n){var r=this.get(t),i=(r=R(r)?_t(r):[]).length;if(n===f||n===i)r.push(e);else if(n===c||0===n)r.unshift(e);else{if(!(n>0&&n<i))return;r.splice(n,0,e)}return this.set(t,r),f},t.prototype.append=function(t,e){return this.insert(t,e,f)},t.prototype.prepend=function(t,e){return this.insert(t,e,c)},t.prototype.removeAt=function(t,e){var n=this.get(t);if(R(n)&&e>=0&&e<n.length)return(n=_t(n)).splice(e,1),this.set(t,n),f},t.prototype.remove=function(t,e){var n=this.get(t);if(R(n)&&tt(n=_t(n),e))return this.set(t,n),f},t.prototype.copy=function(t,e){return _t(t,e)},t.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),It(this)},t}();function wn(t,e,n){var r;return function(){if(!r){var i=nt(arguments);n&&Y(t,p,i),r=setTimeout(function(){r=p,n||Y(t,p,i)},e)}}}var Cn=Object.freeze({bind:function(t,e,n){var r=e.key,o=e.name,a=e.modifier,u=e.handler,c=n.lazy;if(u){if(c){var s=c[o]||c[z];s===f?o=O:s>0&&(u=wn(u,s,o===A||o===E))}var p;if(n.isComponent){var v=t;a===i?(pn(p=v.$el,o,u),n.data[r]=function(){vn(p,o,u)}):(a&&(o+=k+a),v.on(o,u),n.data[r]=function(){v.off(o,u)})}else pn(p=t,o,u),n.data[r]=function(){vn(p,o,u)}}},unbind:function(t,e,n){Y(n.data[e.key])}});function En(t,e){return e&&e!==f?wn(t,e):t}var An={set:function(t,e){t.value=Kt(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},On={set:function(t,e){t.checked=t.value===Kt(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},Tn={set:function(t,e){t.checked=R(e)?et(e,t.value,c):!!e},sync:function(t,e,n){var r=n.get(e);R(r)?t.checked?n.append(e,t.value):n.removeAt(e,Z(r,t.value,c)):n.set(e,t.checked)},name:"checked"},Sn={set:function(t,e){B(nt(t.options),t.multiple?function(t){t.selected=et(e,t.value,c)}:function(n,r){if(n.value==e)return t.selectedIndex=r,c})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];B(nt(r),function(t){t.selected&&V(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},Pn=f;var jn=Object.freeze({once:Pn,bind:function(e,n,r){var i,o,a=r.context,u=r.lazy,c=r.isComponent,s=n.modifier,v=u&&(u[t]||u[z]);if(c){var h=e,l=h.$model,d=En(function(t){a.set(s,t)},v);i=function(t){i&&h.set(l,t)},o=function(){h.unwatch(l,d)},h.watch(l,d)}else{var y=e,m="select"===r.tag?Sn:An,g=O;if(m===An){var $=e.type;"radio"===$?m=On:"checkbox"===$?m=Tn:v!==f&&(g=T)}i=function(t){i&&m.set(y,t)};var x=En(function(){m.sync(y,s,a)},v);o=function(){vn(y,g,x)},pn(y,g,x),m.set(y,n.value)}a.watch(s,i),r.data[n.key]=function(){a.unwatch(s,i),i=p,o()}},unbind:function(t,e,n){Y(n.data[e.key])}}),zn=f;var Nn=Object.freeze({once:zn,bind:function(t,e,n){var r=e.modifier,i=Pt(r),o=function(a,u,f){if(o){var c=i?jt(f,r):e.name;if(n.isComponent){var s=t;s.checkProp(c,a),s.set(c,a)}else{var p=t;N(e.hint)?rn(p,c,a):on(p,c,a)}}};n.context.watch(r,o),n.data[e.key]=function(){n.context.unwatch(r,o),o=p}},unbind:function(t,e,n){Y(n.data[e.key])}}),Dn={},Ln={},Rn={},Un={},In={},Mn="$$",Wn=/^[#.][-\w+]+$/,_n=function(){function i(t){var e=this,n=t||P;e.$emitter=new ae(f),n.events&&e.on(n.events),n.parent&&(e.$parent=n.parent),Y(n[a],e,n),e.fire(a+o,n);var r=n.data,s=n.props,v=n.vnode,g=n.propTypes,x=n.computed,k=n.methods,b=n.watchers,w=n.extensions;e.$options=n,w&&Mt(e,w);var C=s?_t(s):{};g&&Ut(g,function(t,e){var n=C[e];D(n)&&N(n=t.value)&&(C[e]=t.type===$?n:L(n)?n():n)});var E=e.$observer=new bn(C,e);x&&Ut(x,function(t,e){E.addComputed(e,t)});var A=L(r)?Y(r,e,t):r;U(A)&&Ut(A,function(t,e){C[e]=t}),k&&Ut(k,function(t,n){e[n]=t});var O=p,T=n.el,S=n.root,j=n.model,R=n.context,M=n.replace,W=n.template,_=n.transitions,H=n.components,q=n.directives,B=n.partials,F=n.filters,K=n.slots;if(j&&(e.$model=j),K&&Mt(C,K),I(W)&&Wn.test(W)&&(O=un(W))&&(W=fn(O),O=p),T){if(I(T)){var G=T;Wn.test(G)&&(O=un(G))}else O=T;M||an(O,O=nn(z))}if(S&&(e.$root=S),R&&(e.$context=R),Hn(e,m,_),Hn(e,d,H),Hn(e,y,q),Hn(e,l,B),Hn(e,h,F),W){var V=b?_t(b):{};return V[Mn]={sync:f,watcher:function(t){e.update(t,e.$vnode)}},E.addComputed(Mn,{sync:c,get:function(){return e.render()}}),e.watch(V),Y(e.$options[u],e),e.fire(u+o),e.$template=I(W)?i.compile(W):W,v||(v=function(t,e,n,r){return{tag:t.tag(e),data:Se(),node:e,context:n,keypath:r}}(hn,O,e,z)),void e.update(e.get(Mn),v)}b&&e.watch(b),Y(e.$options[u],e),e.fire(u+o)}return i.define=function(t){return t},i.use=function(t){t.install(i)},i.nextTick=function(t,e){he.shared().append(t,e)},i.compile=function(t,e){return z},i.directive=function(t,e){if(I(t)&&!e)return Fn(Dn,t);Kn(Dn,t,e)},i.transition=function(t,e){if(I(t)&&!e)return Fn(Ln,t);Kn(Ln,t,e)},i.component=function(t,e){if(I(t)&&!e)return Fn(Rn,t);Kn(Rn,t,e)},i.partial=function(t,e){if(I(t)&&!e)return Fn(Un,t);Kn(Un,t,e,i.compile)},i.filter=function(t,e){if(I(t)&&!e)return Fn(In,t);Kn(In,t,e)},i.prototype.get=function(t,e){return this.$observer.get(t,e)},i.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},i.prototype.on=function(t,e){return qn(this,t,e),this},i.prototype.once=function(t,e){return qn(this,t,e,f),this},i.prototype.off=function(t,e){return this.$emitter.off(t,e),this},i.prototype.fire=function(t,e,n){var r,i=this.$emitter,o=this.$parent,a=this.$children,u=t instanceof q?t:new q(t),c=[u];if(D(u.ns)){var s=i.parse(u.type);u.type=s.type,u.ns=s.ns}return u.target||(u.target=this),U(e)?V(c,e):e===f&&(n=f),(r=i.fire(u,c))&&(n?a&&(u.phase=q.PHASE_DOWNWARD,B(a,function(t){return r=t.fire(u,e,f)})):o&&(u.phase=q.PHASE_UPWARD,r=o.fire(u,e))),r},i.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},i.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},i.prototype.loadComponent=function(t,e){Bn(this.$components,t,e)||Bn(Rn,t,e)},i.prototype.createComponent=function(e,n){(e=_t(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=f;var r=n.props,o=n.slots,a=n.directives,u=a&&a[t];if(u){r||(r={});var c=e.model||"value";r[c]=u.value,e.model=c}r&&(e.props=r),o&&(e.slots=o);var s=new i(e);V(this.$children||(this.$children=[]),s);var p=s.$el;return p&&(n.node=p),s},i.prototype.directive=function(t,e){var n=this.$directives;if(I(t)&&!e)return Fn(n,t,i.directive);Kn(n||(this.$directives={}),t,e)},i.prototype.transition=function(t,e){var n=this.$transitions;if(I(t)&&!e)return Fn(n,t,i.transition);Kn(n||(this.$transitions={}),t,e)},i.prototype.component=function(t,e){var n=this.$components;if(I(t)&&!e)return Fn(n,t,i.component);Kn(n||(this.$components={}),t,e)},i.prototype.partial=function(t,e){var n=this.$partials;if(I(t)&&!e)return Fn(n,t,i.partial);Kn(n||(this.$partials={}),t,e,i.compile)},i.prototype.filter=function(t,e){var n=this.$filters;if(I(t)&&!e)return Fn(n,t,i.filter);Kn(n||(this.$filters={}),t,e)},i.prototype.forceUpdate=function(t){var e=this.$vnode,n=this.$observer,r=n.computed;if(e&&r){var i=r[Mn],o=i.get();t&&this.set(t),n.nextTask.run(),t||o!==i.get()||this.update(i.get(f),e)}},i.prototype.render=function(){var i,o,a,u,c,v,h,l,d,y,m,g,$,b,w,C,E,A,O,T,S,P,j,L,I,M,W,_,H,B,F,K,G,Z,tt,et,nt,it,ot,at,ut;return i=this,o=this.$observer,a=this.$template,u=Wt(this.$filters,In),c=Wt(this.$partials,Un),v=Wt(this.$directives,Dn),h=Wt(this.$transitions,Ln),y=[d={$keypath:z}],m=[],g={},$=function(t,e,n,r,i,a){var f=t[e],c=St(f.$keypath,n),v=t,h=zt;if(D(a)&&(a=c),N(f[n])?v=f[n]:N(f.$item)&&(f=f.$item,n===z?v=f:f!=s&&N(f[n])&&(v=f[n])),v===t&&(v=o.get(c,t,i))===t){if(r&&e>0)return $(t,e-1,n,r,i,a);var l=Ht(u,n);return l?(h=l).keypath=n:(h.value=p,h.keypath=a),h}return h.value=v,h.keypath=c,h},b=function(t,e,n){return function(r,o){var a=i[t];if(r instanceof q){var u=p;if(e){var f=J(n);f&&(f.$event=r,f.$data=o,u=Y(a,i,e(n)),f.$event=f.$data=p)}else u=Y(a,i,o?[r,o]:r);return u}Y(a,i,e?e(n):p)}},w=function(t,e){return function(){return t(e)}},W=function(t){var e=J(m);return e&&V(e,t),t},it=function(t,e,n,r,i,o){var a=d,u=y;d={$keypath:r},y=u.concat(d),N(o)&&(d.$length=o),i&&(d[i]=n),r||(d.$item=e),t(),d=a,y=u},a(F=function(t,e,n,r,i,o){var a=o||y,u=$(a,a.length-1-(n||0),t,e,i);return r?u:u.value},K=function(t,e){return X(e,t),rt(e,k)},G=function(t,e,n,r){N(n)&&(e=rt(n,k));var i=Ht(t,e);return zt.keypath=p,zt.value=i?i.value:p,r?zt:zt.value},Z=function(t,e,n){return zt.keypath=p,zt.value=Y(t,i,e||p),n?zt:zt.value},C=function(t){var e=J(m);if(e){var n=J(e);n&&n.isText?n.text+=t:V(e,{isText:f,text:t,context:i,keypath:d.$keypath})}},E=function(t,e){Me(l,l.isComponent?"props":"nativeAttrs",t,e)},A=function(t,e){Me(l,"nativeProps",t,e)},O=function(t,e){Me(l,"lazy",t,e)},T=function(t){l.transition=h[t]},S=function(t,e,r){var i=St(n,t);return Me(l,We,i,{ns:n,name:t,key:i,modifier:e.keypath,hooks:v[n],hint:r}),e.value},P=function(e){Me(l,We,t,{ns:t,name:z,key:t,value:e.value,modifier:e.keypath,hooks:v[t]})},j=function(t,n,r,i,o,a){Me(l,We,n,{ns:e,name:t,key:n,value:i,modifier:r,hooks:v[e],handler:b(o,a,y)})},L=function(t,n,r,o,a){var u;Me(l,We,n,{ns:e,name:t,key:n,value:o,modifier:r,hooks:v[e],handler:(u=a,function(t,e){u!==t.type&&(t=new q(u,t)),i.fire(t,e)})})},I=function(t,e,n,i,o,a,u){var f=v[t];Me(l,We,e,{ns:r,name:t,key:e,value:i,hooks:f,modifier:n,getter:u?w(u,y):p,handler:o?b(o,a,y):p})},M=function(t){var e=t.value,r=t.keypath;if(U(e)){for(var i in e)Me(l,"props",i,e[i]);r&&(i=St(n,r),Me(l,We,i,{ns:n,name:z,key:i,modifier:St(r,x),hooks:v[n]}))}},_=function(){return W({isComment:f,text:z,keypath:d.$keypath,context:i})},H=function(t,e,n,r,o,a,u,f,c,s,v){var h={tag:t,text:r,html:c,isStatic:o,isOption:a,isStyle:u,isSvg:f,ref:s,key:v,context:i,keypath:d.$keypath};return e&&(l=h,e(),l=p),n&&(m.push(h.children=[]),n(),Q(m)),W(h)},B=function(t,e,n,r,a,u){var c={tag:u?o.get(u):t,ref:r,key:a,context:i,keypath:d.$keypath,isComponent:f};if(e&&(l=c,e(),l=p),n){var s={};for(var v in n){m.push([]),n[v]();var h=Q(m);s[v]=h.length?h:p}c.slots=s}return W(c)},tt=function(t,e){var n=J(m),r=i.get(t);if(n)if(r)for(var o=0,a=r.length;o<a;o++)V(n,r[o]),r[o].slot=t,r[o].parent=i;else e&&e()},et=function(t,e){g[t]=e},nt=function(t){if(g[t])g[t]();else{var e=c[t];e&&e(F,K,G,Z,C,E,A,O,T,S,P,j,L,I,M,_,H,B,tt,et,nt,ot,at,ut,Kt)}},ot=function(t,e,n){var r=e.keypath,i=e.value;if(R(i))for(var o=0,a=i.length;o<a;o++)it(t,i[o],o,r?St(r,z+o):z,n,a);else if(U(i))for(var u in i)it(t,i[u],u,r?St(r,u):z,n)},at=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<n;o++)it(t,o,i++,z,r);else for(o=e;o>n;o--)it(t,o,i++,z,r)},ut=function(t,e,n,r){var i=0;if(e<n)for(var o=e;o<=n;o++)it(t,o,i++,z,r);else for(o=e;o>=n;o--)it(t,o,i++,z,r)},Kt)},i.prototype.update=function(t,e){var n,r=this,a=r.$vnode,u=r.$options;r.$refs={},a?(Y(u.beforeUpdate,r),r.fire("beforeUpdate"+o),Ue(hn,t,e),n="afterUpdate"):(Y(u.beforeMount,r),r.fire("beforeMount"+o),Ue(hn,t,e),r.$el=t.node,n="afterMount"),r.$vnode=t,i.nextTick(function(){r.$vnode&&(Y(u[n],r),r.fire(n+o))})},i.prototype.checkProp=function(t,e){},i.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,r=this.$observer;Y(e.beforeDestroy,this),this.fire("beforeDestroy"+o);var i=this.$vnode;t&&t.$children&&tt(t.$children,this),i&&(this.$vnode=p,function(t,e,n){if(n){var r=t.parent(e.node);r&&De(t,r,e)}else Le(t,e)}(hn,i,!t)),r.destroy(),Y(e.afterDestroy,this),this.fire("afterDestroy"+o),n.off(),It(this)},i.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},i.prototype.toggle=function(t){return this.$observer.toggle(t)},i.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},i.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},i.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},i.prototype.append=function(t,e){return this.$observer.append(t,e)},i.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},i.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},i.prototype.remove=function(t,e){return this.$observer.remove(t,e)},i.prototype.copy=function(t,e){return this.$observer.copy(t,e)},i.version="1.0.0-alpha.97",i.is=H,i.dom=hn,i.array=ot,i.object=Ft,i.string=kt,i.logger=oe,i.Event=q,i.Emitter=ae,i}();function Hn(t,e,n){L(n)?t[e](Y(n,t)):U(n)&&t[e](n)}function Yn(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function qn(t,e,n,r){I(e)?Yn(t,e,n,r):Ut(e,function(e,n){Yn(t,n,e,r)})}function Bn(t,e,n){if(t&&t[e]){var r=t[e];if(L(r)){t[e]=[n];var i=function(n){var r=t[e],i=n.default||n;t[e]=i,B(r,function(t){t(i)})},o=r(i);o&&o.then(i)}else R(r)?V(r,n):n(r);return f}}function Fn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Kn(t,e,n,r){I(e)?t[e]=r?r(n):n:Ut(e,function(e,n){t[n]=r?r(e):e})}return _n.directive({event:Cn,model:jn,binding:Nn}),_n.filter({hasSlot:function(t){return N(this.get("$slot_"+t))}}),_n});
//# sourceMappingURL=yox.min.js.map
