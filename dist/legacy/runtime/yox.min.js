!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Yox=e()}(this,function(){"use strict";var t=!0,e=!1,n=null,r=void 0,i="filter",o="partial",u="component",a="directive",c="transition",f="length",s="function",p="*",v=-1,h="undefined"!=typeof window?window:r,l="undefined"!=typeof document?document:r,d="tap",m="click",y="change",g="model",$=function(){},b=Object.freeze({}),x=Object.freeze([]),k="";function w(t){return t!==r}function C(t){return t===r}function E(t){return typeof t===s}function A(t){return Array.isArray(t)}function T(t){return t!==n&&"object"==typeof t}function O(t){return"string"==typeof t}function P(t){return"number"==typeof t}function S(t){return"boolean"==typeof t}function j(t){return P(t)||O(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var z=Object.freeze({func:E,array:A,object:T,string:O,number:P,boolean:S,numeric:j});function N(t,e,n){if(E(t))return A(n)?t.apply(e,n):w(e)?t.call(e,n):w(n)?t(n):t()}var D=function(){function e(t,n){this.type=t,this.phase=e.PHASE_CURRENT,n&&(this.originalEvent=n)}return e.prototype.preventDefault=function(){if(!this.isPrevented){var e=this.originalEvent;e&&e.preventDefault(),this.isPrevented=t}return this},e.prototype.stopPropagation=function(){if(!this.isStoped){var e=this.originalEvent;e&&e.stopPropagation(),this.isStoped=t}return this},e.prototype.prevent=function(){return this.preventDefault()},e.prototype.stop=function(){return this.stopPropagation()},e.PHASE_CURRENT=0,e.PHASE_UPWARD=1,e.PHASE_DOWNWARD=v,e}();function L(t,n,r){var i=t.length;if(i)if(r)for(var o=i-1;o>=0&&n(t[o],o,i)!==e;o--);else for(o=0;o<i&&n(t[o],o,i)!==e;o++);}function R(t,e){t[t.length]=e}function U(t,e){t.unshift(e)}function I(t,e,n){A(e)?L(e,function(e){n(t,e)}):n(t,e)}function M(t,e){I(t,e,R)}function W(t,e){I(t,e,U)}function _(t,n,r){var i=v;return L(t,function(t,o){if(r===e?t==n:t===n)return i=o,e}),i}function H(t){var e=t.length;if(e>0)return t[e-1]}function Y(t){if(t.length>0)return t.pop()}function q(n,r,i){var o=0;return L(n,function(t,u){(i===e?t==r:t===r)&&(n.splice(u,1),o++)},t),o}function B(t,e,n){return _(t,e,n)>=0}function F(t){return A(t)?t:N(x.slice,t)}function K(t,e){return t.join(e)}function G(t){return!A(t)||!t.length}var V=Object.freeze({each:L,push:M,unshift:W,indexOf:_,last:H,pop:Y,remove:q,has:B,toArray:F,toObject:function(t,e,n){var r={};return L(t,function(t){r[e?t[e]:t]=n||t}),r},join:K,falsy:G}),X=/-([a-z])/gi,Z=/\B([A-Z])/g,J=/^[a-z]/,Q={},tt={},et={};function nt(t,e,n){return P(n)?e===n?k:t.slice(e,n):t.slice(e)}function rt(t,e,n){return t.indexOf(e,w(n)?n:0)}function it(t,e,n){return t.lastIndexOf(e,w(n)?n:t.length)}function ot(t,e){return 0===rt(t,e)}function ut(t,e){return t.charCodeAt(e||0)}function at(t){return t.toUpperCase()}function ct(t){return t.toLowerCase()}function ft(t,e){return rt(t,e)>=0}function st(t){return!O(t)||!t.length}var pt=Object.freeze({camelize:function(t){return Q[t]||(Q[t]=t.replace(X,function(t,e){return at(e)})),Q[t]},hyphenate:function(t){return tt[t]||(tt[t]=t.replace(Z,function(t,e){return"-"+ct(e)})),tt[t]},capitalize:function(t){return et[t]||(et[t]=t.replace(J,at)),et[t]},trim:function(t){return st(t)?k:t.trim()},slice:nt,indexOf:rt,lastIndexOf:it,startsWith:ot,endsWith:function(t,e){var n=t.length-e.length;return n>=0&&it(t,e)===n},charAt:function(t,e){return t.charAt(e||0)},codeAt:ut,upper:at,lower:ct,has:ft,falsy:st}),vt=/\./g,ht=/\*/g,lt=/\*\*/g,dt={},mt={},yt=".";function gt(t,e){return t===e?e.length:ot(t,e+=yt)?e.length:v}function $t(t,n){for(var r=w(dt[t])?dt[t]:dt[t]=t.split(yt),i=0,o=r.length-1;i<=o&&n(r[i],i===o)!==e;i++);}function bt(t,e){return t&&e?t+yt+e:t||e}function xt(t){return ft(t,p)}function kt(t,e){var n=mt[e];if(!n){var r=e.replace(vt,"\\.").replace(ht,"(\\w+)").replace(lt,"([.\\w]+?)");n=mt[e]=new RegExp("^"+r+"$")}var i=t.match(n);if(i)return i[1]}var wt={value:r};function Ct(t){return Object.keys(t)}function Et(t,e){return t.length-e.length}function At(t,e){return e.length-t.length}function Tt(t,e){return Ct(t).sort(e?At:Et)}function Ot(t,n){for(var r in t)if(n(t[r],r)===e)break}function Pt(t){Ot(t,function(e,n){delete t[n]})}function St(t,e){return Ot(e,function(e,n){t[n]=e}),t}function jt(t,e){return t&&e?St(St({},t),e):t||e}function zt(t,e){var n=t;return A(t)?e?(n=[],L(t,function(t,r){n[r]=zt(t,e)})):n=t.slice():T(t)&&(n={},Ot(t,function(t,r){n[r]=e?zt(t,e):t})),n}function Nt(t,i){return $t(i,function(i,o){if(t==n)return t=r,e;var u=t[i],a=w(u);u&&E(u.get)&&(u=u.get()),o?a?(wt.value=u,t=wt):t=r:t=u}),t}function Dt(t,n,r,i){$t(n,function(n,o){if(o)t[n]=r;else if(t[n])t=t[n];else{if(!i)return e;t=t[n]={}}})}function Lt(t,e){return w(t[e])}function Rt(t){return!T(t)||A(t)||!Ct(t).length}var Ut=Object.freeze({keys:Ct,sort:Tt,each:Ot,clear:Pt,extend:St,merge:jt,copy:zt,get:Nt,set:Dt,has:Lt,falsy:Rt});function It(t,e){return t!=n&&t.toString?t.toString():w(e)?e:k}var Mt=1,Wt=2,_t=3,Ht=4,Yt=5,qt="undefined"!=typeof console?console:n,Bt=/yox/.test(It($))?Mt:_t,Ft="%c";function Kt(){if(h){var t=h.YOX_LOG_LEVEL;if(t>=Mt&&t<=Yt)return t}return Bt}function Gt(t){return"background-color:"+t+";border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;"}var Vt=Object.freeze({DEBUG:Mt,INFO:Wt,WARN:_t,ERROR:Ht,FATAL:Yt,debug:function(t,e){qt&&Kt()<=Mt&&qt.log(Ft+(e||"Yox debug"),Gt("#999"),t)},info:function(t,e){qt&&Kt()<=Wt&&qt.log(Ft+(e||"Yox info"),Gt("#2db7f5"),t)},warn:function(t,e){qt&&Kt()<=_t&&qt.warn(Ft+(e||"Yox warn"),Gt("#f90"),t)},error:function(t,e){qt&&Kt()<=Ht&&qt.error(Ft+(e||"Yox error"),Gt("#ed4014"),t)},fatal:function(t,e){if(Kt()<=Yt)throw new Error("["+(e||"Yox fatal")+"]: "+t)}}),Xt=function(){function n(t){this.ns=t||e,this.listeners={}}return n.prototype.fire=function(n,i,o){var u=this,a=Zt(u.ns,n),c=a.name,f=a.ns,s=u.listeners[c],p=t;if(s){s=zt(s);var v=i&&i[0]instanceof D?i[0]:r;L(s,function(t,a){if(te(f,t)&&B(s,t)&&(!o||o(n,i,t))){v&&(v.listener=t.fn);var c=N(t.fn,t.ctx,i);return v&&(v.listener=r),t.num=t.num?t.num+1:1,t.num===t.max&&u.off(n,t.fn),v&&(c===e?v.prevent().stop():v.isStoped&&(c=e)),c===e?p=e:void 0}})}return p},n.prototype.on=function(t,e){var n=this.listeners,r=E(e)?{fn:e}:e;if(T(r)&&E(r.fn)){var i=Zt(this.ns,t),o=i.name,u=i.ns;r.ns=u,M(n[o]||(n[o]=[]),r)}},n.prototype.off=function(e,n){var r=this.listeners;if(e){var i=Zt(this.ns,e),o=i.name,u=i.ns,a=Qt(n),c=function(e,n){L(e,function(t,n){a(t)&&te(u,t)&&e.splice(n,1)},t),e.length||delete r[n]};o?r[o]&&c(r[o],o):u&&Ot(r,c)}else this.listeners={}},n.prototype.has=function(n,r){var i=this.listeners,o=Zt(this.ns,n),u=o.name,a=o.ns,c=t,f=Qt(r),s=function(t){return L(t,function(t){if(f(t)&&te(a,t))return c=e}),c};return u?i[u]&&s(i[u]):a&&Ot(i,s),!c},n}();function Zt(t,e){var n={name:e,ns:k};if(t){var r=rt(e,".");r>=0&&(n.name=nt(e,0,r),n.ns=nt(e,r+1))}return n}function Jt(e){return t}function Qt(t){return E(t)?function(e){return t===e.fn}:Jt}function te(e,n){var r=n.ns;return r&&e?r===e:t}function ee(t){return E(t)&&/native code/.test(It(t))}typeof setImmediate===s&&ee(setImmediate)&&setImmediate;var ne,re=typeof MessageChannel===s&&ee(MessageChannel)?function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(1)}:setTimeout,ie=function(){function t(){this.tasks=[]}return t.shared=function(){return ne||(ne=new t)},t.prototype.append=function(t,e){var n=this,r=n.tasks;M(r,{fn:t,ctx:e}),1===r.length&&re(function(){n.run()})},t.prototype.prepend=function(t,e){var n=this,r=n.tasks;W(r,{fn:t,ctx:e}),1===r.length&&re(function(){n.run()})},t.prototype.clear=function(){this.tasks.length=0},t.prototype.run=function(){var t=this.tasks;t.length&&(this.tasks=[],L(t,function(t){N(t.fn,t.ctx)}))},t}(),oe="$slot_",ue=3,ae="model",ce="event",fe="binding",se="o",pe=".hook",ve="beforeCreate",he="afterCreate",le=0;var de="$id",me="$vnode",ye="$loading",ge="$component",$e="$leaving";function be(t,e,n){var r=e.node,i=e.nativeAttrs,o=n&&n.nativeAttrs;if(i||o){var u=i||b,a=o||b;Ot(u,function(e,n){a[n]&&e.value===a[n].value||t.attr(r,n,e.value)}),Ot(a,function(e,n){u[n]||t.removeAttr(r,n)})}}function xe(t,e,n){var r=e.node,i=e.nativeProps,o=n&&n.nativeProps;if(i||o){var u=i||b,a=o||b;Ot(u,function(e,n){a[n]&&e.value===a[n].value||t.prop(r,n,e.value)}),Ot(a,function(e,n){u[n]||t.removeProp(r,n,e.hint)})}}function ke(t,e){var n=t.data,r=t.directives,i=e&&e.directives;if(r||i){var o=n[ge]||t.node,u=e&&t.keypath!==e.keypath,a=r||b,c=i||b;Ot(a,function(n,r){var i=n.hooks,a=i.once,f=i.bind,s=i.unbind;c[r]?(a||n.value!==c[r].value||u)&&(s&&s(o,c[r],e),f(o,n,t)):f(o,n,t)}),Ot(c,function(t,n){if(!a[n]){var r=t.hooks.unbind;r&&r(o,t,e)}})}}function we(t){var e=t.directives;if(e){var n=t.data[ge]||t.node;Ot(e,function(e){var r=e.hooks.unbind;r&&r(n,e,t)})}}function Ce(t,e){var n,r=t.data,i=t.ref,o=t.props,u=t.slots,a=t.directives,c=t.context;if(t.isComponent){if(n=r[ge],e){var f=a&&a[ae];f&&(o||(o={}),o[n.$model]=f.value),o&&n.checkProps(o);var s=jt(o,u);s&&n.forceUpdate(s)}}else n=t.node;if(i){var p=c.$refs;p&&(p[i]=n)}}function Ee(t,e){return t.tag===e.tag&&t.key===e.key}function Ae(t,e,n){for(var r,i,o;e<=n;)(i=t[e])&&(o=i.key)&&(r||(r={}),r[o]=e),e++;return r||b}function Te(t,e,n,r){r?t.before(e,n,r):t.append(e,n)}function Oe(t,n){var r=(t.parent||t.context).createComponent(n,t);return t.data[ge]=r,t.data[ye]=e,Ce(t),ke(t),r}function Pe(){var t={};return t[de]=++le,t}function Se(e,n){var i=n.tag,o=n.node,a=n.data,c=n.isComponent,f=n.isComment,s=n.isText,p=n.isStyle,v=n.isOption,h=n.children,l=n.text,d=n.html,m=n.context;if(!o||!a)if(a=Pe(),n.data=a,s)n.node=e.createText(l);else if(f)n.node=e.createComment(l);else if(c){var y=r;i&&m.loadComponent(i,function(t){Lt(a,ye)?a[ye]&&(a[me]&&(n=a[me],delete a[me]),Re(n,Oe(n,t))):y=t}),n.node=e.createComment(u),y?Oe(n,y):a[ye]=t}else o=n.node=e.createElement(n.tag,n.isSvg),h?je(e,o,h):l?e.text(o,l,p,v):d&&e.html(o,d,p,v),be(e,n),xe(e,n),Ce(n),ke(n)}function je(t,e,n,r,i,o){for(var u,a=r||0,c=w(i)?i:n.length-1;a<=c;)Se(t,u=n[a]),ze(t,e,u,o),a++}function ze(t,e,n,i){var o=n.node,u=n.data,a=n.context,c=t.parent(o);if(i?t.before(e,o,i.node):t.append(e,o),!c){var f=r;if(n.isComponent){var s=u[ge];s&&(f=function(){Re(n,s)})}else n.isStatic||n.isText||n.isComment||(f=function(){Re(n)});f&&a.$observer.nextTask.prepend(f)}}function Ne(t,e,n,r,i){for(var o,u=r||0,a=w(i)?i:n.length-1;u<=a;)(o=n[u])&&De(t,e,o),u++}function De(t,e,n){var i=n.node;if(n.isStatic||n.isText||n.isComment)t.remove(e,i);else{var o,u=function(){Le(t,n),t.remove(e,i)};if(n.isComponent&&!(o=n.data[ge]))return void u();!function(t,e,n){var i=t.data,o=t.transition;e&&!o&&(o=e.$vnode.transition);if(o){var u=o.leave;if(u)return void u(t.node,i[$e]=function(){i[$e]&&(n(),i[$e]=r)})}n()}(n,o,u)}}function Le(t,n){var r=n.data,i=n.children,o=n.parent,u=n.slot;if(u&&o&&o.$vnode){var a=o.get(u);if(a&&B(a,n))return}if(n.isComponent){var c=r[ge];c?(we(n),c.destroy()):r[ye]=e}else we(n),i&&L(i,function(e){Le(t,e)})}function Re(t,e){var n=t.data,r=t.transition;if(e&&!r&&(r=e.$vnode.transition),N(n[$e]),r){var i=r.enter;if(i)return void i(t.node)}}function Ue(t,e,n){if(e!==n){var i=n.node,o=n.data;if(!Ee(e,n)){var u=t.parent(i);return Se(t,e),void(u&&(ze(t,u,e,n),De(t,u,n)))}if(e.node=i,e.data=o,n.isComponent&&o[ye])o[me]=e;else if(!e.isStatic||!n.isStatic){be(t,e,n),xe(t,e,n),Ce(e,n),ke(e,n);var a=e.text,c=e.html,f=e.children,s=e.isStyle,p=e.isOption,v=n.text,h=n.html,l=n.children;O(a)?a!==v&&t.text(i,a,s,p):O(c)?c!==h&&t.html(i,c,s,p):f&&l?f!==l&&function(t,e,n,i){for(var o,u,a=0,c=n.length-1,f=n[a],s=n[c],p=0,v=i.length-1,h=i[p],l=i[v];p<=v&&a<=c;)f?s?h?l?Ee(f,h)?(Ue(t,f,h),f=n[++a],h=i[++p]):Ee(s,l)?(Ue(t,s,l),s=n[--c],l=i[--v]):Ee(s,h)?(Ue(t,s,h),Te(t,e,h.node,t.next(l.node)),s=n[--c],h=i[++p]):Ee(f,l)?(Ue(t,f,l),Te(t,e,l.node,h.node),f=n[++a],l=i[--v]):(o||(o=Ae(i,p,v)),w(u=f.key?o[f.key]:r)?(Ue(t,f,i[u]),i[u]=r):Se(t,f),ze(t,e,f,h),f=n[++a]):l=i[--v]:h=i[++p]:s=n[--c]:f=n[++a];p>v?je(t,e,n,a,c,n[c+1]):a>c&&Ne(t,e,i,p,v)}(t,i,f,l):f?((O(v)||O(h))&&t.text(i,k,s),je(t,i,f)):l?Ne(t,i,l):(O(v)||O(h))&&t.text(i,k,s)}}}function Ie(t,e){return j(t)?+t:w(e)?e:0}function Me(t,e,n,r){(t[e]||(t[e]={}))[n]=r}var We="directives";var _e="textContent",He="innerHTML",Ye=function(t){var e=l.querySelector(t);if(e)return e},qe=function(t,n,r){t.addEventListener(n,r,e)},Be=function(t,n,r){t.removeEventListener(n,r,e)},Fe=function(t,e){t.classList.add(e)},Ke=function(t,e){t.classList.remove(e)},Ge=function(t,e){return t};if(l&&(l.documentElement.classList||(Fe=function(t,e){var n=t.className.split(Ze);B(n,e)||(M(n,e),t.className=K(n,Ze))},Ke=function(t,e){var n=t.className.split(Ze);q(n,e)&&(t.className=K(n,Ze))}),!l.addEventListener)){qe=function(t,e,n){"input"===e?qe(t,"propertychange",n[Je]=function(t){"value"===t.propertyName&&((t=new D(t)).type="input",N(n,this,t))}):e===y&&Ve(t)?qe(t,m,n[Je]=function(t){(t=new D(t)).type=y,N(n,this,t)}):t.attachEvent("on"+e,n)},Be=function(t,e,n){"input"===e?(Be(t,"propertychange",n[Je]),delete n[Je]):e===y&&Ve(t)?(Be(t,m,n[Je]),delete n[Je]):t.detachEvent("on"+e,n)};var Ve=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)},Xe=function(){function n(t,e){St(this,t),this.currentTarget=e,this.target=t.srcElement||e,this.originalEvent=t}return n.prototype.preventDefault=function(){this.originalEvent.returnValue=e},n.prototype.stopPropagation=function(){this.originalEvent.cancelBubble=t},n}();_e="innerText",Ge=function(t,e){return new Xe(t,e)},Ye=function(t){35===ut(t,0)&&(t=nt(t,1));var e=l.getElementById(t);if(e)return e}}var Ze=" ",Je="$emitter",Qe="styleSheet",tn={svg:"http://www.w3.org/2000/svg"},en={};function nn(t){return l.createComment(t)}function rn(t,n,r){if(w(r))Dt(t,n,r,e);else{var i=Nt(t,n);if(i)return i.value}}function on(t,e,r){if(w(r))t.setAttribute(e,r);else{var i=t.getAttribute(e);if(i!=n)return i}}function un(t,e){t.appendChild(e)}en[g]={on:function(n,r){var i=e;pn(n,"compositionstart",r.compositionstart=function(){i=t}),pn(n,"compositionend",r.compositionend=function(t){i=e,r(t)}),qe(n,"input",r.input=function(t){i||r(t)})},off:function(t,e){vn(t,"compositionstart",e.compositionstart),vn(t,"compositionend",e.compositionend),Be(t,"input",e.input),e.compositionstart=e.compositionend=e.input=r}};var an=Ye;function cn(t,e,n,r){if(!w(e))return t[He];n&&Lt(t,Qe)?t[Qe].cssText=e:(r&&(t.value=e),t[He]=e)}var fn=Fe,sn=Ke;function pn(t,e,n){var r=t[Je]||(t[Je]=new Xt),i=r.nativeListeners||(r.nativeListeners={});if(!i[e]){var o=en[e],u=function(n){var i=n instanceof D?n:new D(n.type,Ge(n,t));i.type!==e&&(i.type=e),r.fire(e,[i])};i[e]=u,o?o.on(t,u):qe(t,e,u)}r.on(e,n)}function vn(t,e,n){var i=t[Je],o=i.listeners,u=i.nativeListeners;if(i.off(e,n),u&&!i.has(e)){var a=en[e],c=u[e];a?a.off(t,c):Be(t,e,c),delete u[e]}Rt(o)&&(t[Je]=r)}var hn=Object.freeze({createElement:function(t,e){return e?l.createElementNS(tn.svg,t):l.createElement(t)},createText:function(t){return l.createTextNode(t)},createComment:nn,prop:rn,removeProp:function(t,n,r){Dt(t,n,r===ue?e:k,e)},attr:on,removeAttr:function(t,e){t.removeAttribute(e)},before:function(t,e,n){t.insertBefore(e,n)},append:un,replace:function(t,e,n){t.replaceChild(e,n)},remove:function(t,e){t.removeChild(e)},parent:function(t){var e=t.parentNode;if(e)return e},next:function(t){var e=t.nextSibling;if(e)return e},find:an,tag:function(t){if(1===t.nodeType)return ct(t.tagName)},text:function(t,e,n,r){if(!w(e))return t[_e];n&&Lt(t,Qe)?t[Qe].cssText=e:(r&&(t.value=e),t[_e]=e)},html:cn,addClass:fn,removeClass:sn,on:pn,off:vn,addSpecialEvent:function(t,e){en[t]=e}}),ln=function(){function e(e,n,r,i,o,u,a){var c=this;c.keypath=e,c.cache=r,c.deps=i,c.context=o.context,c.observer=o,c.getter=u,c.setter=a,c.unique={},c.watcher=function(n,r,i){var u=c.value,a=c.get(t);a!==u&&o.diff(e,a,u)},c.watcherOptions={sync:n,watcher:c.watcher},(c.fixed=!G(i))&&L(i,function(t){o.watch(t,c.watcherOptions)})}return e.build=function(n,r,i){var o,u,a=t,c=t,f=[];if(E(i)?o=i:T(i)&&(S(i.cache)&&(a=i.cache),S(i.sync)&&(c=i.sync),A(i.deps)&&(f=zt(i.deps)),E(i.get)&&(o=i.get),E(i.set)&&(u=i.set)),o)return new e(n,c,a,f,r,o,u)},e.prototype.get=function(t){var n=this.getter,r=this.context;if(this.cache){if(t||!Lt(this,"value"))if(this.fixed)this.value=N(n,r);else{this.unbind();var i=e.current;e.current=this,this.value=N(n,r),this.bind(),e.current=i}}else this.value=N(n,r);return this.value},e.prototype.set=function(t){var e=this.setter,n=this.context;e&&e.call(n,t)},e.prototype.add=function(e){this.unique[e]=t},e.prototype.bind=function(){var t=this.unique,e=this.deps,n=this.observer,r=this.watcherOptions;Ot(t,function(t,i){M(e,i),n.watch(i,r)}),this.unique={}},e.prototype.unbind=function(){var e=this.deps,n=this.observer,r=this.watcher;L(e,function(t){n.unwatch(t,r)},t),e.length=0},e}();function dn(t,n){var r;return L(t,function(t){var i=gt(n,t);if(i>=0)return r={name:t,prop:nt(n,i)},e}),r}function mn(t,e){if(t==n||e===k)return t;var r=Nt(t,e);return r?r.value:void 0}function yn(e,n,i,o,u){var a=function(t,n,r){if(n!==r){var i=bt(e,t);L(o,function(t){w(kt(i,t))&&u(t,i,n,r)}),yn(i,n,r,o,u)}};(function(e,n,i){var o=O(e),u=O(n);if(o||u)return i(f,o?e.length:r,u?n.length:r),t})(n,i,a)||function(e,n,i){var o=A(e),u=A(n);if(o||u){var a=o?e.length:r,c=u?n.length:r;i(f,a,c);for(var s=0,p=Math.max(a||0,c||0);s<p;s++)i(""+s,e?e[s]:r,n?n[s]:r);return t}}(n,i,a)||function(t,e,n){var r=T(t),i=T(e);(r||i)&&(t=r?t:b,e=i?e:b,r&&Ot(t,function(t,r){t!==e[r]&&n(r,t,e[r])}),i&&Ot(e,function(e,r){e!==t[r]&&n(r,t[r],e)}))}(n,i,a)}function gn(t,e,n,r,i,o){var u;Ot(r,function(r,a){if(xt(a))w(kt(t,a))?o(a,t,e,n):i&&(u?M(u,a):u=[a]);else{var c=gt(a,t);if(c>=0){var f=nt(a,c),s=mn(e,f),p=mn(n,f);s!==p&&o(a,a,s,p)}}}),u&&yn(t,e,n,u,o)}function $n(t,e,n){if(n.count&&e)return n.count--,e[0]!==e[1]}var bn={watcher:$};function xn(e,n){return E(e)?(bn.watcher=e,bn.immediate=n===t,bn):e&&e.watcher?e:void 0}var kn=function(){function n(t,e){this.data=t||{},this.context=e||this,this.nextTask=new ie,this.syncEmitter=new Xt,this.asyncEmitter=new Xt,this.asyncChanges={}}return n.prototype.get=function(t,e,n){var r,i,o=ln.current,u=this.data,a=this.computed,c=this.reversedComputedKeys;if(t===k)return u;if(o&&!n&&o.add(t),a){if(i=a[t])return i.get();if(c){var f=dn(c,t);f&&f.prop&&(r=Nt(a[f.name].get(),f.prop))}}return r||(r=Nt(u,t)),r?r.value:e},n.prototype.set=function(t,e){var n=this,r=n.data,i=n.computed,o=n.reversedComputedKeys,u=function(t,e){var u=n.get(e);if(t!==u){var a;if(i&&((a=i[e])&&a.set(t),o)){var c=dn(o,e);if(c&&c.prop&&(a=i[c.name])){var f=a.get();T(f)&&Dt(f,c.prop,t)}}a||Dt(r,e,t),n.diff(e,t,u)}};O(t)?u(e,t):T(t)&&Ot(t,u)},n.prototype.diff=function(e,n,i){var o=this,u=o.syncEmitter,a=o.asyncEmitter,c=o.asyncChanges,f=36!==ut(e);gn(e,n,i,u.listeners,f,function(t,e,n,r){u.fire(t,[n,r,e])}),gn(e,n,i,a.listeners,f,function(e,n,i,u){L(a.listeners[e],function(t){t.count++});var f=(c[n]||(c[n]={value:u,keypaths:[]})).keypaths;B(f,e)||M(f,e),o.pending||(o.pending=t,o.nextTask.append(function(){o.pending&&(o.pending=r,o.diffAsync())}))})},n.prototype.diffAsync=function(){var t=this,e=t.asyncEmitter,n=t.asyncChanges;t.asyncChanges={},Ot(n,function(n,r){var i=[t.get(r),n.value,r];L(n.keypaths,function(t){e.fire(t,i,$n)})})},n.prototype.addComputed=function(e,n){var r=ln.build(e,this,n);if(r)return this.computed||(this.computed={}),this.computed[e]=r,this.reversedComputedKeys=Tt(this.computed,t),r},n.prototype.removeComputed=function(e){var n=this.computed;n&&Lt(n,e)&&(delete n[e],this.reversedComputedKeys=Tt(n,t))},n.prototype.watch=function(t,e,n){var i=this,o=i.context,u=i.syncEmitter,a=i.asyncEmitter,c=function(t,e){var n=e.sync?u:a,c={fn:e.watcher,ctx:o,count:0};e.once&&(c.max=1),n.on(t,c),e.immediate&&N(e.watcher,o,[i.get(t),r,t])};O(t)?c(t,xn(e,n)):Ot(t,function(t,e){c(e,xn(t))})},n.prototype.unwatch=function(t,e){this.syncEmitter.off(t,e),this.asyncEmitter.off(t,e)},n.prototype.toggle=function(t){var e=!this.get(t);return this.set(t,e),e},n.prototype.increase=function(t,e,n){var r=Ie(this.get(t),0)+(e||1);if(!P(n)||r<=n)return this.set(t,r),r},n.prototype.decrease=function(t,e,n){var r=Ie(this.get(t),0)-(e||1);if(!P(n)||r>=n)return this.set(t,r),r},n.prototype.insert=function(n,r,i){var o=this.get(n),u=(o=A(o)?zt(o):[]).length;if(i===t||i===u)o.push(r);else if(i===e||0===i)o.unshift(r);else{if(!(i>0&&i<u))return;o.splice(i,0,r)}return this.set(n,o),t},n.prototype.append=function(e,n){return this.insert(e,n,t)},n.prototype.prepend=function(t,n){return this.insert(t,n,e)},n.prototype.removeAt=function(e,n){var r=this.get(e);if(A(r)&&n>=0&&n<r.length)return(r=zt(r)).splice(n,1),this.set(e,r),t},n.prototype.remove=function(e,n){var r=this.get(e);if(A(r)&&q(r=zt(r),n))return this.set(e,r),t},n.prototype.copy=function(t,e){return zt(t,e)},n.prototype.destroy=function(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),Pt(this)},n}();function wn(t,e,n){var i;return function(){if(!i){var o=F(arguments);n&&N(t,r,o),i=setTimeout(function(){i=r,n||N(t,r,o)},e)}}}var Cn=Object.freeze({bind:function(e,n,r){var i=n.name,o=n.handler,u=r.lazy;if(o){if(u){var a=u[i]||u[k];a===t?i=y:a>0&&(o=wn(o,a,i===m||i===d))}r.isComponent?(e.on(i,o),r.data[n.key]=function(){e.off(i,o)}):(pn(e,i,o),r.data[n.key]=function(){vn(e,i,o)})}},unbind:function(t,e,n){N(n.data[e.key])}});function En(e,n){return n&&n!==t?wn(e,n):e}var An={set:function(t,e){t.value=It(e)},sync:function(t,e,n){n.set(e,t.value)},name:"value"},Tn={set:function(t,n){L(F(t.options),t.multiple?function(t){t.selected=B(n,t.value,e)}:function(r,i){if(r.value==n)return t.selectedIndex=i,e})},sync:function(t,e,n){var r=t.options;if(t.multiple){var i=[];L(F(r),function(t){t.selected&&M(i,t.value)}),n.set(e,i)}else n.set(e,r[t.selectedIndex].value)},name:"value"},On={radio:{set:function(t,e){t.checked=t.value===It(e)},sync:function(t,e,n){t.checked&&n.set(e,t.value)},name:"checked"},checkbox:{set:function(t,n){t.checked=A(n)?B(n,t.value,e):!!n},sync:function(t,n,r){var i=r.get(n);A(i)?t.checked?r.append(n,t.value):r.removeAt(n,_(i,t.value,e)):r.set(n,t.checked)},name:"checked"}},Pn=t;var Sn=Object.freeze({once:Pn,bind:function(e,n,i){var o,u,a,c=i.context,f=i.lazy,s=i.isComponent,p=n.binding,v=f&&(f[ae]||f[k]);if(s){var h=e,l=h.$model;o=function(t){o&&h.set(l,t)},u=En(function(t){c.set(p,t)},v),a=function(){h.unwatch(l,u)},h.watch(l,u)}else{var d=e,m="select"===i.tag?Tn:An,$=y;if(m===An){var b=e.type;On[b]?m=On[b]:v!==t&&($=g)}o=function(t){o&&m.set(d,t)},u=En(function(){m.sync(d,p,c)},v),a=function(){vn(d,$,u)},pn(d,$,u),m.set(d,n.value)}c.watch(p,o),i.data[n.key]=function(){c.unwatch(p,o),o=r,a()}},unbind:function(t,e,n){N(n.data[e.key])}}),jn=t;var zn=Object.freeze({once:jn,bind:function(t,e,n){var i=e.binding,o=xt(i),u=function(r,a,c){if(u){var f=o?kt(c,i):e.name;if(n.isComponent){var s=t;s.checkProp(f,r),s.set(f,r)}else{var p=t;w(e.hint)?rn(p,f,r):on(p,f,r)}}};n.context.watch(i,u),n.data[e.key]=function(){n.context.unwatch(i,u),u=r}},unbind:function(t,e,n){N(n.data[e.key])}});var Nn={},Dn={},Ln={},Rn={},Un={},In="$queue",Mn="$$",Wn=/^[#.][-\w+]+$/,_n=function(){function f(n){var p=this,v=n||b;p.$emitter=new Xt(t),v.events&&p.on(v.events),v.parent&&(p.$parent=v.parent),N(v[ve],p,v),p.fire(ve+pe,v);var h=v.data,l=v.props,d=v.vnode,m=v.propTypes,y=v.computed,g=v.methods,$=v.watchers,x=v.extensions;p.$options=v,x&&St(p,x);var A=l?zt(l):{};m&&Ot(m,function(t,e){var n=A[e];C(n)&&w(n=t.value)&&(A[e]=t.type===s?n:E(n)?n():n)});var P=p.$observer=new kn(A,p);y&&Ot(y,function(t,e){P.addComputed(e,t)});var S=E(h)?N(h,p,n):h;T(S)&&Ot(S,function(t,e){A[e]=t}),g&&Ot(g,function(t,e){p[e]=t});var j=r,z=v.el,D=v.root,L=v.model,R=v.context,U=v.replace,I=v.template,M=v.transitions,W=v.components,_=v.directives,H=v.partials,Y=v.filters,q=v.slots;if(L&&(p.$model=L),q&&St(A,q),O(I)?Wn.test(I)&&(j=an(I))&&(I=cn(j),j=r):I=r,z){if(O(z)){var B=z;Wn.test(B)&&(j=an(B))}else j=z;U||un(j,j=nn(k))}if(D&&(p.$root=D),R&&(p.$context=R),Yn(p,c,M),Yn(p,u,W),Yn(p,a,_),Yn(p,o,H),Yn(p,i,Y),I){var F=$?zt($):{};return F[Mn]={sync:t,watcher:function(t){p.update(t,p.$vnode)}},P.addComputed(Mn,{sync:e,get:function(){return p.render()}}),Hn(p,F),p.$template=O(I)?f.compile(I):I,d||(d=function(t,e,n,r){return{tag:t.tag(e),data:Pe(),node:e,context:n,keypath:r}}(hn,j,p,k)),void p.update(p.get(Mn),d)}Hn(p,$)}return f.use=function(t){t.install(f)},f.nextTick=function(t,e){ie.shared().append(t,e)},f.compile=function(t,e){return k},f.directive=function(t,e){if(O(t)&&!e)return Kn(Nn,t);Gn(Nn,t,e)},f.transition=function(t,e){if(O(t)&&!e)return Kn(Dn,t);Gn(Dn,t,e)},f.component=function(t,e){if(O(t)&&!e)return Kn(Ln,t);Gn(Ln,t,e)},f.partial=function(t,e){if(O(t)&&!e)return Kn(Rn,t);Gn(Rn,t,e,f.compile)},f.filter=function(t,e){if(O(t)&&!e)return Kn(Un,t);Gn(Un,t,e)},f.prototype.addComputed=function(t,e){return this.$observer.addComputed(t,e)},f.prototype.removeComputed=function(t){this.$observer.removeComputed(t)},f.prototype.get=function(t,e,n){return this.$observer.get(t,e,n)},f.prototype.set=function(t,e){var n=this.$observer;n&&n.set(t,e)},f.prototype.on=function(t,e){return Bn(this,t,e)},f.prototype.once=function(e,n){return Bn(this,e,n,t)},f.prototype.off=function(t,e){return this.$emitter.off(t,e),this},f.prototype.fire=function(e,n,r){var i,o=e instanceof D?e:new D(e),u=[o];if(o.target||(o.target=this),T(n)?M(u,n):n===t&&(r=t),i=this.$emitter.fire(o.type,u)){var a=this.$parent,c=this.$children;r?c&&(o.phase=D.PHASE_DOWNWARD,L(c,function(e){return i=e.fire(o,n,t)})):a&&(o.phase=D.PHASE_UPWARD,i=a.fire(o,n))}return i},f.prototype.watch=function(t,e,n){return this.$observer.watch(t,e,n),this},f.prototype.unwatch=function(t,e){return this.$observer.unwatch(t,e),this},f.prototype.loadComponent=function(t,e){if(!Fn(this.$components,t,e))Fn(Ln,t,e)},f.prototype.createComponent=function(e,n){(e=zt(e)).root=this.$root||this,e.parent=this,e.context=n.context,e.vnode=n,e.replace=t;var r=n.props,i=n.slots,o=n.directives,u=o&&o[ae];if(u){r||(r={});var a=e.model||"value";r[a]=u.value,e.model=a}r&&(e.props=r),i&&(e.slots=i);var c=new f(e);M(this.$children||(this.$children=[]),c);var s=c.$el;return s&&(n.node=s),c},f.prototype.directive=function(t,e){var n=this.$directives;if(O(t)&&!e)return Kn(n,t,f.directive);Gn(n||(this.$directives={}),t,e)},f.prototype.transition=function(t,e){var n=this.$transitions;if(O(t)&&!e)return Kn(n,t,f.transition);Gn(n||(this.$transitions={}),t,e)},f.prototype.component=function(t,e){var n=this.$components;if(O(t)&&!e)return Kn(n,t,f.component);Gn(n||(this.$components={}),t,e)},f.prototype.partial=function(t,e){var n=this.$partials;if(O(t)&&!e)return Kn(n,t,f.partial);Gn(n||(this.$partials={}),t,e,f.compile)},f.prototype.filter=function(t,e){var n=this.$filters;if(O(t)&&!e)return Kn(n,t,f.filter);Gn(n||(this.$filters={}),t,e)},f.prototype.forceUpdate=function(e){var n=this.$vnode,r=this.$observer,i=r.computed;if(n&&i){var o=i[Mn],u=o.get();e&&this.set(e),r.nextTask.run(),e||u!==o.get()||this.update(o.get(t),n)}},f.prototype.render=function(){var e,i,o,u,a,c,f,s,v,h,l,d,m,y,g,$,b,x,E,O,P,S,j,z,R,U,I,_,q,B,F,G,V,X,Z;return e=this,i=this.$template,o=jt(this.$filters,Un),u=jt(this.$partials,Rn),a=jt(this.$directives,Nn),c=jt(this.$transitions,Dn),v=[s={$keypath:k}],h=[],l={},d=function(t,i,u,a,c,f){var s=t[i],p=bt(s.$keypath,u),v=t,h=wt;if(C(f)&&(f=p),w(s[u])?v=s[u]:w(s.$item)&&(s=s.$item,u===k?v=s:s!=n&&w(s[u])&&(v=s[u])),v===t&&(v=e.get(p,t,c))===t){if(a&&i>0)return d(t,i-1,u,a,c,f);var l=Nt(o,u);return l?(h=l).keypath=u:(h.value=r,h.keypath=f),h}return h.value=v,h.keypath=p,h},m=function(t,n,i){return function(o,u){var a=e[t];if(o instanceof D){var c=r;if(n){var f=H(i);f&&(f.$event=o,f.$data=u,c=N(a,e,n(i)),f.$event=f.$data=r)}else c=N(a,e,u?[o,u]:o);return c}N(a,e,n?n(i):r)}},y=function(t,e){return function(){return t(e)}},X=function(t,e,n,r,i,o){var u=s,a=v;s={$keypath:r},v=a.concat(s),w(o)&&(s.$length=o),i&&(s[i]=n),r||(s.$item=e),t(),s=u,v=a},i(I=function(t,e,n,r,i,o){var u=o||v,a=d(u,u.length-((n||0)+1),t,e,i);return r?a:a.value},_=function(t,e){return W(e,t),K(e,yt)},q=function(t,e,n,i){w(n)&&(e=K(n,yt));var o=Nt(t,e);return wt.keypath=r,wt.value=o?o.value:r,i?wt:wt.value},B=function(t,n,i){return wt.keypath=r,wt.value=N(t,e,n||r),i?wt:wt.value},g=function(n){var r=H(h);if(r){var i=H(r);i&&i.isText?i.text+=n:M(r,{isText:t,text:n,context:e,keypath:s.$keypath})}},$=function(t,e){f.isComponent?Me(f,"props",t,e):Me(f,"nativeAttrs",t,{name:t,value:e})},b=function(t,e,n){Me(f,"nativeProps",t,{name:t,value:n,hint:e})},x=function(t,e){Me(f,"lazy",t,e)},E=function(t){f.transition=c[t]},O=function(t,e,n){var r=bt(fe,t);return Me(f,We,r,{ns:fe,name:t,key:r,hooks:a[fe],binding:e.keypath,hint:n}),e.value},P=function(t){Me(f,We,ae,{ns:ae,name:k,key:ae,value:t.value,binding:t.keypath,hooks:a[ae]})},S=function(t,e,n,r,i){Me(f,We,e,{ns:ce,name:t,key:e,value:n,hooks:a[ce],handler:m(r,i,v)})},j=function(t,n,r,i){var o;Me(f,We,n,{ns:ce,name:t,key:n,value:r,hooks:a[ce],handler:(o=i,function(t,n){o!==t.type&&(t=new D(o,t)),e.fire(t,n)})})},z=function(t,e,n,i,o,u){var c=a[t];Me(f,We,e,{ns:se,name:t,key:e,value:n,hooks:c,getter:u?y(u,v):r,handler:i?m(i,o,v):r})},R=function(t){var e=t.value,r=t.keypath;if(e!=n&&T(e)&&!A(e)&&(Ot(e,function(t,e){Me(f,"props",e,t)}),r)){var i=bt(fe,r);Me(f,We,i,{ns:fe,name:k,key:i,hooks:a[fe],binding:bt(r,p)})}},U=function(t,n,i,o,u){if(n){var a=e.get(n);t.tag=a}if(i&&(f=t,i(),f=r),o)h.push(t.children=[]),o(),Y(h);else if(u){var c={};Ot(u,function(t,e){h.push([]),t();var n=Y(h);c[e]=n.length?n:r}),t.slots=c}t.context=e,t.keypath=s.$keypath;var p=H(h);return p&&M(p,t),t},F=function(t,n){var r=H(h),i=e.get(t);r&&(i?L(i,function(n){M(r,n),n.slot=t,n.parent=e}):n&&n())},G=function(t,e){l[t]=e},V=function(t){if(l[t])l[t]();else{var e=u[t];e&&e(I,_,q,B,g,$,b,x,E,O,P,S,j,z,R,U,F,G,V,Z,It)}},Z=function(t,e,n,r,i){var o=e.value,u=e.keypath;if(n){var a=n.value,c=0;if(o<a)if(r)for(var f=o;f<=a;f++)X(t,f,c++,k,i);else for(f=o;f<a;f++)X(t,f,c++,k,i);else if(r)for(f=o;f>=a;f--)X(t,f,c++,k,i);else for(f=o;f>a;f--)X(t,f,c++,k,i)}else if(A(o)){f=0;for(var s=o.length;f<s;f++)X(t,o[f],f,u?bt(u,k+f):k,i,s)}else if(T(o))for(var p in o)X(t,o[p],p,u?bt(u,p):k,i)},It)},f.prototype.update=function(t,e){var n,r=this,i=r.$vnode,o=r.$options;r.$refs={},i?(N(o.beforeUpdate,r),r.fire("beforeUpdate"+pe),Ue(hn,t,e),n="afterUpdate"):(N(o.beforeMount,r),r.fire("beforeMount"+pe),Ue(hn,t,e),r.$el=t.node,n="afterMount"),r.$vnode=t,f.nextTick(function(){r.$vnode&&(N(o[n],r),r.fire(n+pe))})},f.prototype.checkProps=function(t){},f.prototype.checkProp=function(t,e){},f.prototype.destroy=function(){var t=this.$parent,e=this.$options,n=this.$emitter,i=this.$observer;N(e.beforeDestroy,this),this.fire("beforeDestroy"+pe);var o=this.$vnode;t&&t.$children&&q(t.$children,this),o&&(this.$vnode=r,function(t,e,n){if(n){var r=t.parent(e.node);r&&De(t,r,e)}else Le(t,e)}(hn,o,!t)),i.destroy(),N(e.afterDestroy,this),this.fire("afterDestroy"+pe),n.off(),Pt(this)},f.prototype.nextTick=function(t){this.$observer.nextTask.append(t,this)},f.prototype.toggle=function(t){return this.$observer.toggle(t)},f.prototype.increase=function(t,e,n){return this.$observer.increase(t,e,n)},f.prototype.decrease=function(t,e,n){return this.$observer.decrease(t,e,n)},f.prototype.insert=function(t,e,n){return this.$observer.insert(t,e,n)},f.prototype.append=function(t,e){return this.$observer.append(t,e)},f.prototype.prepend=function(t,e){return this.$observer.prepend(t,e)},f.prototype.removeAt=function(t,e){return this.$observer.removeAt(t,e)},f.prototype.remove=function(t,e){return this.$observer.remove(t,e)},f.prototype.copy=function(t,e){return this.$observer.copy(t,e)},f.version="1.0.0-alpha.67",f.is=z,f.array=V,f.object=Ut,f.string=pt,f.logger=Vt,f.Event=D,f.Emitter=Xt,f.dom=hn,f}();function Hn(t,e){e&&t.watch(e),N(t.$options[he],t),t.fire(he+pe)}function Yn(t,e,n){E(n)?t[e](N(n,t)):T(n)&&t[e](n)}function qn(t,e,n,r){var i={fn:n,ctx:t};r&&(i.max=1),t.$emitter.on(e,i)}function Bn(t,e,n,r){return O(e)?qn(t,e,n,r):Ot(e,function(e,n){qn(t,n,e,r)}),t}function Fn(e,n,i){if(e&&e[n]){var o=e[n];if(E(o)){var u=o,a=u[In];a?M(a,i):(a=o[In]=[i],u(function(t){u[In]=r,e[n]=t,L(a,function(e){e(t)})}))}else i(o);return t}}function Kn(t,e,n){return t&&t[e]?t[e]:n?n(e):void 0}function Gn(t,e,n,r){O(e)?t[e]=r?r(n):n:Ot(e,function(e,n){t[n]=r?r(e):e})}return _n.directive({event:Cn,model:Sn,binding:zn}),_n.filter({hasSlot:function(t){return w(this.get(oe+t))}}),_n});
//# sourceMappingURL=yox.min.js.map
