const t=!0,n=!1,e=null,o=void 0,i="filter",r="partial",s="component",c="directive",u="transition",f="value",a="length",l="function",d="*",p=-1,h="undefined"!=typeof window?window:o,m="undefined"!=typeof document?document:o,v="undefined"!=typeof global?global:h,g="tap",y="click",$="change",b="model",x=function(){},k=Object.freeze({}),w=Object.freeze([]),C="";function E(t){return t!==o}function A(t){return t===o}function T(t){return typeof t===l}function O(t){return Array.isArray(t)}function P(t){return t!==e&&"object"==typeof t}function S(t){return"string"==typeof t}function z(t){return"number"==typeof t}function N(t){return"boolean"==typeof t}function j(t){return z(t)||S(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var L=Object.freeze({func:T,array:O,object:P,string:S,number:z,boolean:N,numeric:j});function D(t,n,e){if(T(t))return O(e)?t.apply(n,e):E(n)?t.call(n,e):E(e)?t(e):t()}class R{constructor(t,n){this.type=t,this.phase=R.PHASE_CURRENT,n&&(this.originalEvent=n)}preventDefault(){const n=this;if(!n.isPrevented){const{originalEvent:e}=n;e&&e.preventDefault(),n.isPrevented=t}return n}stopPropagation(){const n=this;if(!n.isStoped){const{originalEvent:e}=n;e&&e.stopPropagation(),n.isStoped=t}return n}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function U(t,e,o){const{length:i}=t;if(i)if(o)for(let o=i-1;o>=0&&e(t[o],o,i)!==n;o--);else for(let o=0;o<i&&e(t[o],o,i)!==n;o++);}function I(t,n){t[t.length]=n}function W(t,n){t.unshift(n)}function _(t,n,e){O(n)?U(n,function(n){e(t,n)}):e(t,n)}function M(t,n){_(t,n,I)}function H(t,n){_(t,n,W)}function Y(t,e,o){let i=p;return U(t,function(t,r){if(o===n?t==e:t===e)return i=r,n}),i}function q(t){const{length:n}=t;if(n>0)return t[n-1]}function B(t){const{length:n}=t;if(n>0)return t.pop()}function F(e,o,i){let r=0;return U(e,function(t,s){(i===n?t==o:t===o)&&(e.splice(s,1),r++)},t),r}function K(t,n,e){return Y(t,n,e)>=0}function G(t){return O(t)?t:D(w.slice,t)}function V(t,n){return t.join(n)}function X(t){return!O(t)||!t.length}R.PHASE_CURRENT=0,R.PHASE_UPWARD=1,R.PHASE_DOWNWARD=p;var Z=Object.freeze({each:U,push:M,unshift:H,indexOf:Y,last:q,pop:B,remove:F,has:K,toArray:G,toObject:function(t,n,e){let o={};return U(t,function(t){o[n?t[n]:t]=e||t}),o},join:V,falsy:X});const J=/-([a-z])/gi,Q=/\B([A-Z])/g,tt=/^[a-z]/,nt={},et={},ot={};function it(t,n,e){return z(e)?n===e?C:t.slice(n,e):t.slice(n)}function rt(t,n,e){return t.indexOf(n,E(e)?e:0)}function st(t,n,e){return t.lastIndexOf(n,E(e)?e:t.length)}function ct(t,n){return 0===rt(t,n)}function ut(t,n){return t.charCodeAt(n||0)}function ft(t){return t.toUpperCase()}function at(t){return t.toLowerCase()}function lt(t,n){return rt(t,n)>=0}function dt(t){return!S(t)||!t.length}var pt=Object.freeze({camelize:function(t){return nt[t]||(nt[t]=t.replace(J,function(t,n){return ft(n)})),nt[t]},hyphenate:function(t){return et[t]||(et[t]=t.replace(Q,function(t,n){return"-"+at(n)})),et[t]},capitalize:function(t){return ot[t]||(ot[t]=t.replace(tt,ft)),ot[t]},trim:function(t){return dt(t)?C:t.trim()},slice:it,indexOf:rt,lastIndexOf:st,startsWith:ct,endsWith:function(t,n){const e=t.length-n.length;return e>=0&&st(t,n)===e},charAt:function(t,n){return t.charAt(n||0)},codeAt:ut,upper:ft,lower:at,has:lt,falsy:dt});const ht=/\./g,mt=/\*/g,vt=/\*\*/g,gt={},yt={},$t=".";function bt(t,n){return t===n?n.length:ct(t,n+=$t)?n.length:p}function xt(t,e){const o=E(gt[t])?gt[t]:gt[t]=t.split($t);for(let t=0,i=o.length-1;t<=i&&e(o[t],t===i)!==n;t++);}function kt(t,n){return t&&n?t+$t+n:t||n}function wt(t){return lt(t,d)}function Ct(t,n){let e=yt[n];if(!e){const t=n.replace(ht,"\\.").replace(mt,"(\\w+)").replace(vt,"([.\\w]+?)");e=yt[n]=new RegExp(`^${t}$`)}const o=t.match(e);if(o)return o[1]}const Et={value:o};function At(t){return Object.keys(t)}function Tt(t,n){return t.length-n.length}function Ot(t,n){return n.length-t.length}function Pt(t,n){return At(t).sort(n?Ot:Tt)}function St(t,e){for(let o in t)if(e(t[o],o)===n)break}function zt(t){St(t,function(n,e){delete t[e]})}function Nt(t,n){return St(n,function(n,e){t[e]=n}),t}function jt(t,n){return t&&n?Nt(Nt({},t),n):t||n}function Lt(t,n){let e=t;return O(t)?n?(e=[],U(t,function(t,o){e[o]=Lt(t,n)})):e=t.slice():P(t)&&(e={},St(t,function(t,o){e[o]=n?Lt(t,n):t})),e}function Dt(t,i){return xt(i,function(i,r){if(t==e)return t=o,n;{let n=t[i],e=E(n);n&&T(n.get)&&(n=n.get()),r?e?(Et.value=n,t=Et):t=o:t=n}}),t}function Rt(t,e,o,i){xt(e,function(e,r){if(r)t[e]=o;else if(t[e])t=t[e];else{if(!i)return n;t=t[e]={}}})}function Ut(t,n){return E(t[n])}function It(t){return!P(t)||O(t)||!At(t).length}var Wt=Object.freeze({keys:At,sort:Pt,each:St,clear:zt,extend:Nt,merge:jt,copy:Lt,get:Dt,set:Rt,has:Ut,falsy:It});function _t(t,n){return t!=e&&t.toString?t.toString():E(n)?n:C}const Mt=1,Ht=2,Yt=3,qt=4,Bt=5,Ft="undefined"!=typeof console?console:e,Kt=/yox/.test(_t(x))?Mt:Yt,Gt=h&&/edge|msie|trident/i.test(h.navigator.userAgent)?C:"%c",Vt=Ft?Gt?function(t,n,e){Ft.log(Gt+t,e,n)}:function(t,n){Ft.log(t,n)}:x;function Xt(){if(v){const t=v.YOX_LOG_LEVEL;if(t>=Mt&&t<=Bt)return t}return Kt}function Zt(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}var Jt=Object.freeze({DEBUG:Mt,INFO:Ht,WARN:Yt,ERROR:qt,FATAL:Bt,debug:function(t,n){Xt()<=Mt&&Vt(n||"Yox debug",t,Zt("#999"))},info:function(t,n){Xt()<=Ht&&Vt(n||"Yox info",t,Zt("#2db7f5"))},warn:function(t,n){Xt()<=Yt&&Vt(n||"Yox warn",t,Zt("#f90"))},error:function(t,n){Xt()<=qt&&Vt(n||"Yox error",t,Zt("#ed4014"))},fatal:function(t,n){if(Xt()<=Bt)throw new Error(`[${n||"Yox fatal"}]: ${t}`)}});class Qt{constructor(t){this.ns=t||n,this.listeners={}}fire(e,i,r){let s=this,{name:c,ns:u}=tn(s.ns,e),f=s.listeners[c],a=t;if(f){f=Lt(f);const t=i&&i[0]instanceof R?i[0]:o;U(f,function(c,l){if(!on(u,c)||!K(f,c)||r&&!r(e,i,c))return;t&&(t.listener=c.fn);let d=D(c.fn,c.ctx,i);return t&&(t.listener=o),c.num=c.num?c.num+1:1,c.num===c.max&&s.off(e,c.fn),t&&(d===n?t.prevent().stop():t.isStoped&&(d=n)),d===n?a=n:void 0})}return a}on(t,n){const e=this,{listeners:o}=e,i=T(n)?{fn:n}:n;if(P(i)&&T(i.fn)){const{name:n,ns:r}=tn(e.ns,t);i.ns=r,M(o[n]||(o[n]=[]),i)}}off(n,e){const o=this,{listeners:i}=o;if(n){const{name:r,ns:s}=tn(o.ns,n),c=en(e),u=function(n,e){U(n,function(t,e){c(t)&&on(s,t)&&n.splice(e,1)},t),n.length||delete i[e]};r?i[r]&&u(i[r],r):s&&St(i,u)}else o.listeners={}}has(e,o){let{listeners:i}=this,{name:r,ns:s}=tn(this.ns,e),c=t,u=en(o),f=function(t){return U(t,function(t){if(u(t)&&on(s,t))return c=n}),c};return r?i[r]&&f(i[r]):s&&St(i,f),!c}}function tn(t,n){const e={name:n,ns:C};if(t){const t=rt(n,".");t>=0&&(e.name=it(n,0,t),e.ns=it(n,t+1))}return e}function nn(n){return t}function en(t){return T(t)?function(n){return t===n.fn}:nn}function on(n,e){const{ns:o}=e;return o&&n?o===n:t}function rn(t){return T(t)&&/native code/.test(_t(t))}let sn;typeof setImmediate===l&&rn(setImmediate)&&(sn=setImmediate);var cn=sn=typeof MessageChannel===l&&rn(MessageChannel)?function(t){const n=new MessageChannel;n.port1.onmessage=t,n.port2.postMessage(1)}:setTimeout;let un;class fn{static shared(){return un||(un=new fn)}constructor(){this.tasks=[]}append(t,n){const e=this,{tasks:o}=e;M(o,{fn:t,ctx:n}),1===o.length&&cn(function(){e.run()})}prepend(t,n){const e=this,{tasks:o}=e;H(o,{fn:t,ctx:n}),1===o.length&&cn(function(){e.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],U(t,function(t){D(t.fn,t.ctx)}))}}const an="$slot_",ln=3,dn="model",pn="event",hn="binding",mn="o",vn="value",gn=".hook",yn="beforeCreate",$n="afterCreate",bn="beforeMount",xn="afterMount",kn="beforeUpdate",wn="afterUpdate",Cn="beforeDestroy",En="afterDestroy";let An=0;const Tn="$id",On="$vnode",Pn="$loading",Sn="$component",zn="$leaving";function Nn(t,n,e){const{node:o,nativeAttrs:i}=n,r=e&&e.nativeAttrs;if(i||r){const n=i||k,e=r||k;St(n,function(n,i){e[i]&&n.value===e[i].value||t.attr(o,i,n.value)}),St(e,function(e,i){n[i]||t.removeAttr(o,i)})}}function jn(t,n,e){const{node:o,nativeProps:i}=n,r=e&&e.nativeProps;if(i||r){const n=i||k,e=r||k;St(n,function(n,i){e[i]&&n.value===e[i].value||t.prop(o,i,n.value)}),St(e,function(e,i){n[i]||t.removeProp(o,i,e.hint)})}}function Ln(t,n){const{data:e,directives:o}=t,i=n&&n.directives;if(o||i){const r=e[Sn]||t.node,s=n&&t.keypath!==n.keypath,c=o||k,u=i||k;St(c,function(e,o){const{once:i,bind:c,unbind:f}=e.hooks;u[o]?(i||e.value!==u[o].value||s)&&(f&&f(r,u[o],n),c(r,e,t)):c(r,e,t)}),St(u,function(t,e){if(!c[e]){const{unbind:e}=t.hooks;e&&e(r,t,n)}})}}function Dn(t){const{directives:n}=t;if(n){const e=t.data[Sn]||t.node;St(n,function(n){const{unbind:o}=n.hooks;o&&o(e,n,t)})}}function Rn(t,n){let e,{data:o,ref:i,props:r,slots:s,directives:c,context:u}=t;if(t.isComponent){if(e=o[Sn],n){const t=c&&c[dn];t&&(r||(r={}),r[e.$model]=t.value),r&&e.checkProps(r);const n=jt(r,s);n&&e.forceUpdate(n)}}else e=t.node;if(i){const t=u.$refs;t&&(t[i]=e)}}function Un(t,n){return t.tag===n.tag&&t.key===n.key}function In(t,n,e){let o,i,r;for(;n<=e;)(i=t[n])&&(r=i.key)&&(o||(o={}),o[r]=n),n++;return o||k}function Wn(t,n,e,o){o?t.before(n,e,o):t.append(n,e)}function _n(t,e){const o=(t.parent||t.context).createComponent(e,t);return t.data[Sn]=o,t.data[Pn]=n,Rn(t),Ln(t),o}function Mn(){const t={};return t[Tn]=++An,t}function Hn(n,e){let{tag:i,node:r,data:c,isComponent:u,isComment:f,isText:a,isStyle:l,isOption:d,children:p,text:h,html:m,context:v}=e;if(!r||!c)if(c=Mn(),e.data=c,a)e.node=n.createText(h);else if(f)e.node=n.createComment(h);else if(u){let r=o;i&&v.loadComponent(i,function(t){Ut(c,Pn)?c[Pn]&&(c[On]&&(e=c[On],delete c[On]),Gn(e,_n(e,t))):r=t}),e.node=n.createComment(s),r?_n(e,r):c[Pn]=t}else r=e.node=n.createElement(e.tag,e.isSvg),p?Yn(n,r,p):h?n.text(r,h,l,d):m&&n.html(r,m,l,d),Nn(n,e),jn(n,e),Rn(e),Ln(e)}function Yn(t,n,e,o,i,r){let s,c=o||0,u=E(i)?i:e.length-1;for(;c<=u;)Hn(t,s=e[c]),qn(t,n,s,r),c++}function qn(t,n,e,i){const{node:r,data:s,context:c}=e,u=t.parent(r);if(i?t.before(n,r,i.node):t.append(n,r),!u){let t=o;if(e.isComponent){const n=s[Sn];n&&(t=function(){Gn(e,n)})}else e.isStatic||e.isText||e.isComment||(t=function(){Gn(e)});t&&c.$observer.nextTask.prepend(t)}}function Bn(t,n,e,o,i){let r,s=o||0,c=E(i)?i:e.length-1;for(;s<=c;)(r=e[s])&&Fn(t,n,r),s++}function Fn(t,n,e){const{node:i}=e;if(e.isStatic||e.isText||e.isComment)t.remove(n,i);else{let r,s=function(){Kn(t,e),t.remove(n,i)};if(e.isComponent&&!(r=e.data[Sn]))return void s();!function(t,n,e){let{data:i,transition:r}=t;n&&!r&&(r=n.$vnode.transition);if(r){const{leave:n}=r;if(n)return void n(t.node,i[zn]=function(){i[zn]&&(e(),i[zn]=o)})}e()}(e,r,s)}}function Kn(t,e){const{data:o,children:i,parent:r,slot:s}=e;if(s&&r&&r.$vnode){const t=r.get(s);if(t&&K(t,e))return}if(e.isComponent){const t=o[Sn];t?(Dn(e),t.destroy()):o[Pn]=n}else Dn(e),i&&U(i,function(n){Kn(t,n)})}function Gn(t,n){let{data:e,transition:o}=t;if(n&&!o&&(o=n.$vnode.transition),D(e[zn]),o){const{enter:n}=o;if(n)return void n(t.node)}}function Vn(t,n,e){if(n===e)return;const{node:i,data:r}=e;if(!Un(n,e)){const o=t.parent(i);return Hn(t,n),void(o&&(qn(t,o,n,e),Fn(t,o,e)))}if(n.node=i,n.data=r,e.isComponent&&r[Pn])return void(r[On]=n);if(n.isStatic&&e.isStatic)return;Nn(t,n,e),jn(t,n,e),Rn(n,e),Ln(n,e);const{text:s,html:c,children:u,isStyle:f,isOption:a}=n,l=e.text,d=e.html,p=e.children;S(s)?s!==l&&t.text(i,s,f,a):S(c)?c!==d&&t.html(i,c,f,a):u&&p?u!==p&&function(t,n,e,i){let r,s,c=0,u=e.length-1,f=e[c],a=e[u],l=0,d=i.length-1,p=i[l],h=i[d];for(;l<=d&&c<=u;)f?a?p?h?Un(f,p)?(Vn(t,f,p),f=e[++c],p=i[++l]):Un(a,h)?(Vn(t,a,h),a=e[--u],h=i[--d]):Un(a,p)?(Vn(t,a,p),Wn(t,n,p.node,t.next(h.node)),a=e[--u],p=i[++l]):Un(f,h)?(Vn(t,f,h),Wn(t,n,h.node,p.node),f=e[++c],h=i[--d]):(r||(r=In(i,l,d)),E(s=f.key?r[f.key]:o)?(Vn(t,f,i[s]),i[s]=o):Hn(t,f),qn(t,n,f,p),f=e[++c]):h=i[--d]:p=i[++l]:a=e[--u]:f=e[++c];l>d?Yn(t,n,e,c,u,e[u+1]):c>u&&Bn(t,n,i,l,d)}(t,i,u,p):u?((S(l)||S(d))&&t.text(i,C,f),Yn(t,i,u)):p?Bn(t,i,p):(S(l)||S(d))&&t.text(i,C,f)}function Xn(t,n){return j(t)?+t:E(n)?n:0}function Zn(t,n,e,o){(t[n]||(t[n]={}))[e]=o}const Jn="directives";let Qn="textContent",te="innerHTML",ne=function(t){const n=m.querySelector(t);if(n)return n},ee=function(t,e,o){t.addEventListener(e,o,n)},oe=function(t,e,o){t.removeEventListener(e,o,n)},ie=function(t,n){t.classList.add(n)},re=function(t,n){t.classList.remove(n)},se=function(t,n){return t};if(m&&(m.documentElement.classList||(ie=function(t,n){const e=t.className.split(ce);K(e,n)||(M(e,n),t.className=V(e,ce))},re=function(t,n){const e=t.className.split(ce);F(e,n)&&(t.className=V(e,ce))}),!m.addEventListener)){const e="propertychange";ee=function(t,n,i){"input"===n?ee(t,e,i[ue]=function(t){t.propertyName===f&&((t=new R(t)).type="input",D(i,this,t))}):n===$&&o(t)?ee(t,y,i[ue]=function(t){(t=new R(t)).type=$,D(i,this,t)}):t.attachEvent(`on${n}`,i)},oe=function(t,n,i){"input"===n?(oe(t,e,i[ue]),delete i[ue]):n===$&&o(t)?(oe(t,y,i[ue]),delete i[ue]):t.detachEvent(`on${n}`,i)};const o=function(t){return"INPUT"===t.tagName&&("radio"===t.type||"checkbox"===t.type)};class i{constructor(t,n){Nt(this,t),this.currentTarget=n,this.target=t.srcElement||n,this.originalEvent=t}preventDefault(){this.originalEvent.returnValue=n}stopPropagation(){this.originalEvent.cancelBubble=t}}Qn="innerText",se=function(t,n){return new i(t,n)},ne=function(t){35===ut(t,0)&&(t=it(t,1));const n=m.getElementById(t);if(n)return n}}const ce=" ",ue="$emitter",fe="styleSheet",ae={svg:"http://www.w3.org/2000/svg"},le={};function de(t){return m.createComment(t)}function pe(t,e,o){if(E(o))Rt(t,e,o,n);else{const n=Dt(t,e);if(n)return n.value}}function he(t,n,o){if(E(o))t.setAttribute(n,o);else{const o=t.getAttribute(n);if(o!=e)return o}}function me(t,n){t.appendChild(n)}le[b]={on(e,o){let i=n;be(e,"compositionstart",o.compositionstart=function(){i=t}),be(e,"compositionend",o.compositionend=function(t){i=n,o(t)}),ee(e,"input",o.input=function(t){i||o(t)})},off(t,n){xe(t,"compositionstart",n.compositionstart),xe(t,"compositionend",n.compositionend),oe(t,"input",n.input),n.compositionstart=n.compositionend=n.input=o}};const ve=ne;function ge(t,n,e,o){if(!E(n))return t[te];e&&Ut(t,fe)?t[fe].cssText=n:(o&&(t.value=n),t[te]=n)}const ye=ie,$e=re;function be(t,n,e){const o=t[ue]||(t[ue]=new Qt),i=o.nativeListeners||(o.nativeListeners={});if(!i[n]){const e=le[n],r=function(e){const i=e instanceof R?e:new R(e.type,se(e,t));i.type!==n&&(i.type=n),o.fire(n,[i])};i[n]=r,e?e.on(t,r):ee(t,n,r)}o.on(n,e)}function xe(t,n,e){const i=t[ue],{listeners:r,nativeListeners:s}=i;if(i.off(n,e),s&&!i.has(n)){const e=le[n],o=s[n];e?e.off(t,o):oe(t,n,o),delete s[n]}It(r)&&(t[ue]=o)}var ke=Object.freeze({createElement:function(t,n){return n?m.createElementNS(ae.svg,t):m.createElement(t)},createText:function(t){return m.createTextNode(t)},createComment:de,prop:pe,removeProp:function(t,e,o){Rt(t,e,o===ln?n:C,n)},attr:he,removeAttr:function(t,n){t.removeAttribute(n)},before:function(t,n,e){t.insertBefore(n,e)},append:me,replace:function(t,n,e){t.replaceChild(n,e)},remove:function(t,n){t.removeChild(n)},parent:function(t){const{parentNode:n}=t;if(n)return n},next:function(t){const{nextSibling:n}=t;if(n)return n},find:ve,tag:function(t){if(1===t.nodeType)return at(t.tagName)},text:function(t,n,e,o){if(!E(n))return t[Qn];e&&Ut(t,fe)?t[fe].cssText=n:(o&&(t.value=n),t[Qn]=n)},html:ge,addClass:ye,removeClass:$e,on:be,off:xe,addSpecialEvent:function(t,n){le[t]=n}});class we{static build(n,e,o){let i,r,s=t,c=t,u=[];if(T(o)?i=o:P(o)&&(N(o.cache)&&(s=o.cache),N(o.sync)&&(c=o.sync),O(o.deps)&&(u=Lt(o.deps)),T(o.get)&&(i=o.get),T(o.set)&&(r=o.set)),i)return new we(n,c,s,u,e,i,r)}constructor(n,e,o,i,r,s,c){const u=this;u.keypath=n,u.cache=o,u.deps=i,u.context=r.context,u.observer=r,u.getter=s,u.setter=c,u.unique={},u.watcher=function(e,o,i){const s=u.value,c=u.get(t);c!==s&&r.diff(n,c,s)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!X(i))&&U(i,function(t){r.watch(t,u.watcherOptions)})}get(t){const n=this,{getter:e,context:o}=n;if(n.cache){if(t||!Ut(n,f))if(n.fixed)n.value=D(e,o);else{n.unbind();const t=we.current;we.current=n,n.value=D(e,o),n.bind(),we.current=t}}else n.value=D(e,o);return n.value}set(t){const{setter:n,context:e}=this;n&&n.call(e,t)}add(n){this.unique[n]=t}bind(){const{unique:t,deps:n,observer:e,watcherOptions:o}=this;St(t,function(t,i){M(n,i),e.watch(i,o)}),this.unique={}}unbind(){const{deps:n,observer:e,watcher:o}=this;U(n,function(t){e.unwatch(t,o)},t),n.length=0}}function Ce(t,e){let o;return U(t,function(t){const i=bt(e,t);if(i>=0)return o={name:t,prop:it(e,i)},n}),o}function Ee(t,n){if(t==e||n===C)return t;const o=Dt(t,n);return o?o.value:void 0}function Ae(n,e,i,r,s){const c=function(t,e,o){if(e!==o){const i=kt(n,t);U(r,function(t){E(Ct(i,t))&&s(t,i,e,o)}),Ae(i,e,o,r,s)}};(function(n,e,i){const r=S(n),s=S(e);if(r||s)return i(a,r?n.length:o,s?e.length:o),t})(e,i,c)||function(n,e,i){const r=O(n),s=O(e);if(r||s){const c=r?n.length:o,u=s?e.length:o;i(a,c,u);for(let t=0,r=Math.max(c||0,u||0);t<r;t++)i(""+t,n?n[t]:o,e?e[t]:o);return t}}(e,i,c)||function(t,n,e){const o=P(t),i=P(n);(o||i)&&(t=o?t:k,n=i?n:k,o&&St(t,function(t,o){t!==n[o]&&e(o,t,n[o])}),i&&St(n,function(n,o){n!==t[o]&&e(o,t[o],n)}))}(e,i,c)}function Te(t,n,e,o,i,r){let s;St(o,function(o,c){if(wt(c))return void(E(Ct(t,c))?r(c,t,n,e):i&&(s?M(s,c):s=[c]));const u=bt(c,t);if(u>=0){const t=it(c,u),o=Ee(n,t),i=Ee(e,t);o!==i&&r(c,c,o,i)}}),s&&Ae(t,n,e,s,r)}function Oe(t,n,e){if(e.count&&n)return e.count--,n[0]!==n[1]}const Pe={watcher:x};function Se(n,e){return T(n)?(Pe.watcher=n,Pe.immediate=e===t,Pe):n&&n.watcher?n:void 0}class ze{constructor(t,n){this.data=t||{},this.context=n||this,this.nextTask=new fn,this.syncEmitter=new Qt,this.asyncEmitter=new Qt,this.asyncChanges={}}get(t,n,e){const o=we.current,{data:i,computed:r,reversedComputedKeys:s}=this;if(t===C)return i;let c,u;if(o&&!e&&o.add(t),r){if(u=r[t])return u.get();if(s){const n=Ce(s,t);n&&n.prop&&(c=Dt(r[n.name].get(),n.prop))}}return c||(c=Dt(i,t)),c?c.value:n}set(t,n){const e=this,{data:o,computed:i,reversedComputedKeys:r}=e,s=function(t,n){const s=e.get(n);if(t===s)return;let c;if(i&&((c=i[n])&&c.set(t),r)){const e=Ce(r,n);if(e&&e.prop&&(c=i[e.name])){const n=c.get();P(n)&&Rt(n,e.prop,t)}}c||Rt(o,n,t),e.diff(n,t,s)};S(t)?s(n,t):P(t)&&St(t,s)}diff(n,e,i){const r=this,{syncEmitter:s,asyncEmitter:c,asyncChanges:u}=r,f=36!==ut(n);Te(n,e,i,s.listeners,f,function(t,n,e,o){s.fire(t,[e,o,n])}),Te(n,e,i,c.listeners,f,function(n,e,i,s){U(c.listeners[n],function(t){t.count++});const{keypaths:f}=u[e]||(u[e]={value:s,keypaths:[]});K(f,n)||M(f,n),r.pending||(r.pending=t,r.nextTask.append(function(){r.pending&&(r.pending=o,r.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:n,asyncChanges:e}=t;t.asyncChanges={},St(e,function(e,o){const i=[t.get(o),e.value,o];U(e.keypaths,function(t){n.fire(t,i,Oe)})})}addComputed(n,e){const o=this,i=we.build(n,o,e);if(i)return o.computed||(o.computed={}),o.computed[n]=i,o.reversedComputedKeys=Pt(o.computed,t),i}removeComputed(n){const e=this,{computed:o}=e;o&&Ut(o,n)&&(delete o[n],e.reversedComputedKeys=Pt(o,t))}watch(t,n,e){const i=this,{context:r,syncEmitter:s,asyncEmitter:c}=i,u=function(t,n){const e=n.sync?s:c,u={fn:n.watcher,ctx:r,count:0};n.once&&(u.max=1),e.on(t,u),n.immediate&&D(n.watcher,r,[i.get(t),o,t])};S(t)?u(t,Se(n,e)):St(t,function(t,n){u(n,Se(t))})}unwatch(t,n){this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)}toggle(t){const n=!this.get(t);return this.set(t,n),n}increase(t,n,e){const o=Xn(this.get(t),0)+(n||1);if(!z(e)||o<=e)return this.set(t,o),o}decrease(t,n,e){const o=Xn(this.get(t),0)-(n||1);if(!z(e)||o>=e)return this.set(t,o),o}insert(e,o,i){let r=this.get(e);r=O(r)?Lt(r):[];const{length:s}=r;if(i===t||i===s)r.push(o);else if(i===n||0===i)r.unshift(o);else{if(!(i>0&&i<s))return;r.splice(i,0,o)}return this.set(e,r),t}append(n,e){return this.insert(n,e,t)}prepend(t,e){return this.insert(t,e,n)}removeAt(n,e){let o=this.get(n);if(O(o)&&e>=0&&e<o.length)return(o=Lt(o)).splice(e,1),this.set(n,o),t}remove(n,e){let o=this.get(n);if(O(o)&&F(o=Lt(o),e))return this.set(n,o),t}copy(t,n){return Lt(t,n)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),zt(this)}}function Ne(t,n,e){let i;return function(){if(!i){const r=G(arguments);e&&D(t,o,r),i=setTimeout(function(){i=o,e||D(t,o,r)},n)}}}var je=Object.freeze({bind:function(n,e,o){let{name:i,handler:r}=e,{lazy:s}=o;if(r){if(s){const n=s[i]||s[C];n===t?i=$:n>0&&(r=Ne(r,n,i===y||i===g))}o.isComponent?(n.on(i,r),o.data[e.key]=function(){n.off(i,r)}):(be(n,i,r),o.data[e.key]=function(){xe(n,i,r)})}},unbind:function(t,n,e){D(e.data[n.key])}});function Le(n,e){return e&&e!==t?Ne(n,e):n}const De={set(t,n){t.value=_t(n)},sync(t,n,e){e.set(n,t.value)},name:f},Re={set(t,e){U(G(t.options),t.multiple?function(t){t.selected=K(e,t.value,n)}:function(o,i){if(o.value==e)return t.selectedIndex=i,n})},sync(t,n,e){const{options:o}=t;if(t.multiple){const t=[];U(G(o),function(n){n.selected&&M(t,n.value)}),e.set(n,t)}else e.set(n,o[t.selectedIndex].value)},name:f},Ue={radio:{set(t,n){t.checked=t.value===_t(n)},sync(t,n,e){t.checked&&e.set(n,t.value)},name:"checked"},checkbox:{set(t,e){t.checked=O(e)?K(e,t.value,n):!!e},sync(t,e,o){const i=o.get(e);O(i)?t.checked?o.append(e,t.value):o.removeAt(e,Y(i,t.value,n)):o.set(e,t.checked)},name:"checked"}},Ie=t;var We=Object.freeze({once:Ie,bind:function(n,e,i){let r,s,c,{context:u,lazy:f,isComponent:a}=i,l=e.binding,d=f&&(f[dn]||f[C]);if(a){let t=n,e=t.$model;r=function(n){r&&t.set(e,n)},s=Le(function(t){u.set(l,t)},d),c=function(){t.unwatch(e,s)},t.watch(e,s)}else{let o=n,f="select"===i.tag?Re:De,a=$;if(f===De){const e=n.type;Ue[e]?f=Ue[e]:d!==t&&(a=b)}r=function(t){r&&f.set(o,t)},s=Le(function(){f.sync(o,l,u)},d),c=function(){xe(o,a,s)},be(o,a,s),f.set(o,e.value)}u.watch(l,r),i.data[e.key]=function(){u.unwatch(l,r),r=o,c()}},unbind:function(t,n,e){D(e.data[n.key])}});const _e=t;var Me=Object.freeze({once:_e,bind:function(t,n,e){let i=n.binding,r=wt(i),s=function(o,c,u){if(s){const s=r?Ct(u,i):n.name;if(e.isComponent){const n=t;n.checkProp(s,o),n.set(s,o)}else{const e=t;E(n.hint)?pe(e,s,o):he(e,s,o)}}};e.context.watch(i,s),e.data[n.key]=function(){e.context.unwatch(i,s),s=o}},unbind:function(t,n,e){D(e.data[n.key])}});const He={},Ye={},qe={},Be={},Fe={},Ke="$$",Ge=/^[#.][-\w+]+$/;class Ve{constructor(e){const f=this,a=e||k;f.$emitter=new Qt(t),a.events&&f.on(a.events),a.parent&&(f.$parent=a.parent),D(a[yn],f,a),f.fire(yn+gn,a);let{data:d,props:p,vnode:h,propTypes:m,computed:v,methods:g,watchers:y,extensions:$}=a;f.$options=a,$&&Nt(f,$);const b=p?Lt(p):{};m&&St(m,function(t,n){let e=b[n];A(e)&&E(e=t.value)&&(b[n]=t.type===l?e:T(e)?e():e)});const x=f.$observer=new ze(b,f);v&&St(v,function(t,n){x.addComputed(n,t)});const w=T(d)?D(d,f,e):d;P(w)&&St(w,function(t,n){b[n]=t}),g&&St(g,function(t,n){f[n]=t});{let e=o,{el:l,root:d,model:p,context:m,replace:v,template:g,transitions:$,components:k,directives:w,partials:E,filters:A,slots:T}=a;if(p&&(f.$model=p),T&&Nt(b,T),S(g)&&Ge.test(g)&&(e=ve(g))&&(g=ge(e),e=o),l){if(S(l)){const t=l;Ge.test(t)&&(e=ve(t))}else e=l;v||me(e,e=de(C))}if(d&&(f.$root=d),m&&(f.$context=m),Ze(f,u,$),Ze(f,s,k),Ze(f,c,w),Ze(f,r,E),Ze(f,i,A),g){const o=y?Lt(y):{};return o[Ke]={sync:t,watcher:function(t){f.update(t,f.$vnode)}},x.addComputed(Ke,{sync:n,get:function(){return f.render()}}),Xe(f,o),f.$template=S(g)?Ve.compile(g):g,h||(h=function(t,n,e,o){return{tag:t.tag(n),data:Mn(),node:n,context:e,keypath:o}}(ke,e,f,C)),void f.update(f.get(Ke),h)}}Xe(f,y)}static use(t){t.install(Ve)}static create(t){return t}static nextTick(t,n){fn.shared().append(t,n)}static compile(t,n){return C}static directive(t,n){if(S(t)&&!n)return no(He,t);eo(He,t,n)}static transition(t,n){if(S(t)&&!n)return no(Ye,t);eo(Ye,t,n)}static component(t,n){if(S(t)&&!n)return no(qe,t);eo(qe,t,n)}static partial(t,n){if(S(t)&&!n)return no(Be,t);eo(Be,t,n,Ve.compile)}static filter(t,n){if(S(t)&&!n)return no(Fe,t);eo(Fe,t,n)}addComputed(t,n){return this.$observer.addComputed(t,n)}removeComputed(t){this.$observer.removeComputed(t)}get(t,n,e){return this.$observer.get(t,n,e)}set(t,n){const{$observer:e}=this;e&&e.set(t,n)}on(t,n){return Qe(this,t,n)}once(n,e){return Qe(this,n,e,t)}off(t,n){return this.$emitter.off(t,n),this}fire(n,e,o){let i,r=this,s=n instanceof R?n:new R(n),c=[s];if(s.target||(s.target=r),P(e)?M(c,e):e===t&&(o=t),i=r.$emitter.fire(s.type,c)){const{$parent:n,$children:c}=r;o?c&&(s.phase=R.PHASE_DOWNWARD,U(c,function(n){return i=n.fire(s,e,t)})):n&&(s.phase=R.PHASE_UPWARD,i=n.fire(s,e))}return i}watch(t,n,e){return this.$observer.watch(t,n,e),this}unwatch(t,n){return this.$observer.unwatch(t,n),this}loadComponent(t,n){to(this.$components,t,n)||to(qe,t,n)}createComponent(n,e){{const o=this;(n=Lt(n)).root=o.$root||o,n.parent=o,n.context=e.context,n.vnode=e,n.replace=t;let{props:i,slots:r,directives:s}=e,c=s&&s[dn];if(c){i||(i={});const t=n.model||vn;i[t]=c.value,n.model=t}i&&(n.props=i),r&&(n.slots=r);const u=new Ve(n);M(o.$children||(o.$children=[]),u);const f=u.$el;return f&&(e.node=f),u}}directive(t,n){{const e=this,{$directives:o}=e;if(S(t)&&!n)return no(o,t,Ve.directive);eo(o||(e.$directives={}),t,n)}}transition(t,n){{const e=this,{$transitions:o}=e;if(S(t)&&!n)return no(o,t,Ve.transition);eo(o||(e.$transitions={}),t,n)}}component(t,n){{const e=this,{$components:o}=e;if(S(t)&&!n)return no(o,t,Ve.component);eo(o||(e.$components={}),t,n)}}partial(t,n){{const e=this,{$partials:o}=e;if(S(t)&&!n)return no(o,t,Ve.partial);eo(o||(e.$partials={}),t,n,Ve.compile)}}filter(t,n){{const e=this,{$filters:o}=e;if(S(t)&&!n)return no(o,t,Ve.filter);eo(o||(e.$filters={}),t,n)}}forceUpdate(n){{const e=this,{$vnode:o,$observer:i}=e,{computed:r}=i;if(o&&r){const s=r[Ke],c=s.get();n&&e.set(n),i.nextTask.run(),n||c!==s.get()||e.update(s.get(t),o)}}}render(){{const n=this;return function(n,i,r,s,c,u){let f,a={$keypath:C},l=[a],p=[],h={},m=function(t,i,s,c,u,f){let a=t[i],l=kt(a.$keypath,s),d=t,p=Et;if(A(f)&&(f=l),E(a[s])?d=a[s]:E(a.$item)&&(a=a.$item,s===C?d=a:a!=e&&E(a[s])&&(d=a[s])),d===t&&(d=n.get(l,t,u))===t){if(c&&i>0)return m(t,i-1,s,c,u,f);const n=Dt(r,s);return n?(p=n).keypath=s:(p.value=o,p.keypath=f),p}return p.value=d,p.keypath=l,p},v=function(t,e,i){return function(r,s){const c=n[t];if(r instanceof R){let t=o;if(e){const u=q(i);u&&(u.$event=r,u.$data=s,t=D(c,n,e(i)),u.$event=u.$data=o)}else t=D(c,n,s?[r,s]:r);return t}D(c,n,e?e(i):o)}},g=function(t,n){return function(){return t(n)}},y=function(e){const o=q(p);if(o){const i=q(o);i&&i.isText?i.text+=e:M(o,{isText:t,text:e,context:n,keypath:a.$keypath})}},$=function(t,n){f.isComponent?Zn(f,"props",t,n):Zn(f,"nativeAttrs",t,{name:t,value:n})},b=function(t,n,e){Zn(f,"nativeProps",t,{name:t,value:e,hint:n})},x=function(t,n){Zn(f,"lazy",t,n)},k=function(t){f.transition=u[t]},w=function(t,n,e){const o=kt(hn,t);return Zn(f,Jn,o,{ns:hn,name:t,key:o,hooks:c[hn],binding:n.keypath,hint:e}),n.value},T=function(t){Zn(f,Jn,dn,{ns:dn,name:C,key:dn,value:t.value,binding:t.keypath,hooks:c[dn]})},S=function(t,n,e,o,i){Zn(f,Jn,n,{ns:pn,name:t,key:n,value:e,hooks:c[pn],handler:v(o,i,l)})},z=function(t,e,o,i){var r;Zn(f,Jn,e,{ns:pn,name:t,key:e,value:o,hooks:c[pn],handler:(r=i,function(t,e){r!==t.type&&(t=new R(r,t)),n.fire(t,e)})})},N=function(t,n,e,i,r,s){const u=c[t];Zn(f,Jn,n,{ns:mn,name:t,key:n,value:e,hooks:u,getter:s?g(s,l):o,handler:i?v(i,r,l):o})},j=function(t){const{value:n,keypath:o}=t;if(n!=e&&P(n)&&!O(n)&&(St(n,function(t,n){Zn(f,"props",n,t)}),o)){const t=kt(hn,o);Zn(f,Jn,t,{ns:hn,name:C,key:t,hooks:c[hn],binding:kt(o,d)})}},L=function(t,e,i,r,s){if(e){const o=n.get(e);t.tag=o}if(i&&(f=t,i(),f=o),r)p.push(t.children=[]),r(),B(p);else if(s){const n={};St(s,function(t,e){p.push([]),t();const i=B(p);n[e]=i.length?i:o}),t.slots=n}t.context=n,t.keypath=a.$keypath;const c=q(p);return c&&M(c,t),t},I=function(t,n,e,o,i,r){const s=r||l,c=m(s,s.length-((e||0)+1),t,n,i);return o?c:c.value},W=function(t,n){return H(n,t),V(n,$t)},_=function(t,n,e,i){E(e)&&(n=V(e,$t));const r=Dt(t,n);return Et.keypath=o,Et.value=r?r.value:o,i?Et:Et.value},Y=function(t,e,i){return Et.keypath=o,Et.value=D(t,n,e||o),i?Et:Et.value},F=function(t,e){const o=q(p),i=n.get(t);o&&(i?U(i,function(e){M(o,e),e.slot=t,e.parent=n}):e&&e())},K=function(t,n){h[t]=n},G=function(t){if(h[t])h[t]();else{const n=s[t];n&&n(I,W,_,Y,y,$,b,x,k,w,T,S,z,N,j,L,F,K,G,Z,_t)}},X=function(t,n,e,o,i,r){const s=a,c=l;a={$keypath:o},l=c.concat(a),E(r)&&(a.$length=r),i&&(a[i]=e),o||(a.$item=n),t(),a=s,l=c},Z=function(t,n,e,o,i){const r=n.value,s=n.keypath;if(e){let n=e.value,s=0;if(r<n)if(o)for(let e=r;e<=n;e++)X(t,e,s++,C,i);else for(let e=r;e<n;e++)X(t,e,s++,C,i);else if(o)for(let e=r;e>=n;e--)X(t,e,s++,C,i);else for(let e=r;e>n;e--)X(t,e,s++,C,i)}else if(O(r))for(let n=0,e=r.length;n<e;n++)X(t,r[n],n,s?kt(s,C+n):C,i,e);else if(P(r))for(let n in r)X(t,r[n],n,s?kt(s,n):C,i)};return i(I,W,_,Y,y,$,b,x,k,w,T,S,z,N,j,L,F,K,G,Z,_t)}(n,n.$template,jt(n.$filters,Fe),jt(n.$partials,Be),jt(n.$directives,He),jt(n.$transitions,Ye))}}update(t,n){{let e,o=this,{$vnode:i,$options:r}=o;o.$refs={},i?(D(r[kn],o),o.fire(kn+gn),Vn(ke,t,n),e=wn):(D(r[bn],o),o.fire(bn+gn),Vn(ke,t,n),o.$el=t.node,e=xn),o.$vnode=t,Ve.nextTick(function(){o.$vnode&&(D(r[e],o),o.fire(e+gn))})}}checkProps(t){}checkProp(t,n){}destroy(){const t=this,{$parent:n,$options:e,$emitter:i,$observer:r}=t;{D(e[Cn],t),t.fire(Cn+gn);const{$vnode:i}=t;n&&n.$children&&F(n.$children,t),i&&(t.$vnode=o,function(t,n,e){if(e){const e=t.parent(n.node);e&&Fn(t,e,n)}else Kn(t,n)}(ke,i,!n))}r.destroy(),D(e[En],t),t.fire(En+gn),i.off(),zt(t)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,n,e){return this.$observer.increase(t,n,e)}decrease(t,n,e){return this.$observer.decrease(t,n,e)}insert(t,n,e){return this.$observer.insert(t,n,e)}append(t,n){return this.$observer.append(t,n)}prepend(t,n){return this.$observer.prepend(t,n)}removeAt(t,n){return this.$observer.removeAt(t,n)}remove(t,n){return this.$observer.remove(t,n)}copy(t,n){return this.$observer.copy(t,n)}}function Xe(t,n){n&&t.watch(n),D(t.$options[$n],t),t.fire($n+gn)}function Ze(t,n,e){T(e)?t[n](D(e,t)):P(e)&&t[n](e)}function Je(t,n,e,o){const i={fn:e,ctx:t};o&&(i.max=1),t.$emitter.on(n,i)}function Qe(t,n,e,o){return S(n)?Je(t,n,e,o):St(n,function(n,e){Je(t,e,n,o)}),t}function to(n,e,o){if(n&&n[e]){const i=n[e];if(T(i)){n[e]=[o];const t=function(t){const o=n[e],i=t.default||t;n[e]=i,U(o,function(t){t(i)})},r=i(t);r&&r.then(t)}else O(i)?M(i,o):o(i);return t}}function no(t,n,e){return t&&t[n]?t[n]:e?e(n):void 0}function eo(t,n,e,o){S(n)?t[n]=o?o(e):e:St(n,function(n,e){t[e]=o?o(n):n})}Ve.version="1.0.0-alpha.79",Ve.is=L,Ve.dom=ke,Ve.array=Z,Ve.object=Wt,Ve.string=pt,Ve.logger=Jt,Ve.Event=R,Ve.Emitter=Qt,Ve.directive({event:je,model:We,binding:Me}),Ve.filter({hasSlot:function(t){return E(this.get(an+t))}});export default Ve;
//# sourceMappingURL=yox.esm.min.js.map
