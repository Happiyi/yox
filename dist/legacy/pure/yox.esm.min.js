const t=!0,n=!1,e=null,r=void 0,i="value",s="length",o="function",c="*",u=-1,f="undefined"!=typeof window?window:r,a="undefined"!=typeof global?global:f,h=function(){},l=Object.freeze({}),p=Object.freeze([]),d="";function g(t){return t!==r}function m(t){return typeof t===o}function v(t){return Array.isArray(t)}function y(t){return t!==e&&"object"==typeof t}function b(t){return"string"==typeof t}function w(t){return"number"==typeof t}function x(t){return"boolean"==typeof t}function $(t){return w(t)||b(t)&&!isNaN(parseFloat(t))&&isFinite(t)}var E=Object.freeze({func:m,array:v,object:y,string:b,number:w,boolean:x,numeric:$});function A(t,n,e){if(m(t))return v(e)?t.apply(n,e):g(n)?t.call(n,e):g(e)?t(e):t()}class O{constructor(t,n){this.type=t,this.phase=O.PHASE_CURRENT,n&&(this.originalEvent=n)}preventDefault(){const n=this;if(!n.isPrevented){const{originalEvent:e}=n;e&&e.preventDefault(),n.isPrevented=t}return n}stopPropagation(){const n=this;if(!n.isStoped){const{originalEvent:e}=n;e&&e.stopPropagation(),n.isStoped=t}return n}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}function k(t,e,r){const{length:i}=t;if(i)if(r)for(let r=i-1;r>=0&&e(t[r],r,i)!==n;r--);else for(let r=0;r<i&&e(t[r],r,i)!==n;r++);}function C(t,n){t[t.length]=n}function P(t,n){t.unshift(n)}function j(t,n,e){v(n)?k(n,function(n){e(t,n)}):e(t,n)}function R(t,n){j(t,n,C)}function z(t,n){j(t,n,P)}function S(t,e,r){let i=u;return k(t,function(t,s){if(r===n?t==e:t===e)return i=s,n}),i}function T(e,r,i){let s=0;return k(e,function(t,o){(i===n?t==r:t===r)&&(e.splice(o,1),s++)},t),s}function D(t,n,e){return S(t,n,e)>=0}function W(t){return!v(t)||!t.length}O.PHASE_CURRENT=0,O.PHASE_UPWARD=1,O.PHASE_DOWNWARD=u;var N=Object.freeze({each:k,push:R,unshift:z,indexOf:S,last:function(t){const{length:n}=t;if(n>0)return t[n-1]},pop:function(t){const{length:n}=t;if(n>0)return t.pop()},remove:T,has:D,toArray:function(t){return v(t)?t:A(p.slice,t)},toObject:function(t,n,e){let r={};return k(t,function(t){r[n?t[n]:t]=e||t}),r},join:function(t,n){return t.join(n)},falsy:W});const _=/-([a-z])/gi,U=/\B([A-Z])/g,H=/^[a-z]/,I={},Y={},L={};function M(t,n,e){return w(e)?n===e?d:t.slice(n,e):t.slice(n)}function q(t,n,e){return t.indexOf(n,g(e)?e:0)}function F(t,n,e){return t.lastIndexOf(n,g(e)?e:t.length)}function K(t,n){return 0===q(t,n)}function B(t,n){return t.charCodeAt(n||0)}function G(t){return t.toUpperCase()}function V(t){return t.toLowerCase()}function X(t,n){return q(t,n)>=0}function Z(t){return!b(t)||!t.length}var J=Object.freeze({camelize:function(t){return I[t]||(I[t]=t.replace(_,function(t,n){return G(n)})),I[t]},hyphenate:function(t){return Y[t]||(Y[t]=t.replace(U,function(t,n){return"-"+V(n)})),Y[t]},capitalize:function(t){return L[t]||(L[t]=t.replace(H,G)),L[t]},trim:function(t){return Z(t)?d:t.trim()},slice:M,indexOf:q,lastIndexOf:F,startsWith:K,endsWith:function(t,n){const e=t.length-n.length;return e>=0&&F(t,n)===e},charAt:function(t,n){return t.charAt(n||0)},codeAt:B,upper:G,lower:V,has:X,falsy:Z});const Q=/\./g,tt=/\*/g,nt=/\*\*/g,et={},rt={},it=".";function st(t,n){return t===n?n.length:K(t,n+=it)?n.length:u}function ot(t,e){const r=g(et[t])?et[t]:et[t]=t.split(it);for(let t=0,i=r.length-1;t<=i&&e(r[t],t===i)!==n;t++);}function ct(t,n){let e=rt[n];if(!e){const t=n.replace(Q,"\\.").replace(tt,"(\\w+)").replace(nt,"([.\\w]+?)");e=rt[n]=new RegExp(`^${t}$`)}const r=t.match(e);if(r)return r[1]}const ut={value:r};function ft(t){return Object.keys(t)}function at(t,n){return t.length-n.length}function ht(t,n){return n.length-t.length}function lt(t,n){return ft(t).sort(n?ht:at)}function pt(t,e){for(let r in t)if(e(t[r],r)===n)break}function dt(t){pt(t,function(n,e){delete t[e]})}function gt(t,n){return pt(n,function(n,e){t[e]=n}),t}function mt(t,n){let e=t;return v(t)?n?(e=[],k(t,function(t,r){e[r]=mt(t,n)})):e=t.slice():y(t)&&(e={},pt(t,function(t,r){e[r]=n?mt(t,n):t})),e}function vt(t,i){return ot(i,function(i,s){if(t==e)return t=r,n;{let n=t[i],e=g(n);n&&m(n.get)&&(n=n.get()),s?e?(ut.value=n,t=ut):t=r:t=n}}),t}function yt(t,e,r,i){ot(e,function(e,s){if(s)t[e]=r;else if(t[e])t=t[e];else{if(!i)return n;t=t[e]={}}})}function bt(t,n){return g(t[n])}var wt=Object.freeze({keys:ft,sort:lt,each:pt,clear:dt,extend:gt,merge:function(t,n){return t&&n?gt(gt({},t),n):t||n},copy:mt,get:vt,set:yt,has:bt,falsy:function(t){return!y(t)||v(t)||!ft(t).length}});function xt(t,n){return t!=e&&t.toString?t.toString():g(n)?n:d}const $t=1,Et=2,At=3,Ot=4,kt=5,Ct="undefined"!=typeof console?console:e,Pt=/yox/.test(xt(h))?$t:At,jt=f&&/edge|msie|trident/i.test(f.navigator.userAgent)?d:"%c",Rt=Ct?jt?function(t,n,e){Ct.log(jt+t,e,n)}:function(t,n){Ct.log(t,n)}:h;function zt(){if(a){const t=a.YOX_LOG_LEVEL;if(t>=$t&&t<=kt)return t}return Pt}function St(t){return`background-color:${t};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}var Tt=Object.freeze({DEBUG:$t,INFO:Et,WARN:At,ERROR:Ot,FATAL:kt,debug:function(t,n){zt()<=$t&&Rt(n||"Yox debug",t,St("#999"))},info:function(t,n){zt()<=Et&&Rt(n||"Yox info",t,St("#2db7f5"))},warn:function(t,n){zt()<=At&&Rt(n||"Yox warn",t,St("#f90"))},error:function(t,n){zt()<=Ot&&Rt(n||"Yox error",t,St("#ed4014"))},fatal:function(t,n){if(zt()<=kt)throw new Error(`[${n||"Yox fatal"}]: ${t}`)}});class Dt{constructor(t){this.ns=t||n,this.listeners={}}fire(e,i,s){let o=this,{name:c,ns:u}=Wt(o.ns,e),f=o.listeners[c],a=t;if(f){f=mt(f);const t=i&&i[0]instanceof O?i[0]:r;k(f,function(c,h){if(!Ut(u,c)||!D(f,c)||s&&!s(e,i,c))return;t&&(t.listener=c.fn);let l=A(c.fn,c.ctx,i);return t&&(t.listener=r),c.num=c.num?c.num+1:1,c.num===c.max&&o.off(e,c.fn),t&&(l===n?t.prevent().stop():t.isStoped&&(l=n)),l===n?a=n:void 0})}return a}on(t,n){const e=this,{listeners:r}=e,i=m(n)?{fn:n}:n;if(y(i)&&m(i.fn)){const{name:n,ns:s}=Wt(e.ns,t);i.ns=s,R(r[n]||(r[n]=[]),i)}}off(n,e){const r=this,{listeners:i}=r;if(n){const{name:s,ns:o}=Wt(r.ns,n),c=_t(e),u=function(n,e){k(n,function(t,e){c(t)&&Ut(o,t)&&n.splice(e,1)},t),n.length||delete i[e]};s?i[s]&&u(i[s],s):o&&pt(i,u)}else r.listeners={}}has(e,r){let{listeners:i}=this,{name:s,ns:o}=Wt(this.ns,e),c=t,u=_t(r),f=function(t){return k(t,function(t){if(u(t)&&Ut(o,t))return c=n}),c};return s?i[s]&&f(i[s]):o&&pt(i,f),!c}}function Wt(t,n){const e={name:n,ns:d};if(t){const t=q(n,".");t>=0&&(e.name=M(n,0,t),e.ns=M(n,t+1))}return e}function Nt(n){return t}function _t(t){return m(t)?function(n){return t===n.fn}:Nt}function Ut(n,e){const{ns:r}=e;return r&&n?r===n:t}function Ht(t){return m(t)&&/native code/.test(xt(t))}let It;typeof setImmediate===o&&Ht(setImmediate)&&(It=setImmediate);var Yt=It=typeof MessageChannel===o&&Ht(MessageChannel)?function(t){const n=new MessageChannel;n.port1.onmessage=t,n.port2.postMessage(1)}:setTimeout;let Lt;class Mt{static shared(){return Lt||(Lt=new Mt)}constructor(){this.tasks=[]}append(t,n){const e=this,{tasks:r}=e;R(r,{fn:t,ctx:n}),1===r.length&&Yt(function(){e.run()})}prepend(t,n){const e=this,{tasks:r}=e;z(r,{fn:t,ctx:n}),1===r.length&&Yt(function(){e.run()})}clear(){this.tasks.length=0}run(){const{tasks:t}=this;t.length&&(this.tasks=[],k(t,function(t){A(t.fn,t.ctx)}))}}function qt(t,n){return $(t)?+t:g(n)?n:0}class Ft{constructor(n,e,r,i,s,o,c){const u=this;u.keypath=n,u.cache=r,u.deps=i,u.context=s.context,u.observer=s,u.getter=o,u.setter=c,u.unique={},u.watcher=function(e,r,i){const o=u.value,c=u.get(t);c!==o&&s.diff(n,c,o)},u.watcherOptions={sync:e,watcher:u.watcher},(u.fixed=!W(i))&&k(i,function(t){s.watch(t,u.watcherOptions)})}get(t){const n=this,{getter:e,context:r}=n;if(n.cache){if(t||!bt(n,i))if(n.fixed)n.value=A(e,r);else{n.unbind();const t=Ft.current;Ft.current=n,n.value=A(e,r),n.bind(),Ft.current=t}}else n.value=A(e,r);return n.value}set(t){const{setter:n,context:e}=this;n&&n.call(e,t)}add(n){this.unique[n]=t}bind(){const{unique:t,deps:n,observer:e,watcherOptions:r}=this;pt(t,function(t,i){R(n,i),e.watch(i,r)}),this.unique={}}unbind(){const{deps:n,observer:e,watcher:r}=this;k(n,function(t){e.unwatch(t,r)},t),n.length=0}}function Kt(t,e){let r;return k(t,function(t){const i=st(e,t);if(i>=0)return r={name:t,prop:M(e,i)},n}),r}function Bt(t,n){if(t==e||n===d)return t;const r=vt(t,n);return r?r.value:void 0}function Gt(n,e,i,o,c){const u=function(t,e,r){if(e!==r){const u=(s=t,(i=n)&&s?i+it+s:i||s);k(o,function(t){g(ct(u,t))&&c(t,u,e,r)}),Gt(u,e,r,o,c)}var i,s};(function(n,e,i){const o=b(n),c=b(e);if(o||c)return i(s,o?n.length:r,c?e.length:r),t})(e,i,u)||function(n,e,i){const o=v(n),c=v(e);if(o||c){const u=o?n.length:r,f=c?e.length:r;i(s,u,f);for(let t=0,s=Math.max(u||0,f||0);t<s;t++)i(""+t,n?n[t]:r,e?e[t]:r);return t}}(e,i,u)||function(t,n,e){const r=y(t),i=y(n);(r||i)&&(t=r?t:l,n=i?n:l,r&&pt(t,function(t,r){t!==n[r]&&e(r,t,n[r])}),i&&pt(n,function(n,r){n!==t[r]&&e(r,t[r],n)}))}(e,i,u)}function Vt(t,n,e,r,i,s){let o;pt(r,function(r,u){if(function(t){return X(t,c)}(u))return void(g(ct(t,u))?s(u,t,n,e):i&&(o?R(o,u):o=[u]));const f=st(u,t);if(f>=0){const t=M(u,f),r=Bt(n,t),i=Bt(e,t);r!==i&&s(u,u,r,i)}}),o&&Gt(t,n,e,o,s)}function Xt(t,n,e){if(e.count&&n)return e.count--,n[0]!==n[1]}const Zt={watcher:h};function Jt(n,e){return m(n)?(Zt.watcher=n,Zt.immediate=e===t,Zt):n&&n.watcher?n:void 0}class Qt{constructor(t,n){this.data=t||{},this.context=n||this,this.nextTask=new Mt,this.syncEmitter=new Dt,this.asyncEmitter=new Dt,this.asyncChanges={}}get(t,n,e){const r=Ft.current,{data:i,computed:s,reversedComputedKeys:o}=this;if(t===d)return i;let c,u;if(r&&!e&&r.add(t),s){if(u=s[t])return u.get();if(o){const n=Kt(o,t);n&&n.prop&&(c=vt(s[n.name].get(),n.prop))}}return c||(c=vt(i,t)),c?c.value:n}set(t,n){const e=this,{data:r,computed:i,reversedComputedKeys:s}=e,o=function(t,n){const o=e.get(n);if(t===o)return;let c;if(i&&((c=i[n])&&c.set(t),s)){const e=Kt(s,n);if(e&&e.prop&&(c=i[e.name])){const n=c.get();y(n)&&yt(n,e.prop,t)}}c||yt(r,n,t),e.diff(n,t,o)};b(t)?o(n,t):y(t)&&pt(t,o)}diff(n,e,i){const s=this,{syncEmitter:o,asyncEmitter:c,asyncChanges:u}=s,f=36!==B(n);Vt(n,e,i,o.listeners,f,function(t,n,e,r){o.fire(t,[e,r,n])}),Vt(n,e,i,c.listeners,f,function(n,e,i,o){k(c.listeners[n],function(t){t.count++});const{keypaths:f}=u[e]||(u[e]={value:o,keypaths:[]});D(f,n)||R(f,n),s.pending||(s.pending=t,s.nextTask.append(function(){s.pending&&(s.pending=r,s.diffAsync())}))})}diffAsync(){const t=this,{asyncEmitter:n,asyncChanges:e}=t;t.asyncChanges={},pt(e,function(e,r){const i=[t.get(r),e.value,r];k(e.keypaths,function(t){n.fire(t,i,Xt)})})}addComputed(n,e){let r,i,s=t,o=t,c=[];if(m(e))r=e;else if(y(e)){const t=e;x(t.cache)&&(s=t.cache),x(t.sync)&&(o=t.sync),v(t.deps)&&(c=mt(t.deps)),m(t.get)&&(r=t.get),m(t.set)&&(i=t.set)}if(r){const e=this,u=new Ft(n,o,s,c,e,r,i);return e.computed||(e.computed={}),e.computed[n]=u,e.reversedComputedKeys=lt(e.computed,t),u}}removeComputed(n){const e=this,{computed:r}=e;r&&bt(r,n)&&(delete r[n],e.reversedComputedKeys=lt(r,t))}watch(t,n,e){const i=this,{context:s,syncEmitter:o,asyncEmitter:c}=i,u=function(t,n){const e=n.sync?o:c,u={fn:n.watcher,ctx:s,count:0};n.once&&(u.max=1),e.on(t,u),n.immediate&&A(n.watcher,s,[i.get(t),r,t])};b(t)?u(t,Jt(n,e)):pt(t,function(t,n){u(n,Jt(t))})}unwatch(t,n){this.syncEmitter.off(t,n),this.asyncEmitter.off(t,n)}toggle(t){const n=!this.get(t);return this.set(t,n),n}increase(t,n,e){const r=qt(this.get(t),0)+(n||1);if(!w(e)||r<=e)return this.set(t,r),r}decrease(t,n,e){const r=qt(this.get(t),0)-(n||1);if(!w(e)||r>=e)return this.set(t,r),r}insert(e,r,i){let s=this.get(e);s=v(s)?mt(s):[];const{length:o}=s;if(i===t||i===o)s.push(r);else if(i===n||0===i)s.unshift(r);else{if(!(i>0&&i<o))return;s.splice(i,0,r)}return this.set(e,s),t}append(n,e){return this.insert(n,e,t)}prepend(t,e){return this.insert(t,e,n)}removeAt(n,e){let r=this.get(n);if(v(r)&&e>=0&&e<r.length)return(r=mt(r)).splice(e,1),this.set(n,r),t}remove(n,e){let r=this.get(n);if(v(r)&&T(r=mt(r),e))return this.set(n,r),t}copy(t,n){return mt(t,n)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),dt(this)}}class tn{constructor(n){const e=this,r=n||l;e.$emitter=new Dt(t),r.events&&e.on(r.events);let{data:i,props:s,vnode:o,propTypes:c,computed:u,methods:f,watchers:a,extensions:h}=r;e.$options=r,h&&gt(e,h);const p=s?mt(s):{},d=e.$observer=new Qt(p,e);u&&pt(u,function(t,n){d.addComputed(n,t)});const g=m(i)?A(i,e,n):i;y(g)&&pt(g,function(t,n){p[n]=t}),f&&pt(f,function(t,n){e[n]=t}),function(t,n){n&&t.watch(n)}(e,a)}static use(t){t.install(tn)}static define(t){return t}static nextTick(t,n){Mt.shared().append(t,n)}static compile(t,n){return d}static directive(t,n){}static transition(t,n){}static component(t,n){}static partial(t,n){}static filter(t,n){}get(t,n,e){return this.$observer.get(t,n,e)}set(t,n){const{$observer:e}=this;e&&e.set(t,n)}on(t,n){return en(this,t,n)}once(n,e){return en(this,n,e,t)}off(t,n){return this.$emitter.off(t,n),this}fire(n,e,r){let i,s=this,o=n instanceof O?n:new O(n),c=[o];if(o.target||(o.target=s),y(e)?R(c,e):e===t&&(r=t),i=s.$emitter.fire(o.type,c)){const{$parent:n,$children:c}=s;r?c&&(o.phase=O.PHASE_DOWNWARD,k(c,function(n){return i=n.fire(o,e,t)})):n&&(o.phase=O.PHASE_UPWARD,i=n.fire(o,e))}return i}watch(t,n,e){return this.$observer.watch(t,n,e),this}unwatch(t,n){return this.$observer.unwatch(t,n),this}loadComponent(t,n){}createComponent(t,n){return this}directive(t,n){}transition(t,n){}component(t,n){}partial(t,n){}filter(t,n){}forceUpdate(t){}render(){}update(t,n){}checkProps(t){}checkProp(t,n){}destroy(){const{$parent:t,$options:n,$emitter:e,$observer:r}=this;r.destroy(),e.off(),dt(this)}nextTick(t){this.$observer.nextTask.append(t,this)}toggle(t){return this.$observer.toggle(t)}increase(t,n,e){return this.$observer.increase(t,n,e)}decrease(t,n,e){return this.$observer.decrease(t,n,e)}insert(t,n,e){return this.$observer.insert(t,n,e)}append(t,n){return this.$observer.append(t,n)}prepend(t,n){return this.$observer.prepend(t,n)}removeAt(t,n){return this.$observer.removeAt(t,n)}remove(t,n){return this.$observer.remove(t,n)}copy(t,n){return this.$observer.copy(t,n)}}function nn(t,n,e,r){const i={fn:e,ctx:t};r&&(i.max=1),t.$emitter.on(n,i)}function en(t,n,e,r){return b(n)?nn(t,n,e,r):pt(n,function(n,e){nn(t,e,n,r)}),t}tn.version="1.0.0-alpha.84",tn.is=E,tn.array=N,tn.object=wt,tn.string=J,tn.logger=Tt,tn.Event=O,tn.Emitter=Dt;export default tn;
//# sourceMappingURL=yox.esm.min.js.map
